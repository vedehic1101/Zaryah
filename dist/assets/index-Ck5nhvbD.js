function Fw(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(n,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var It=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $l(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Vw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var bg={exports:{}},Fl={},wg={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ra=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Bw=Symbol.for("react.fragment"),zw=Symbol.for("react.strict_mode"),Ww=Symbol.for("react.profiler"),Hw=Symbol.for("react.provider"),qw=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Kw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Qw=Symbol.for("react.lazy"),Jf=Symbol.iterator;function Jw(e){return e===null||typeof e!="object"?null:(e=Jf&&e[Jf]||e["@@iterator"],typeof e=="function"?e:null)}var jg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Sg={};function Qs(e,t,r){this.props=e,this.context=t,this.refs=Sg,this.updater=r||jg}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Qs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kg(){}kg.prototype=Qs.prototype;function nh(e,t,r){this.props=e,this.context=t,this.refs=Sg,this.updater=r||jg}var sh=nh.prototype=new kg;sh.constructor=nh;Ng(sh,Qs.prototype);sh.isPureReactComponent=!0;var Xf=Array.isArray,_g=Object.prototype.hasOwnProperty,ih={current:null},Cg={key:!0,ref:!0,__self:!0,__source:!0};function Pg(e,t,r){var n,s={},a=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)_g.call(t,n)&&!Cg.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Ra,type:e,key:a,ref:o,props:s,_owner:ih.current}}function Xw(e,t){return{$$typeof:Ra,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ah(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ra}function Zw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Zf=/\/+/g;function _c(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zw(""+e.key):t.toString(36)}function To(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Ra:case Uw:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+_c(o,0):n,Xf(s)?(r="",e!=null&&(r=e.replace(Zf,"$&/")+"/"),To(s,t,r,"",function(u){return u})):s!=null&&(ah(s)&&(s=Xw(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Zf,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Xf(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+_c(a,l);o+=To(a,t,r,c,s)}else if(c=Jw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+_c(a,l++),o+=To(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ya(e,t,r){if(e==null)return e;var n=[],s=0;return To(e,n,"","",function(a){return t.call(r,a,s++)}),n}function e1(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ot={current:null},Ao={transition:null},t1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Ao,ReactCurrentOwner:ih};function Eg(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:Ya,forEach:function(e,t,r){Ya(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ya(e,function(){t++}),t},toArray:function(e){return Ya(e,function(t){return t})||[]},only:function(e){if(!ah(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=Qs;Q.Fragment=Bw;Q.Profiler=Ww;Q.PureComponent=nh;Q.StrictMode=zw;Q.Suspense=Kw;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=t1;Q.act=Eg;Q.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Ng({},e.props),s=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=ih.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)_g.call(t,c)&&!Cg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Ra,type:e.type,key:s,ref:a,props:n,_owner:o}};Q.createContext=function(e){return e={$$typeof:qw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Hw,_context:e},e.Consumer=e};Q.createElement=Pg;Q.createFactory=function(e){var t=Pg.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Gw,render:e}};Q.isValidElement=ah;Q.lazy=function(e){return{$$typeof:Qw,_payload:{_status:-1,_result:e},_init:e1}};Q.memo=function(e,t){return{$$typeof:Yw,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ao.transition;Ao.transition={};try{e()}finally{Ao.transition=t}};Q.unstable_act=Eg;Q.useCallback=function(e,t){return ot.current.useCallback(e,t)};Q.useContext=function(e){return ot.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return ot.current.useDeferredValue(e)};Q.useEffect=function(e,t){return ot.current.useEffect(e,t)};Q.useId=function(){return ot.current.useId()};Q.useImperativeHandle=function(e,t,r){return ot.current.useImperativeHandle(e,t,r)};Q.useInsertionEffect=function(e,t){return ot.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return ot.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return ot.current.useMemo(e,t)};Q.useReducer=function(e,t,r){return ot.current.useReducer(e,t,r)};Q.useRef=function(e){return ot.current.useRef(e)};Q.useState=function(e){return ot.current.useState(e)};Q.useSyncExternalStore=function(e,t,r){return ot.current.useSyncExternalStore(e,t,r)};Q.useTransition=function(){return ot.current.useTransition()};Q.version="18.3.1";wg.exports=Q;var b=wg.exports;const ie=$l(b),r1=Fw({__proto__:null,default:ie},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n1=b,s1=Symbol.for("react.element"),i1=Symbol.for("react.fragment"),a1=Object.prototype.hasOwnProperty,o1=n1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l1={key:!0,ref:!0,__self:!0,__source:!0};function Tg(e,t,r){var n,s={},a=null,o=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)a1.call(t,n)&&!l1.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:s1,type:e,key:a,ref:o,props:s,_owner:o1.current}}Fl.Fragment=i1;Fl.jsx=Tg;Fl.jsxs=Tg;bg.exports=Fl;var i=bg.exports,Ag={exports:{}},Pt={},Og={exports:{}},Rg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,B){var V=T.length;T.push(B);e:for(;0<V;){var G=V-1>>>1,ne=T[G];if(0<s(ne,B))T[G]=B,T[V]=ne,V=G;else break e}}function r(T){return T.length===0?null:T[0]}function n(T){if(T.length===0)return null;var B=T[0],V=T.pop();if(V!==B){T[0]=V;e:for(var G=0,ne=T.length,Tt=ne>>>1;G<Tt;){var He=2*(G+1)-1,ar=T[He],de=He+1,Bt=T[de];if(0>s(ar,V))de<ne&&0>s(Bt,ar)?(T[G]=Bt,T[de]=V,G=de):(T[G]=ar,T[He]=V,G=He);else if(de<ne&&0>s(Bt,V))T[G]=Bt,T[de]=V,G=de;else break e}}return B}function s(T,B){var V=T.sortIndex-B.sortIndex;return V!==0?V:T.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,m=!1,x=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(T){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=T)n(u),B.sortIndex=B.expirationTime,t(c,B);else break;B=r(u)}}function w(T){if(v=!1,g(T),!x)if(r(c)!==null)x=!0,tt(j);else{var B=r(u);B!==null&&M(w,B.startTime-T)}}function j(T,B){x=!1,v&&(v=!1,y(C),C=-1),m=!0;var V=f;try{for(g(B),h=r(c);h!==null&&(!(h.expirationTime>B)||T&&!W());){var G=h.callback;if(typeof G=="function"){h.callback=null,f=h.priorityLevel;var ne=G(h.expirationTime<=B);B=e.unstable_now(),typeof ne=="function"?h.callback=ne:h===r(c)&&n(c),g(B)}else n(c);h=r(c)}if(h!==null)var Tt=!0;else{var He=r(u);He!==null&&M(w,He.startTime-B),Tt=!1}return Tt}finally{h=null,f=V,m=!1}}var S=!1,_=null,C=-1,O=5,E=-1;function W(){return!(e.unstable_now()-E<O)}function J(){if(_!==null){var T=e.unstable_now();E=T;var B=!0;try{B=_(!0,T)}finally{B?ee():(S=!1,_=null)}}else S=!1}var ee;if(typeof p=="function")ee=function(){p(J)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,te=ve.port2;ve.port1.onmessage=J,ee=function(){te.postMessage(null)}}else ee=function(){N(J,0)};function tt(T){_=T,S||(S=!0,ee())}function M(T,B){C=N(function(){T(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){x||m||(x=!0,tt(j))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(T){switch(f){case 1:case 2:case 3:var B=3;break;default:B=f}var V=f;f=B;try{return T()}finally{f=V}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,B){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var V=f;f=T;try{return B()}finally{f=V}},e.unstable_scheduleCallback=function(T,B,V){var G=e.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?G+V:G):V=G,T){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=V+ne,T={id:d++,callback:B,priorityLevel:T,startTime:V,expirationTime:ne,sortIndex:-1},V>G?(T.sortIndex=V,t(u,T),r(c)===null&&T===r(u)&&(v?(y(C),C=-1):v=!0,M(w,V-G))):(T.sortIndex=ne,t(c,T),x||m||(x=!0,tt(j))),T},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(T){var B=f;return function(){var V=f;f=B;try{return T.apply(this,arguments)}finally{f=V}}}})(Rg);Og.exports=Rg;var c1=Og.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u1=b,_t=c1;function A(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mg=new Set,ra={};function Qn(e,t){Is(e,t),Is(e+"Capture",t)}function Is(e,t){for(ra[e]=t,e=0;e<t.length;e++)Mg.add(t[e])}var Or=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cu=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,em={},tm={};function h1(e){return Cu.call(tm,e)?!0:Cu.call(em,e)?!1:d1.test(e)?tm[e]=!0:(em[e]=!0,!1)}function f1(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function m1(e,t,r,n){if(t===null||typeof t>"u"||f1(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function lt(e,t,r,n,s,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var We={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){We[e]=new lt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];We[t]=new lt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){We[e]=new lt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){We[e]=new lt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){We[e]=new lt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){We[e]=new lt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){We[e]=new lt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){We[e]=new lt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){We[e]=new lt(e,5,!1,e.toLowerCase(),null,!1,!1)});var oh=/[\-:]([a-z])/g;function lh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(oh,lh);We[t]=new lt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(oh,lh);We[t]=new lt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(oh,lh);We[t]=new lt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){We[e]=new lt(e,1,!1,e.toLowerCase(),null,!1,!1)});We.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){We[e]=new lt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ch(e,t,r,n){var s=We.hasOwnProperty(t)?We[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(m1(t,r,s,n)&&(r=null),n||s===null?h1(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ir=u1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qa=Symbol.for("react.element"),ms=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),uh=Symbol.for("react.strict_mode"),Pu=Symbol.for("react.profiler"),Lg=Symbol.for("react.provider"),Dg=Symbol.for("react.context"),dh=Symbol.for("react.forward_ref"),Eu=Symbol.for("react.suspense"),Tu=Symbol.for("react.suspense_list"),hh=Symbol.for("react.memo"),Wr=Symbol.for("react.lazy"),Ig=Symbol.for("react.offscreen"),rm=Symbol.iterator;function li(e){return e===null||typeof e!="object"?null:(e=rm&&e[rm]||e["@@iterator"],typeof e=="function"?e:null)}var Se=Object.assign,Cc;function Si(e){if(Cc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Cc=t&&t[1]||""}return`
`+Cc+e}var Pc=!1;function Ec(e,t){if(!e||Pc)return"";Pc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),o=s.length-1,l=a.length-1;1<=o&&0<=l&&s[o]!==a[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==a[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==a[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{Pc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Si(e):""}function p1(e){switch(e.tag){case 5:return Si(e.type);case 16:return Si("Lazy");case 13:return Si("Suspense");case 19:return Si("SuspenseList");case 0:case 2:case 15:return e=Ec(e.type,!1),e;case 11:return e=Ec(e.type.render,!1),e;case 1:return e=Ec(e.type,!0),e;default:return""}}function Au(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case ms:return"Portal";case Pu:return"Profiler";case uh:return"StrictMode";case Eu:return"Suspense";case Tu:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Dg:return(e.displayName||"Context")+".Consumer";case Lg:return(e._context.displayName||"Context")+".Provider";case dh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case hh:return t=e.displayName||null,t!==null?t:Au(e.type)||"Memo";case Wr:t=e._payload,e=e._init;try{return Au(e(t))}catch{}}return null}function g1(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Au(t);case 8:return t===uh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function hn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $g(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function x1(e){var t=$g(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ja(e){e._valueTracker||(e._valueTracker=x1(e))}function Fg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$g(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Qo(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ou(e,t){var r=t.checked;return Se({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function nm(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=hn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vg(e,t){t=t.checked,t!=null&&ch(e,"checked",t,!1)}function Ru(e,t){Vg(e,t);var r=hn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Mu(e,t.type,r):t.hasOwnProperty("defaultValue")&&Mu(e,t.type,hn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sm(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Mu(e,t,r){(t!=="number"||Qo(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ki=Array.isArray;function As(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+hn(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(A(91));return Se({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function im(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(A(92));if(ki(r)){if(1<r.length)throw Error(A(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:hn(r)}}function Ug(e,t){var r=hn(t.value),n=hn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function am(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Bg(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Bg(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Xa,zg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Xa=Xa||document.createElement("div"),Xa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Xa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function na(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Oi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},y1=["Webkit","ms","Moz","O"];Object.keys(Oi).forEach(function(e){y1.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Oi[t]=Oi[e]})});function Wg(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Oi.hasOwnProperty(e)&&Oi[e]?(""+t).trim():t+"px"}function Hg(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Wg(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var v1=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Iu(e,t){if(t){if(v1[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(A(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(A(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(A(61))}if(t.style!=null&&typeof t.style!="object")throw Error(A(62))}}function $u(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function fh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Vu=null,Os=null,Rs=null;function om(e){if(e=Da(e)){if(typeof Vu!="function")throw Error(A(280));var t=e.stateNode;t&&(t=Wl(t),Vu(e.stateNode,e.type,t))}}function qg(e){Os?Rs?Rs.push(e):Rs=[e]:Os=e}function Gg(){if(Os){var e=Os,t=Rs;if(Rs=Os=null,om(e),t)for(e=0;e<t.length;e++)om(t[e])}}function Kg(e,t){return e(t)}function Yg(){}var Tc=!1;function Qg(e,t,r){if(Tc)return e(t,r);Tc=!0;try{return Kg(e,t,r)}finally{Tc=!1,(Os!==null||Rs!==null)&&(Yg(),Gg())}}function sa(e,t){var r=e.stateNode;if(r===null)return null;var n=Wl(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(A(231,t,typeof r));return r}var Uu=!1;if(Or)try{var ci={};Object.defineProperty(ci,"passive",{get:function(){Uu=!0}}),window.addEventListener("test",ci,ci),window.removeEventListener("test",ci,ci)}catch{Uu=!1}function b1(e,t,r,n,s,a,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var Ri=!1,Jo=null,Xo=!1,Bu=null,w1={onError:function(e){Ri=!0,Jo=e}};function j1(e,t,r,n,s,a,o,l,c){Ri=!1,Jo=null,b1.apply(w1,arguments)}function N1(e,t,r,n,s,a,o,l,c){if(j1.apply(this,arguments),Ri){if(Ri){var u=Jo;Ri=!1,Jo=null}else throw Error(A(198));Xo||(Xo=!0,Bu=u)}}function Jn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Jg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lm(e){if(Jn(e)!==e)throw Error(A(188))}function S1(e){var t=e.alternate;if(!t){if(t=Jn(e),t===null)throw Error(A(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return lm(s),e;if(a===n)return lm(s),t;a=a.sibling}throw Error(A(188))}if(r.return!==n.return)r=s,n=a;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=a;break}if(l===n){o=!0,n=s,r=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===r){o=!0,r=a,n=s;break}if(l===n){o=!0,n=a,r=s;break}l=l.sibling}if(!o)throw Error(A(189))}}if(r.alternate!==n)throw Error(A(190))}if(r.tag!==3)throw Error(A(188));return r.stateNode.current===r?e:t}function Xg(e){return e=S1(e),e!==null?Zg(e):null}function Zg(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Zg(e);if(t!==null)return t;e=e.sibling}return null}var ex=_t.unstable_scheduleCallback,cm=_t.unstable_cancelCallback,k1=_t.unstable_shouldYield,_1=_t.unstable_requestPaint,Ee=_t.unstable_now,C1=_t.unstable_getCurrentPriorityLevel,mh=_t.unstable_ImmediatePriority,tx=_t.unstable_UserBlockingPriority,Zo=_t.unstable_NormalPriority,P1=_t.unstable_LowPriority,rx=_t.unstable_IdlePriority,Vl=null,fr=null;function E1(e){if(fr&&typeof fr.onCommitFiberRoot=="function")try{fr.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:O1,T1=Math.log,A1=Math.LN2;function O1(e){return e>>>=0,e===0?32:31-(T1(e)/A1|0)|0}var Za=64,eo=4194304;function _i(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function el(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=_i(l):(a&=o,a!==0&&(n=_i(a)))}else o=r&~s,o!==0?n=_i(o):a!==0&&(n=_i(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-tr(t),s=1<<r,n|=e[r],t&=~s;return n}function R1(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M1(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-tr(a),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=R1(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function zu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function nx(){var e=Za;return Za<<=1,!(Za&4194240)&&(Za=64),e}function Ac(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ma(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tr(t),e[t]=r}function L1(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-tr(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function ph(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-tr(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ae=0;function sx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ix,gh,ax,ox,lx,Wu=!1,to=[],tn=null,rn=null,nn=null,ia=new Map,aa=new Map,Gr=[],D1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function um(e,t){switch(e){case"focusin":case"focusout":tn=null;break;case"dragenter":case"dragleave":rn=null;break;case"mouseover":case"mouseout":nn=null;break;case"pointerover":case"pointerout":ia.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":aa.delete(t.pointerId)}}function ui(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=Da(t),t!==null&&gh(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function I1(e,t,r,n,s){switch(t){case"focusin":return tn=ui(tn,e,t,r,n,s),!0;case"dragenter":return rn=ui(rn,e,t,r,n,s),!0;case"mouseover":return nn=ui(nn,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return ia.set(a,ui(ia.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,aa.set(a,ui(aa.get(a)||null,e,t,r,n,s)),!0}return!1}function cx(e){var t=Rn(e.target);if(t!==null){var r=Jn(t);if(r!==null){if(t=r.tag,t===13){if(t=Jg(r),t!==null){e.blockedOn=t,lx(e.priority,function(){ax(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Oo(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fu=n,r.target.dispatchEvent(n),Fu=null}else return t=Da(r),t!==null&&gh(t),e.blockedOn=r,!1;t.shift()}return!0}function dm(e,t,r){Oo(e)&&r.delete(t)}function $1(){Wu=!1,tn!==null&&Oo(tn)&&(tn=null),rn!==null&&Oo(rn)&&(rn=null),nn!==null&&Oo(nn)&&(nn=null),ia.forEach(dm),aa.forEach(dm)}function di(e,t){e.blockedOn===t&&(e.blockedOn=null,Wu||(Wu=!0,_t.unstable_scheduleCallback(_t.unstable_NormalPriority,$1)))}function oa(e){function t(s){return di(s,e)}if(0<to.length){di(to[0],e);for(var r=1;r<to.length;r++){var n=to[r];n.blockedOn===e&&(n.blockedOn=null)}}for(tn!==null&&di(tn,e),rn!==null&&di(rn,e),nn!==null&&di(nn,e),ia.forEach(t),aa.forEach(t),r=0;r<Gr.length;r++)n=Gr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Gr.length&&(r=Gr[0],r.blockedOn===null);)cx(r),r.blockedOn===null&&Gr.shift()}var Ms=Ir.ReactCurrentBatchConfig,tl=!0;function F1(e,t,r,n){var s=ae,a=Ms.transition;Ms.transition=null;try{ae=1,xh(e,t,r,n)}finally{ae=s,Ms.transition=a}}function V1(e,t,r,n){var s=ae,a=Ms.transition;Ms.transition=null;try{ae=4,xh(e,t,r,n)}finally{ae=s,Ms.transition=a}}function xh(e,t,r,n){if(tl){var s=Hu(e,t,r,n);if(s===null)Uc(e,t,n,rl,r),um(e,n);else if(I1(s,e,t,r,n))n.stopPropagation();else if(um(e,n),t&4&&-1<D1.indexOf(e)){for(;s!==null;){var a=Da(s);if(a!==null&&ix(a),a=Hu(e,t,r,n),a===null&&Uc(e,t,n,rl,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Uc(e,t,n,null,r)}}var rl=null;function Hu(e,t,r,n){if(rl=null,e=fh(n),e=Rn(e),e!==null)if(t=Jn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Jg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return rl=e,null}function ux(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(C1()){case mh:return 1;case tx:return 4;case Zo:case P1:return 16;case rx:return 536870912;default:return 16}default:return 16}}var Jr=null,yh=null,Ro=null;function dx(){if(Ro)return Ro;var e,t=yh,r=t.length,n,s="value"in Jr?Jr.value:Jr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[a-n];n++);return Ro=s.slice(e,1<n?1-n:void 0)}function Mo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ro(){return!0}function hm(){return!1}function Et(e){function t(r,n,s,a,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ro:hm,this.isPropagationStopped=hm,this}return Se(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ro)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ro)},persist:function(){},isPersistent:ro}),t}var Js={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vh=Et(Js),La=Se({},Js,{view:0,detail:0}),U1=Et(La),Oc,Rc,hi,Ul=Se({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bh,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hi&&(hi&&e.type==="mousemove"?(Oc=e.screenX-hi.screenX,Rc=e.screenY-hi.screenY):Rc=Oc=0,hi=e),Oc)},movementY:function(e){return"movementY"in e?e.movementY:Rc}}),fm=Et(Ul),B1=Se({},Ul,{dataTransfer:0}),z1=Et(B1),W1=Se({},La,{relatedTarget:0}),Mc=Et(W1),H1=Se({},Js,{animationName:0,elapsedTime:0,pseudoElement:0}),q1=Et(H1),G1=Se({},Js,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),K1=Et(G1),Y1=Se({},Js,{data:0}),mm=Et(Y1),Q1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},X1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Z1(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=X1[e])?!!t[e]:!1}function bh(){return Z1}var ej=Se({},La,{key:function(e){if(e.key){var t=Q1[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?J1[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bh,charCode:function(e){return e.type==="keypress"?Mo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tj=Et(ej),rj=Se({},Ul,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pm=Et(rj),nj=Se({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bh}),sj=Et(nj),ij=Se({},Js,{propertyName:0,elapsedTime:0,pseudoElement:0}),aj=Et(ij),oj=Se({},Ul,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lj=Et(oj),cj=[9,13,27,32],wh=Or&&"CompositionEvent"in window,Mi=null;Or&&"documentMode"in document&&(Mi=document.documentMode);var uj=Or&&"TextEvent"in window&&!Mi,hx=Or&&(!wh||Mi&&8<Mi&&11>=Mi),gm=" ",xm=!1;function fx(e,t){switch(e){case"keyup":return cj.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function dj(e,t){switch(e){case"compositionend":return mx(t);case"keypress":return t.which!==32?null:(xm=!0,gm);case"textInput":return e=t.data,e===gm&&xm?null:e;default:return null}}function hj(e,t){if(gs)return e==="compositionend"||!wh&&fx(e,t)?(e=dx(),Ro=yh=Jr=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return hx&&t.locale!=="ko"?null:t.data;default:return null}}var fj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ym(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fj[e.type]:t==="textarea"}function px(e,t,r,n){qg(n),t=nl(t,"onChange"),0<t.length&&(r=new vh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Li=null,la=null;function mj(e){_x(e,0)}function Bl(e){var t=vs(e);if(Fg(t))return e}function pj(e,t){if(e==="change")return t}var gx=!1;if(Or){var Lc;if(Or){var Dc="oninput"in document;if(!Dc){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Dc=typeof vm.oninput=="function"}Lc=Dc}else Lc=!1;gx=Lc&&(!document.documentMode||9<document.documentMode)}function bm(){Li&&(Li.detachEvent("onpropertychange",xx),la=Li=null)}function xx(e){if(e.propertyName==="value"&&Bl(la)){var t=[];px(t,la,e,fh(e)),Qg(mj,t)}}function gj(e,t,r){e==="focusin"?(bm(),Li=t,la=r,Li.attachEvent("onpropertychange",xx)):e==="focusout"&&bm()}function xj(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bl(la)}function yj(e,t){if(e==="click")return Bl(t)}function vj(e,t){if(e==="input"||e==="change")return Bl(t)}function bj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nr=typeof Object.is=="function"?Object.is:bj;function ca(e,t){if(nr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Cu.call(t,s)||!nr(e[s],t[s]))return!1}return!0}function wm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jm(e,t){var r=wm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wm(r)}}function yx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?yx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function vx(){for(var e=window,t=Qo();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Qo(e.document)}return t}function jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wj(e){var t=vx(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&yx(r.ownerDocument.documentElement,r)){if(n!==null&&jh(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=jm(r,a);var o=jm(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var jj=Or&&"documentMode"in document&&11>=document.documentMode,xs=null,qu=null,Di=null,Gu=!1;function Nm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gu||xs==null||xs!==Qo(n)||(n=xs,"selectionStart"in n&&jh(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Di&&ca(Di,n)||(Di=n,n=nl(qu,"onSelect"),0<n.length&&(t=new vh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=xs)))}function no(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ys={animationend:no("Animation","AnimationEnd"),animationiteration:no("Animation","AnimationIteration"),animationstart:no("Animation","AnimationStart"),transitionend:no("Transition","TransitionEnd")},Ic={},bx={};Or&&(bx=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function zl(e){if(Ic[e])return Ic[e];if(!ys[e])return e;var t=ys[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in bx)return Ic[e]=t[r];return e}var wx=zl("animationend"),jx=zl("animationiteration"),Nx=zl("animationstart"),Sx=zl("transitionend"),kx=new Map,Sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function gn(e,t){kx.set(e,t),Qn(t,[e])}for(var $c=0;$c<Sm.length;$c++){var Fc=Sm[$c],Nj=Fc.toLowerCase(),Sj=Fc[0].toUpperCase()+Fc.slice(1);gn(Nj,"on"+Sj)}gn(wx,"onAnimationEnd");gn(jx,"onAnimationIteration");gn(Nx,"onAnimationStart");gn("dblclick","onDoubleClick");gn("focusin","onFocus");gn("focusout","onBlur");gn(Sx,"onTransitionEnd");Is("onMouseEnter",["mouseout","mouseover"]);Is("onMouseLeave",["mouseout","mouseover"]);Is("onPointerEnter",["pointerout","pointerover"]);Is("onPointerLeave",["pointerout","pointerover"]);Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kj=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ci));function km(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,N1(n,t,void 0,e),e.currentTarget=null}function _x(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;km(s,l,u),a=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;km(s,l,u),a=c}}}if(Xo)throw e=Bu,Xo=!1,Bu=null,e}function he(e,t){var r=t[Xu];r===void 0&&(r=t[Xu]=new Set);var n=e+"__bubble";r.has(n)||(Cx(t,e,2,!1),r.add(n))}function Vc(e,t,r){var n=0;t&&(n|=4),Cx(r,e,n,t)}var so="_reactListening"+Math.random().toString(36).slice(2);function ua(e){if(!e[so]){e[so]=!0,Mg.forEach(function(r){r!=="selectionchange"&&(kj.has(r)||Vc(r,!1,e),Vc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[so]||(t[so]=!0,Vc("selectionchange",!1,t))}}function Cx(e,t,r,n){switch(ux(t)){case 1:var s=F1;break;case 4:s=V1;break;default:s=xh}r=s.bind(null,t,r,e),s=void 0,!Uu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Uc(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Rn(l),o===null)return;if(c=o.tag,c===5||c===6){n=a=o;continue e}l=l.parentNode}}n=n.return}Qg(function(){var u=a,d=fh(r),h=[];e:{var f=kx.get(e);if(f!==void 0){var m=vh,x=e;switch(e){case"keypress":if(Mo(r)===0)break e;case"keydown":case"keyup":m=tj;break;case"focusin":x="focus",m=Mc;break;case"focusout":x="blur",m=Mc;break;case"beforeblur":case"afterblur":m=Mc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=fm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=z1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=sj;break;case wx:case jx:case Nx:m=q1;break;case Sx:m=aj;break;case"scroll":m=U1;break;case"wheel":m=lj;break;case"copy":case"cut":case"paste":m=K1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=pm}var v=(t&4)!==0,N=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,g;p!==null;){g=p;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,y!==null&&(w=sa(p,y),w!=null&&v.push(da(p,w,g)))),N)break;p=p.return}0<v.length&&(f=new m(f,x,null,r,d),h.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",f&&r!==Fu&&(x=r.relatedTarget||r.fromElement)&&(Rn(x)||x[Rr]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(x=r.relatedTarget||r.toElement,m=u,x=x?Rn(x):null,x!==null&&(N=Jn(x),x!==N||x.tag!==5&&x.tag!==6)&&(x=null)):(m=null,x=u),m!==x)){if(v=fm,w="onMouseLeave",y="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(v=pm,w="onPointerLeave",y="onPointerEnter",p="pointer"),N=m==null?f:vs(m),g=x==null?f:vs(x),f=new v(w,p+"leave",m,r,d),f.target=N,f.relatedTarget=g,w=null,Rn(d)===u&&(v=new v(y,p+"enter",x,r,d),v.target=g,v.relatedTarget=N,w=v),N=w,m&&x)t:{for(v=m,y=x,p=0,g=v;g;g=as(g))p++;for(g=0,w=y;w;w=as(w))g++;for(;0<p-g;)v=as(v),p--;for(;0<g-p;)y=as(y),g--;for(;p--;){if(v===y||y!==null&&v===y.alternate)break t;v=as(v),y=as(y)}v=null}else v=null;m!==null&&_m(h,f,m,v,!1),x!==null&&N!==null&&_m(h,N,x,v,!0)}}e:{if(f=u?vs(u):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var j=pj;else if(ym(f))if(gx)j=vj;else{j=xj;var S=gj}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=yj);if(j&&(j=j(e,u))){px(h,j,r,d);break e}S&&S(e,f,u),e==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Mu(f,"number",f.value)}switch(S=u?vs(u):window,e){case"focusin":(ym(S)||S.contentEditable==="true")&&(xs=S,qu=u,Di=null);break;case"focusout":Di=qu=xs=null;break;case"mousedown":Gu=!0;break;case"contextmenu":case"mouseup":case"dragend":Gu=!1,Nm(h,r,d);break;case"selectionchange":if(jj)break;case"keydown":case"keyup":Nm(h,r,d)}var _;if(wh)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else gs?fx(e,r)&&(C="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(C="onCompositionStart");C&&(hx&&r.locale!=="ko"&&(gs||C!=="onCompositionStart"?C==="onCompositionEnd"&&gs&&(_=dx()):(Jr=d,yh="value"in Jr?Jr.value:Jr.textContent,gs=!0)),S=nl(u,C),0<S.length&&(C=new mm(C,e,null,r,d),h.push({event:C,listeners:S}),_?C.data=_:(_=mx(r),_!==null&&(C.data=_)))),(_=uj?dj(e,r):hj(e,r))&&(u=nl(u,"onBeforeInput"),0<u.length&&(d=new mm("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=_))}_x(h,t)})}function da(e,t,r){return{instance:e,listener:t,currentTarget:r}}function nl(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=sa(e,r),a!=null&&n.unshift(da(e,a,s)),a=sa(e,t),a!=null&&n.push(da(e,a,s))),e=e.return}return n}function as(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _m(e,t,r,n,s){for(var a=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=sa(r,a),c!=null&&o.unshift(da(r,c,l))):s||(c=sa(r,a),c!=null&&o.push(da(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _j=/\r\n?/g,Cj=/\u0000|\uFFFD/g;function Cm(e){return(typeof e=="string"?e:""+e).replace(_j,`
`).replace(Cj,"")}function io(e,t,r){if(t=Cm(t),Cm(e)!==t&&r)throw Error(A(425))}function sl(){}var Ku=null,Yu=null;function Qu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ju=typeof setTimeout=="function"?setTimeout:void 0,Pj=typeof clearTimeout=="function"?clearTimeout:void 0,Pm=typeof Promise=="function"?Promise:void 0,Ej=typeof queueMicrotask=="function"?queueMicrotask:typeof Pm<"u"?function(e){return Pm.resolve(null).then(e).catch(Tj)}:Ju;function Tj(e){setTimeout(function(){throw e})}function Bc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),oa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);oa(t)}function sn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Em(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Xs=Math.random().toString(36).slice(2),ur="__reactFiber$"+Xs,ha="__reactProps$"+Xs,Rr="__reactContainer$"+Xs,Xu="__reactEvents$"+Xs,Aj="__reactListeners$"+Xs,Oj="__reactHandles$"+Xs;function Rn(e){var t=e[ur];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Rr]||r[ur]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Em(e);e!==null;){if(r=e[ur])return r;e=Em(e)}return t}e=r,r=e.parentNode}return null}function Da(e){return e=e[ur]||e[Rr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(A(33))}function Wl(e){return e[ha]||null}var Zu=[],bs=-1;function xn(e){return{current:e}}function fe(e){0>bs||(e.current=Zu[bs],Zu[bs]=null,bs--)}function ue(e,t){bs++,Zu[bs]=e.current,e.current=t}var fn={},et=xn(fn),pt=xn(!1),Un=fn;function $s(e,t){var r=e.type.contextTypes;if(!r)return fn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function gt(e){return e=e.childContextTypes,e!=null}function il(){fe(pt),fe(et)}function Tm(e,t,r){if(et.current!==fn)throw Error(A(168));ue(et,t),ue(pt,r)}function Px(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(A(108,g1(e)||"Unknown",s));return Se({},r,n)}function al(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fn,Un=et.current,ue(et,e),ue(pt,pt.current),!0}function Am(e,t,r){var n=e.stateNode;if(!n)throw Error(A(169));r?(e=Px(e,t,Un),n.__reactInternalMemoizedMergedChildContext=e,fe(pt),fe(et),ue(et,e)):fe(pt),ue(pt,r)}var kr=null,Hl=!1,zc=!1;function Ex(e){kr===null?kr=[e]:kr.push(e)}function Rj(e){Hl=!0,Ex(e)}function yn(){if(!zc&&kr!==null){zc=!0;var e=0,t=ae;try{var r=kr;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}kr=null,Hl=!1}catch(s){throw kr!==null&&(kr=kr.slice(e+1)),ex(mh,yn),s}finally{ae=t,zc=!1}}return null}var ws=[],js=0,ol=null,ll=0,Rt=[],Mt=0,Bn=null,_r=1,Cr="";function _n(e,t){ws[js++]=ll,ws[js++]=ol,ol=e,ll=t}function Tx(e,t,r){Rt[Mt++]=_r,Rt[Mt++]=Cr,Rt[Mt++]=Bn,Bn=e;var n=_r;e=Cr;var s=32-tr(n)-1;n&=~(1<<s),r+=1;var a=32-tr(t)+s;if(30<a){var o=s-s%5;a=(n&(1<<o)-1).toString(32),n>>=o,s-=o,_r=1<<32-tr(t)+s|r<<s|n,Cr=a+e}else _r=1<<a|r<<s|n,Cr=e}function Nh(e){e.return!==null&&(_n(e,1),Tx(e,1,0))}function Sh(e){for(;e===ol;)ol=ws[--js],ws[js]=null,ll=ws[--js],ws[js]=null;for(;e===Bn;)Bn=Rt[--Mt],Rt[Mt]=null,Cr=Rt[--Mt],Rt[Mt]=null,_r=Rt[--Mt],Rt[Mt]=null}var St=null,Nt=null,xe=!1,er=null;function Ax(e,t){var r=Lt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Om(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,St=e,Nt=sn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,St=e,Nt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Bn!==null?{id:_r,overflow:Cr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Lt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,St=e,Nt=null,!0):!1;default:return!1}}function ed(e){return(e.mode&1)!==0&&(e.flags&128)===0}function td(e){if(xe){var t=Nt;if(t){var r=t;if(!Om(e,t)){if(ed(e))throw Error(A(418));t=sn(r.nextSibling);var n=St;t&&Om(e,t)?Ax(n,r):(e.flags=e.flags&-4097|2,xe=!1,St=e)}}else{if(ed(e))throw Error(A(418));e.flags=e.flags&-4097|2,xe=!1,St=e}}}function Rm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;St=e}function ao(e){if(e!==St)return!1;if(!xe)return Rm(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qu(e.type,e.memoizedProps)),t&&(t=Nt)){if(ed(e))throw Ox(),Error(A(418));for(;t;)Ax(e,t),t=sn(t.nextSibling)}if(Rm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(A(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Nt=sn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Nt=null}}else Nt=St?sn(e.stateNode.nextSibling):null;return!0}function Ox(){for(var e=Nt;e;)e=sn(e.nextSibling)}function Fs(){Nt=St=null,xe=!1}function kh(e){er===null?er=[e]:er.push(e)}var Mj=Ir.ReactCurrentBatchConfig;function fi(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(A(309));var n=r.stateNode}if(!n)throw Error(A(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var l=s.refs;o===null?delete l[a]:l[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(A(284));if(!r._owner)throw Error(A(290,e))}return e}function oo(e,t){throw e=Object.prototype.toString.call(t),Error(A(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Mm(e){var t=e._init;return t(e._payload)}function Rx(e){function t(y,p){if(e){var g=y.deletions;g===null?(y.deletions=[p],y.flags|=16):g.push(p)}}function r(y,p){if(!e)return null;for(;p!==null;)t(y,p),p=p.sibling;return null}function n(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function s(y,p){return y=cn(y,p),y.index=0,y.sibling=null,y}function a(y,p,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<p?(y.flags|=2,p):g):(y.flags|=2,p)):(y.flags|=1048576,p)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function l(y,p,g,w){return p===null||p.tag!==6?(p=Qc(g,y.mode,w),p.return=y,p):(p=s(p,g),p.return=y,p)}function c(y,p,g,w){var j=g.type;return j===ps?d(y,p,g.props.children,w,g.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&Mm(j)===p.type)?(w=s(p,g.props),w.ref=fi(y,p,g),w.return=y,w):(w=Uo(g.type,g.key,g.props,null,y.mode,w),w.ref=fi(y,p,g),w.return=y,w)}function u(y,p,g,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Jc(g,y.mode,w),p.return=y,p):(p=s(p,g.children||[]),p.return=y,p)}function d(y,p,g,w,j){return p===null||p.tag!==7?(p=Fn(g,y.mode,w,j),p.return=y,p):(p=s(p,g),p.return=y,p)}function h(y,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Qc(""+p,y.mode,g),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Qa:return g=Uo(p.type,p.key,p.props,null,y.mode,g),g.ref=fi(y,null,p),g.return=y,g;case ms:return p=Jc(p,y.mode,g),p.return=y,p;case Wr:var w=p._init;return h(y,w(p._payload),g)}if(ki(p)||li(p))return p=Fn(p,y.mode,g,null),p.return=y,p;oo(y,p)}return null}function f(y,p,g,w){var j=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:l(y,p,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:return g.key===j?c(y,p,g,w):null;case ms:return g.key===j?u(y,p,g,w):null;case Wr:return j=g._init,f(y,p,j(g._payload),w)}if(ki(g)||li(g))return j!==null?null:d(y,p,g,w,null);oo(y,g)}return null}function m(y,p,g,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(g)||null,l(p,y,""+w,j);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qa:return y=y.get(w.key===null?g:w.key)||null,c(p,y,w,j);case ms:return y=y.get(w.key===null?g:w.key)||null,u(p,y,w,j);case Wr:var S=w._init;return m(y,p,g,S(w._payload),j)}if(ki(w)||li(w))return y=y.get(g)||null,d(p,y,w,j,null);oo(p,w)}return null}function x(y,p,g,w){for(var j=null,S=null,_=p,C=p=0,O=null;_!==null&&C<g.length;C++){_.index>C?(O=_,_=null):O=_.sibling;var E=f(y,_,g[C],w);if(E===null){_===null&&(_=O);break}e&&_&&E.alternate===null&&t(y,_),p=a(E,p,C),S===null?j=E:S.sibling=E,S=E,_=O}if(C===g.length)return r(y,_),xe&&_n(y,C),j;if(_===null){for(;C<g.length;C++)_=h(y,g[C],w),_!==null&&(p=a(_,p,C),S===null?j=_:S.sibling=_,S=_);return xe&&_n(y,C),j}for(_=n(y,_);C<g.length;C++)O=m(_,y,C,g[C],w),O!==null&&(e&&O.alternate!==null&&_.delete(O.key===null?C:O.key),p=a(O,p,C),S===null?j=O:S.sibling=O,S=O);return e&&_.forEach(function(W){return t(y,W)}),xe&&_n(y,C),j}function v(y,p,g,w){var j=li(g);if(typeof j!="function")throw Error(A(150));if(g=j.call(g),g==null)throw Error(A(151));for(var S=j=null,_=p,C=p=0,O=null,E=g.next();_!==null&&!E.done;C++,E=g.next()){_.index>C?(O=_,_=null):O=_.sibling;var W=f(y,_,E.value,w);if(W===null){_===null&&(_=O);break}e&&_&&W.alternate===null&&t(y,_),p=a(W,p,C),S===null?j=W:S.sibling=W,S=W,_=O}if(E.done)return r(y,_),xe&&_n(y,C),j;if(_===null){for(;!E.done;C++,E=g.next())E=h(y,E.value,w),E!==null&&(p=a(E,p,C),S===null?j=E:S.sibling=E,S=E);return xe&&_n(y,C),j}for(_=n(y,_);!E.done;C++,E=g.next())E=m(_,y,C,E.value,w),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?C:E.key),p=a(E,p,C),S===null?j=E:S.sibling=E,S=E);return e&&_.forEach(function(J){return t(y,J)}),xe&&_n(y,C),j}function N(y,p,g,w){if(typeof g=="object"&&g!==null&&g.type===ps&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Qa:e:{for(var j=g.key,S=p;S!==null;){if(S.key===j){if(j=g.type,j===ps){if(S.tag===7){r(y,S.sibling),p=s(S,g.props.children),p.return=y,y=p;break e}}else if(S.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wr&&Mm(j)===S.type){r(y,S.sibling),p=s(S,g.props),p.ref=fi(y,S,g),p.return=y,y=p;break e}r(y,S);break}else t(y,S);S=S.sibling}g.type===ps?(p=Fn(g.props.children,y.mode,w,g.key),p.return=y,y=p):(w=Uo(g.type,g.key,g.props,null,y.mode,w),w.ref=fi(y,p,g),w.return=y,y=w)}return o(y);case ms:e:{for(S=g.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(y,p.sibling),p=s(p,g.children||[]),p.return=y,y=p;break e}else{r(y,p);break}else t(y,p);p=p.sibling}p=Jc(g,y.mode,w),p.return=y,y=p}return o(y);case Wr:return S=g._init,N(y,p,S(g._payload),w)}if(ki(g))return x(y,p,g,w);if(li(g))return v(y,p,g,w);oo(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(y,p.sibling),p=s(p,g),p.return=y,y=p):(r(y,p),p=Qc(g,y.mode,w),p.return=y,y=p),o(y)):r(y,p)}return N}var Vs=Rx(!0),Mx=Rx(!1),cl=xn(null),ul=null,Ns=null,_h=null;function Ch(){_h=Ns=ul=null}function Ph(e){var t=cl.current;fe(cl),e._currentValue=t}function rd(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ls(e,t){ul=e,_h=Ns=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ft=!0),e.firstContext=null)}function $t(e){var t=e._currentValue;if(_h!==e)if(e={context:e,memoizedValue:t,next:null},Ns===null){if(ul===null)throw Error(A(308));Ns=e,ul.dependencies={lanes:0,firstContext:e}}else Ns=Ns.next=e;return t}var Mn=null;function Eh(e){Mn===null?Mn=[e]:Mn.push(e)}function Lx(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Eh(t)):(r.next=s.next,s.next=r),t.interleaved=r,Mr(e,n)}function Mr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Hr=!1;function Th(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dx(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Mr(e,r)}return s=n.interleaved,s===null?(t.next=t,Eh(n)):(t.next=s.next,s.next=t),n.interleaved=t,Mr(e,r)}function Lo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ph(e,r)}}function Lm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=o:a=a.next=o,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function dl(e,t,r,n){var s=e.updateQueue;Hr=!1;var a=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var h=s.baseState;o=0,d=u=c=null,l=a;do{var f=l.lane,m=l.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=e,v=l;switch(f=t,m=r,v.tag){case 1:if(x=v.payload,typeof x=="function"){h=x.call(m,h,f);break e}h=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=v.payload,f=typeof x=="function"?x.call(m,h,f):x,f==null)break e;h=Se({},h,f);break e;case 2:Hr=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else m={eventTime:m,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,c=h):d=d.next=m,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);Wn|=o,e.lanes=o,e.memoizedState=h}}function Dm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(A(191,s));s.call(n)}}}var Ia={},mr=xn(Ia),fa=xn(Ia),ma=xn(Ia);function Ln(e){if(e===Ia)throw Error(A(174));return e}function Ah(e,t){switch(ue(ma,t),ue(fa,e),ue(mr,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Du(t,e)}fe(mr),ue(mr,t)}function Us(){fe(mr),fe(fa),fe(ma)}function Ix(e){Ln(ma.current);var t=Ln(mr.current),r=Du(t,e.type);t!==r&&(ue(fa,e),ue(mr,r))}function Oh(e){fa.current===e&&(fe(mr),fe(fa))}var we=xn(0);function hl(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Wc=[];function Rh(){for(var e=0;e<Wc.length;e++)Wc[e]._workInProgressVersionPrimary=null;Wc.length=0}var Do=Ir.ReactCurrentDispatcher,Hc=Ir.ReactCurrentBatchConfig,zn=0,Ne=null,De=null,Ve=null,fl=!1,Ii=!1,pa=0,Lj=0;function Ke(){throw Error(A(321))}function Mh(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nr(e[r],t[r]))return!1;return!0}function Lh(e,t,r,n,s,a){if(zn=a,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Do.current=e===null||e.memoizedState===null?Fj:Vj,e=r(n,s),Ii){a=0;do{if(Ii=!1,pa=0,25<=a)throw Error(A(301));a+=1,Ve=De=null,t.updateQueue=null,Do.current=Uj,e=r(n,s)}while(Ii)}if(Do.current=ml,t=De!==null&&De.next!==null,zn=0,Ve=De=Ne=null,fl=!1,t)throw Error(A(300));return e}function Dh(){var e=pa!==0;return pa=0,e}function cr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ne.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function Ft(){if(De===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Ve===null?Ne.memoizedState:Ve.next;if(t!==null)Ve=t,De=e;else{if(e===null)throw Error(A(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ve===null?Ne.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function ga(e,t){return typeof t=="function"?t(e):t}function qc(e){var t=Ft(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=De,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var o=s.next;s.next=a.next,a.next=o}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((zn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=n):c=c.next=h,Ne.lanes|=d,Wn|=d}u=u.next}while(u!==null&&u!==a);c===null?o=n:c.next=l,nr(n,t.memoizedState)||(ft=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,Ne.lanes|=a,Wn|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Gc(e){var t=Ft(),r=t.queue;if(r===null)throw Error(A(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do a=e(a,o.action),o=o.next;while(o!==s);nr(a,t.memoizedState)||(ft=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function $x(){}function Fx(e,t){var r=Ne,n=Ft(),s=t(),a=!nr(n.memoizedState,s);if(a&&(n.memoizedState=s,ft=!0),n=n.queue,Ih(Bx.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||Ve!==null&&Ve.memoizedState.tag&1){if(r.flags|=2048,xa(9,Ux.bind(null,r,n,s,t),void 0,null),Ue===null)throw Error(A(349));zn&30||Vx(r,t,s)}return s}function Vx(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Ux(e,t,r,n){t.value=r,t.getSnapshot=n,zx(t)&&Wx(e)}function Bx(e,t,r){return r(function(){zx(t)&&Wx(e)})}function zx(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nr(e,r)}catch{return!0}}function Wx(e){var t=Mr(e,1);t!==null&&rr(t,e,1,-1)}function Im(e){var t=cr();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ga,lastRenderedState:e},t.queue=e,e=e.dispatch=$j.bind(null,Ne,e),[t.memoizedState,e]}function xa(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Hx(){return Ft().memoizedState}function Io(e,t,r,n){var s=cr();Ne.flags|=e,s.memoizedState=xa(1|t,r,void 0,n===void 0?null:n)}function ql(e,t,r,n){var s=Ft();n=n===void 0?null:n;var a=void 0;if(De!==null){var o=De.memoizedState;if(a=o.destroy,n!==null&&Mh(n,o.deps)){s.memoizedState=xa(t,r,a,n);return}}Ne.flags|=e,s.memoizedState=xa(1|t,r,a,n)}function $m(e,t){return Io(8390656,8,e,t)}function Ih(e,t){return ql(2048,8,e,t)}function qx(e,t){return ql(4,2,e,t)}function Gx(e,t){return ql(4,4,e,t)}function Kx(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yx(e,t,r){return r=r!=null?r.concat([e]):null,ql(4,4,Kx.bind(null,t,e),r)}function $h(){}function Qx(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mh(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Jx(e,t){var r=Ft();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Mh(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Xx(e,t,r){return zn&21?(nr(r,t)||(r=nx(),Ne.lanes|=r,Wn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ft=!0),e.memoizedState=r)}function Dj(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=Hc.transition;Hc.transition={};try{e(!1),t()}finally{ae=r,Hc.transition=n}}function Zx(){return Ft().memoizedState}function Ij(e,t,r){var n=ln(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ey(e))ty(t,r);else if(r=Lx(e,t,r,n),r!==null){var s=it();rr(r,e,n,s),ry(r,t,n)}}function $j(e,t,r){var n=ln(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ey(e))ty(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,l=a(o,r);if(s.hasEagerState=!0,s.eagerState=l,nr(l,o)){var c=t.interleaved;c===null?(s.next=s,Eh(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=Lx(e,t,s,n),r!==null&&(s=it(),rr(r,e,n,s),ry(r,t,n))}}function ey(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function ty(e,t){Ii=fl=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function ry(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,ph(e,r)}}var ml={readContext:$t,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},Fj={readContext:$t,useCallback:function(e,t){return cr().memoizedState=[e,t===void 0?null:t],e},useContext:$t,useEffect:$m,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Io(4194308,4,Kx.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var r=cr();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=cr();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Ij.bind(null,Ne,e),[n.memoizedState,e]},useRef:function(e){var t=cr();return e={current:e},t.memoizedState=e},useState:Im,useDebugValue:$h,useDeferredValue:function(e){return cr().memoizedState=e},useTransition:function(){var e=Im(!1),t=e[0];return e=Dj.bind(null,e[1]),cr().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=Ne,s=cr();if(xe){if(r===void 0)throw Error(A(407));r=r()}else{if(r=t(),Ue===null)throw Error(A(349));zn&30||Vx(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,$m(Bx.bind(null,n,a,e),[e]),n.flags|=2048,xa(9,Ux.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=cr(),t=Ue.identifierPrefix;if(xe){var r=Cr,n=_r;r=(n&~(1<<32-tr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=pa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Lj++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vj={readContext:$t,useCallback:Qx,useContext:$t,useEffect:Ih,useImperativeHandle:Yx,useInsertionEffect:qx,useLayoutEffect:Gx,useMemo:Jx,useReducer:qc,useRef:Hx,useState:function(){return qc(ga)},useDebugValue:$h,useDeferredValue:function(e){var t=Ft();return Xx(t,De.memoizedState,e)},useTransition:function(){var e=qc(ga)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Fx,useId:Zx,unstable_isNewReconciler:!1},Uj={readContext:$t,useCallback:Qx,useContext:$t,useEffect:Ih,useImperativeHandle:Yx,useInsertionEffect:qx,useLayoutEffect:Gx,useMemo:Jx,useReducer:Gc,useRef:Hx,useState:function(){return Gc(ga)},useDebugValue:$h,useDeferredValue:function(e){var t=Ft();return De===null?t.memoizedState=e:Xx(t,De.memoizedState,e)},useTransition:function(){var e=Gc(ga)[0],t=Ft().memoizedState;return[e,t]},useMutableSource:$x,useSyncExternalStore:Fx,useId:Zx,unstable_isNewReconciler:!1};function Jt(e,t){if(e&&e.defaultProps){t=Se({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function nd(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Se({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Gl={isMounted:function(e){return(e=e._reactInternals)?Jn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=it(),s=ln(e),a=Pr(n,s);a.payload=t,r!=null&&(a.callback=r),t=an(e,a,s),t!==null&&(rr(t,e,s,n),Lo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=it(),s=ln(e),a=Pr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=an(e,a,s),t!==null&&(rr(t,e,s,n),Lo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=it(),n=ln(e),s=Pr(r,n);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,n),t!==null&&(rr(t,e,n,r),Lo(t,e,n))}};function Fm(e,t,r,n,s,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,o):t.prototype&&t.prototype.isPureReactComponent?!ca(r,n)||!ca(s,a):!0}function ny(e,t,r){var n=!1,s=fn,a=t.contextType;return typeof a=="object"&&a!==null?a=$t(a):(s=gt(t)?Un:et.current,n=t.contextTypes,a=(n=n!=null)?$s(e,s):fn),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Gl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function Vm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Gl.enqueueReplaceState(t,t.state,null)}function sd(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Th(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=$t(a):(a=gt(t)?Un:et.current,s.context=$s(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(nd(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Gl.enqueueReplaceState(s,s.state,null),dl(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Bs(e,t){try{var r="",n=t;do r+=p1(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Kc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function id(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Bj=typeof WeakMap=="function"?WeakMap:Map;function sy(e,t,r){r=Pr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){gl||(gl=!0,pd=n),id(e,t)},r}function iy(e,t,r){r=Pr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){id(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){id(e,t),typeof n!="function"&&(on===null?on=new Set([this]):on.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function Um(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new Bj;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=r2.bind(null,e,t,r),t.then(e,e))}function Bm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Pr(-1,1),t.tag=2,an(r,t,1))),r.lanes|=1),e)}var zj=Ir.ReactCurrentOwner,ft=!1;function nt(e,t,r,n){t.child=e===null?Mx(t,null,r,n):Vs(t,e.child,r,n)}function Wm(e,t,r,n,s){r=r.render;var a=t.ref;return Ls(t,s),n=Lh(e,t,r,n,a,s),r=Dh(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lr(e,t,s)):(xe&&r&&Nh(t),t.flags|=1,nt(e,t,n,s),t.child)}function Hm(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!qh(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,ay(e,t,a,n,s)):(e=Uo(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var o=a.memoizedProps;if(r=r.compare,r=r!==null?r:ca,r(o,n)&&e.ref===t.ref)return Lr(e,t,s)}return t.flags|=1,e=cn(a,n),e.ref=t.ref,e.return=t,t.child=e}function ay(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(ca(a,n)&&e.ref===t.ref)if(ft=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(ft=!0);else return t.lanes=e.lanes,Lr(e,t,s)}return ad(e,t,r,n,s)}function oy(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ks,wt),wt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ks,wt),wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ue(ks,wt),wt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ue(ks,wt),wt|=n;return nt(e,t,s,r),t.child}function ly(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ad(e,t,r,n,s){var a=gt(r)?Un:et.current;return a=$s(t,a),Ls(t,s),r=Lh(e,t,r,n,a,s),n=Dh(),e!==null&&!ft?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Lr(e,t,s)):(xe&&n&&Nh(t),t.flags|=1,nt(e,t,r,s),t.child)}function qm(e,t,r,n,s){if(gt(r)){var a=!0;al(t)}else a=!1;if(Ls(t,s),t.stateNode===null)$o(e,t),ny(t,r,n),sd(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=$t(u):(u=gt(r)?Un:et.current,u=$s(t,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&Vm(t,o,n,u),Hr=!1;var f=t.memoizedState;o.state=f,dl(t,n,o,s),c=t.memoizedState,l!==n||f!==c||pt.current||Hr?(typeof d=="function"&&(nd(t,r,d,n),c=t.memoizedState),(l=Hr||Fm(t,r,l,n,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Dx(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:Jt(t.type,l),o.props=u,h=t.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=$t(c):(c=gt(r)?Un:et.current,c=$s(t,c));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Vm(t,o,n,c),Hr=!1,f=t.memoizedState,o.state=f,dl(t,n,o,s);var x=t.memoizedState;l!==h||f!==x||pt.current||Hr?(typeof m=="function"&&(nd(t,r,m,n),x=t.memoizedState),(u=Hr||Fm(t,r,u,n,f,x,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return od(e,t,r,n,a,s)}function od(e,t,r,n,s,a){ly(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Am(t,r,!1),Lr(e,t,a);n=t.stateNode,zj.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Vs(t,e.child,null,a),t.child=Vs(t,null,l,a)):nt(e,t,l,a),t.memoizedState=n.state,s&&Am(t,r,!0),t.child}function cy(e){var t=e.stateNode;t.pendingContext?Tm(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tm(e,t.context,!1),Ah(e,t.containerInfo)}function Gm(e,t,r,n,s){return Fs(),kh(s),t.flags|=256,nt(e,t,r,n),t.child}var ld={dehydrated:null,treeContext:null,retryLane:0};function cd(e){return{baseLanes:e,cachePool:null,transitions:null}}function uy(e,t,r){var n=t.pendingProps,s=we.current,a=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(we,s&1),e===null)return td(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,a?(n=t.mode,a=t.child,o={mode:"hidden",children:o},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=Ql(o,n,0,null),e=Fn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=cd(r),t.memoizedState=ld,e):Fh(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Wj(e,t,o,n,l,s,r);if(a){a=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=cn(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=cn(l,a):(a=Fn(a,o,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,o=e.child.memoizedState,o=o===null?cd(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~r,t.memoizedState=ld,n}return a=e.child,e=a.sibling,n=cn(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Fh(e,t){return t=Ql({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lo(e,t,r,n){return n!==null&&kh(n),Vs(t,e.child,null,r),e=Fh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wj(e,t,r,n,s,a,o){if(r)return t.flags&256?(t.flags&=-257,n=Kc(Error(A(422))),lo(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Ql({mode:"visible",children:n.children},s,0,null),a=Fn(a,s,o,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&Vs(t,e.child,null,o),t.child.memoizedState=cd(o),t.memoizedState=ld,a);if(!(t.mode&1))return lo(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(A(419)),n=Kc(a,n,void 0),lo(e,t,o,n)}if(l=(o&e.childLanes)!==0,ft||l){if(n=Ue,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,Mr(e,s),rr(n,e,s,-1))}return Hh(),n=Kc(Error(A(421))),lo(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=n2.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,Nt=sn(s.nextSibling),St=t,xe=!0,er=null,e!==null&&(Rt[Mt++]=_r,Rt[Mt++]=Cr,Rt[Mt++]=Bn,_r=e.id,Cr=e.overflow,Bn=t),t=Fh(t,n.children),t.flags|=4096,t)}function Km(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),rd(e.return,t,r)}function Yc(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function dy(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(nt(e,t,n.children,r),n=we.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Km(e,r,t);else if(e.tag===19)Km(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(we,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&hl(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Yc(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&hl(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Yc(t,!0,r,null,a);break;case"together":Yc(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $o(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Lr(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Wn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(A(153));if(t.child!==null){for(e=t.child,r=cn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=cn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Hj(e,t,r){switch(t.tag){case 3:cy(t),Fs();break;case 5:Ix(t);break;case 1:gt(t.type)&&al(t);break;case 4:Ah(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(cl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(we,we.current&1),t.flags|=128,null):r&t.child.childLanes?uy(e,t,r):(ue(we,we.current&1),e=Lr(e,t,r),e!==null?e.sibling:null);ue(we,we.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return dy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(we,we.current),n)break;return null;case 22:case 23:return t.lanes=0,oy(e,t,r)}return Lr(e,t,r)}var hy,ud,fy,my;hy=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ud=function(){};fy=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,Ln(mr.current);var a=null;switch(r){case"input":s=Ou(e,s),n=Ou(e,n),a=[];break;case"select":s=Se({},s,{value:void 0}),n=Se({},n,{value:void 0}),a=[];break;case"textarea":s=Lu(e,s),n=Lu(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=sl)}Iu(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ra.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ra.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&he("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};my=function(e,t,r,n){r!==n&&(t.flags|=4)};function mi(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function qj(e,t,r){var n=t.pendingProps;switch(Sh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return gt(t.type)&&il(),Ye(t),null;case 3:return n=t.stateNode,Us(),fe(pt),fe(et),Rh(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ao(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,er!==null&&(yd(er),er=null))),ud(e,t),Ye(t),null;case 5:Oh(t);var s=Ln(ma.current);if(r=t.type,e!==null&&t.stateNode!=null)fy(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(A(166));return Ye(t),null}if(e=Ln(mr.current),ao(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[ur]=t,n[ha]=a,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(s=0;s<Ci.length;s++)he(Ci[s],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":nm(n,a),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},he("invalid",n);break;case"textarea":im(n,a),he("invalid",n)}Iu(r,a),s=null;for(var o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&io(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&io(n.textContent,l,e),s=["children",""+l]):ra.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&he("scroll",n)}switch(r){case"input":Ja(n),sm(n,a,!0);break;case"textarea":Ja(n),am(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=sl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Bg(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[ur]=t,e[ha]=n,hy(e,t,!1,!1),t.stateNode=e;e:{switch(o=$u(r,n),r){case"dialog":he("cancel",e),he("close",e),s=n;break;case"iframe":case"object":case"embed":he("load",e),s=n;break;case"video":case"audio":for(s=0;s<Ci.length;s++)he(Ci[s],e);s=n;break;case"source":he("error",e),s=n;break;case"img":case"image":case"link":he("error",e),he("load",e),s=n;break;case"details":he("toggle",e),s=n;break;case"input":nm(e,n),s=Ou(e,n),he("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=Se({},n,{value:void 0}),he("invalid",e);break;case"textarea":im(e,n),s=Lu(e,n),he("invalid",e);break;default:s=n}Iu(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?Hg(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&zg(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&na(e,c):typeof c=="number"&&na(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ra.hasOwnProperty(a)?c!=null&&a==="onScroll"&&he("scroll",e):c!=null&&ch(e,a,c,o))}switch(r){case"input":Ja(e),sm(e,n,!1);break;case"textarea":Ja(e),am(e);break;case"option":n.value!=null&&e.setAttribute("value",""+hn(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?As(e,!!n.multiple,a,!1):n.defaultValue!=null&&As(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=sl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)my(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(A(166));if(r=Ln(ma.current),Ln(mr.current),ao(t)){if(n=t.stateNode,r=t.memoizedProps,n[ur]=t,(a=n.nodeValue!==r)&&(e=St,e!==null))switch(e.tag){case 3:io(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&io(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ur]=t,t.stateNode=n}return Ye(t),null;case 13:if(fe(we),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&Nt!==null&&t.mode&1&&!(t.flags&128))Ox(),Fs(),t.flags|=98560,a=!1;else if(a=ao(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(A(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(A(317));a[ur]=t}else Fs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ye(t),a=!1}else er!==null&&(yd(er),er=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||we.current&1?Ie===0&&(Ie=3):Hh())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return Us(),ud(e,t),e===null&&ua(t.stateNode.containerInfo),Ye(t),null;case 10:return Ph(t.type._context),Ye(t),null;case 17:return gt(t.type)&&il(),Ye(t),null;case 19:if(fe(we),a=t.memoizedState,a===null)return Ye(t),null;if(n=(t.flags&128)!==0,o=a.rendering,o===null)if(n)mi(a,!1);else{if(Ie!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=hl(e),o!==null){for(t.flags|=128,mi(a,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(we,we.current&1|2),t.child}e=e.sibling}a.tail!==null&&Ee()>zs&&(t.flags|=128,n=!0,mi(a,!1),t.lanes=4194304)}else{if(!n)if(e=hl(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),mi(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!xe)return Ye(t),null}else 2*Ee()-a.renderingStartTime>zs&&r!==1073741824&&(t.flags|=128,n=!0,mi(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(r=a.last,r!==null?r.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ee(),t.sibling=null,r=we.current,ue(we,n?r&1|2:r&1),t):(Ye(t),null);case 22:case 23:return Wh(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?wt&1073741824&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(A(156,t.tag))}function Gj(e,t){switch(Sh(t),t.tag){case 1:return gt(t.type)&&il(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Us(),fe(pt),fe(et),Rh(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Oh(t),null;case 13:if(fe(we),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(A(340));Fs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return fe(we),null;case 4:return Us(),null;case 10:return Ph(t.type._context),null;case 22:case 23:return Wh(),null;case 24:return null;default:return null}}var co=!1,Xe=!1,Kj=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ss(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Ce(e,t,n)}else r.current=null}function dd(e,t,r){try{r()}catch(n){Ce(e,t,n)}}var Ym=!1;function Yj(e,t){if(Ku=tl,e=vx(),jh(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var m;h!==r||s!==0&&h.nodeType!==3||(l=o+s),h!==a||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===e)break t;if(f===r&&++u===s&&(l=o),f===a&&++d===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yu={focusedElem:e,selectionRange:r},tl=!1,D=t;D!==null;)if(t=D,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,D=e;else for(;D!==null;){t=D;try{var x=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var v=x.memoizedProps,N=x.memoizedState,y=t.stateNode,p=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:Jt(t.type,v),N);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(A(163))}}catch(w){Ce(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}return x=Ym,Ym=!1,x}function $i(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&dd(t,r,a)}s=s.next}while(s!==n)}}function Kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function hd(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function py(e){var t=e.alternate;t!==null&&(e.alternate=null,py(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ur],delete t[ha],delete t[Xu],delete t[Aj],delete t[Oj])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function gy(e){return e.tag===5||e.tag===3||e.tag===4}function Qm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fd(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=sl));else if(n!==4&&(e=e.child,e!==null))for(fd(e,t,r),e=e.sibling;e!==null;)fd(e,t,r),e=e.sibling}function md(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(md(e,t,r),e=e.sibling;e!==null;)md(e,t,r),e=e.sibling}var Be=null,Xt=!1;function Vr(e,t,r){for(r=r.child;r!==null;)xy(e,t,r),r=r.sibling}function xy(e,t,r){if(fr&&typeof fr.onCommitFiberUnmount=="function")try{fr.onCommitFiberUnmount(Vl,r)}catch{}switch(r.tag){case 5:Xe||Ss(r,t);case 6:var n=Be,s=Xt;Be=null,Vr(e,t,r),Be=n,Xt=s,Be!==null&&(Xt?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&(Xt?(e=Be,r=r.stateNode,e.nodeType===8?Bc(e.parentNode,r):e.nodeType===1&&Bc(e,r),oa(e)):Bc(Be,r.stateNode));break;case 4:n=Be,s=Xt,Be=r.stateNode.containerInfo,Xt=!0,Vr(e,t,r),Be=n,Xt=s;break;case 0:case 11:case 14:case 15:if(!Xe&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&dd(r,t,o),s=s.next}while(s!==n)}Vr(e,t,r);break;case 1:if(!Xe&&(Ss(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){Ce(r,t,l)}Vr(e,t,r);break;case 21:Vr(e,t,r);break;case 22:r.mode&1?(Xe=(n=Xe)||r.memoizedState!==null,Vr(e,t,r),Xe=n):Vr(e,t,r);break;default:Vr(e,t,r)}}function Jm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Kj),t.forEach(function(n){var s=s2.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Gt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:Be=l.stateNode,Xt=!1;break e;case 3:Be=l.stateNode.containerInfo,Xt=!0;break e;case 4:Be=l.stateNode.containerInfo,Xt=!0;break e}l=l.return}if(Be===null)throw Error(A(160));xy(a,o,s),Be=null,Xt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){Ce(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)yy(t,e),t=t.sibling}function yy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Gt(t,e),lr(e),n&4){try{$i(3,e,e.return),Kl(3,e)}catch(v){Ce(e,e.return,v)}try{$i(5,e,e.return)}catch(v){Ce(e,e.return,v)}}break;case 1:Gt(t,e),lr(e),n&512&&r!==null&&Ss(r,r.return);break;case 5:if(Gt(t,e),lr(e),n&512&&r!==null&&Ss(r,r.return),e.flags&32){var s=e.stateNode;try{na(s,"")}catch(v){Ce(e,e.return,v)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,o=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&Vg(s,a),$u(l,o);var u=$u(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Hg(s,h):d==="dangerouslySetInnerHTML"?zg(s,h):d==="children"?na(s,h):ch(s,d,h,u)}switch(l){case"input":Ru(s,a);break;case"textarea":Ug(s,a);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?As(s,!!a.multiple,m,!1):f!==!!a.multiple&&(a.defaultValue!=null?As(s,!!a.multiple,a.defaultValue,!0):As(s,!!a.multiple,a.multiple?[]:"",!1))}s[ha]=a}catch(v){Ce(e,e.return,v)}}break;case 6:if(Gt(t,e),lr(e),n&4){if(e.stateNode===null)throw Error(A(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(v){Ce(e,e.return,v)}}break;case 3:if(Gt(t,e),lr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{oa(t.containerInfo)}catch(v){Ce(e,e.return,v)}break;case 4:Gt(t,e),lr(e);break;case 13:Gt(t,e),lr(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(Bh=Ee())),n&4&&Jm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Xe=(u=Xe)||d,Gt(t,e),Xe=u):Gt(t,e),lr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(D=e,d=e.child;d!==null;){for(h=D=d;D!==null;){switch(f=D,m=f.child,f.tag){case 0:case 11:case 14:case 15:$i(4,f,f.return);break;case 1:Ss(f,f.return);var x=f.stateNode;if(typeof x.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(v){Ce(n,r,v)}}break;case 5:Ss(f,f.return);break;case 22:if(f.memoizedState!==null){Zm(h);continue}}m!==null?(m.return=f,D=m):Zm(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=Wg("display",o))}catch(v){Ce(e,e.return,v)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(v){Ce(e,e.return,v)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Gt(t,e),lr(e),n&4&&Jm(e);break;case 21:break;default:Gt(t,e),lr(e)}}function lr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(gy(r)){var n=r;break e}r=r.return}throw Error(A(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(na(s,""),n.flags&=-33);var a=Qm(e);md(e,a,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Qm(e);fd(e,l,o);break;default:throw Error(A(161))}}catch(c){Ce(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qj(e,t,r){D=e,vy(e)}function vy(e,t,r){for(var n=(e.mode&1)!==0;D!==null;){var s=D,a=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||co;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Xe;l=co;var u=Xe;if(co=o,(Xe=c)&&!u)for(D=s;D!==null;)o=D,c=o.child,o.tag===22&&o.memoizedState!==null?ep(s):c!==null?(c.return=o,D=c):ep(s);for(;a!==null;)D=a,vy(a),a=a.sibling;D=s,co=l,Xe=u}Xm(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,D=a):Xm(e)}}function Xm(e){for(;D!==null;){var t=D;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xe||Kl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Xe)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Jt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Dm(t,a,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dm(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&oa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(A(163))}Xe||t.flags&512&&hd(t)}catch(f){Ce(t,t.return,f)}}if(t===e){D=null;break}if(r=t.sibling,r!==null){r.return=t.return,D=r;break}D=t.return}}function Zm(e){for(;D!==null;){var t=D;if(t===e){D=null;break}var r=t.sibling;if(r!==null){r.return=t.return,D=r;break}D=t.return}}function ep(e){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Kl(4,t)}catch(c){Ce(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){Ce(t,s,c)}}var a=t.return;try{hd(t)}catch(c){Ce(t,a,c)}break;case 5:var o=t.return;try{hd(t)}catch(c){Ce(t,o,c)}}}catch(c){Ce(t,t.return,c)}if(t===e){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var Jj=Math.ceil,pl=Ir.ReactCurrentDispatcher,Vh=Ir.ReactCurrentOwner,Dt=Ir.ReactCurrentBatchConfig,re=0,Ue=null,Oe=null,ze=0,wt=0,ks=xn(0),Ie=0,ya=null,Wn=0,Yl=0,Uh=0,Fi=null,dt=null,Bh=0,zs=1/0,Nr=null,gl=!1,pd=null,on=null,uo=!1,Xr=null,xl=0,Vi=0,gd=null,Fo=-1,Vo=0;function it(){return re&6?Ee():Fo!==-1?Fo:Fo=Ee()}function ln(e){return e.mode&1?re&2&&ze!==0?ze&-ze:Mj.transition!==null?(Vo===0&&(Vo=nx()),Vo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:ux(e.type)),e):1}function rr(e,t,r,n){if(50<Vi)throw Vi=0,gd=null,Error(A(185));Ma(e,r,n),(!(re&2)||e!==Ue)&&(e===Ue&&(!(re&2)&&(Yl|=r),Ie===4&&Kr(e,ze)),xt(e,n),r===1&&re===0&&!(t.mode&1)&&(zs=Ee()+500,Hl&&yn()))}function xt(e,t){var r=e.callbackNode;M1(e,t);var n=el(e,e===Ue?ze:0);if(n===0)r!==null&&cm(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&cm(r),t===1)e.tag===0?Rj(tp.bind(null,e)):Ex(tp.bind(null,e)),Ej(function(){!(re&6)&&yn()}),r=null;else{switch(sx(n)){case 1:r=mh;break;case 4:r=tx;break;case 16:r=Zo;break;case 536870912:r=rx;break;default:r=Zo}r=Cy(r,by.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function by(e,t){if(Fo=-1,Vo=0,re&6)throw Error(A(327));var r=e.callbackNode;if(Ds()&&e.callbackNode!==r)return null;var n=el(e,e===Ue?ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yl(e,n);else{t=n;var s=re;re|=2;var a=jy();(Ue!==e||ze!==t)&&(Nr=null,zs=Ee()+500,$n(e,t));do try{e2();break}catch(l){wy(e,l)}while(!0);Ch(),pl.current=a,re=s,Oe!==null?t=0:(Ue=null,ze=0,t=Ie)}if(t!==0){if(t===2&&(s=zu(e),s!==0&&(n=s,t=xd(e,s))),t===1)throw r=ya,$n(e,0),Kr(e,n),xt(e,Ee()),r;if(t===6)Kr(e,n);else{if(s=e.current.alternate,!(n&30)&&!Xj(s)&&(t=yl(e,n),t===2&&(a=zu(e),a!==0&&(n=a,t=xd(e,a))),t===1))throw r=ya,$n(e,0),Kr(e,n),xt(e,Ee()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(A(345));case 2:Cn(e,dt,Nr);break;case 3:if(Kr(e,n),(n&130023424)===n&&(t=Bh+500-Ee(),10<t)){if(el(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ju(Cn.bind(null,e,dt,Nr),t);break}Cn(e,dt,Nr);break;case 4:if(Kr(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-tr(n);a=1<<o,o=t[o],o>s&&(s=o),n&=~a}if(n=s,n=Ee()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Jj(n/1960))-n,10<n){e.timeoutHandle=Ju(Cn.bind(null,e,dt,Nr),n);break}Cn(e,dt,Nr);break;case 5:Cn(e,dt,Nr);break;default:throw Error(A(329))}}}return xt(e,Ee()),e.callbackNode===r?by.bind(null,e):null}function xd(e,t){var r=Fi;return e.current.memoizedState.isDehydrated&&($n(e,t).flags|=256),e=yl(e,t),e!==2&&(t=dt,dt=r,t!==null&&yd(t)),e}function yd(e){dt===null?dt=e:dt.push.apply(dt,e)}function Xj(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!nr(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Kr(e,t){for(t&=~Uh,t&=~Yl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-tr(t),n=1<<r;e[r]=-1,t&=~n}}function tp(e){if(re&6)throw Error(A(327));Ds();var t=el(e,0);if(!(t&1))return xt(e,Ee()),null;var r=yl(e,t);if(e.tag!==0&&r===2){var n=zu(e);n!==0&&(t=n,r=xd(e,n))}if(r===1)throw r=ya,$n(e,0),Kr(e,t),xt(e,Ee()),r;if(r===6)throw Error(A(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,dt,Nr),xt(e,Ee()),null}function zh(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(zs=Ee()+500,Hl&&yn())}}function Hn(e){Xr!==null&&Xr.tag===0&&!(re&6)&&Ds();var t=re;re|=1;var r=Dt.transition,n=ae;try{if(Dt.transition=null,ae=1,e)return e()}finally{ae=n,Dt.transition=r,re=t,!(re&6)&&yn()}}function Wh(){wt=ks.current,fe(ks)}function $n(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Pj(r)),Oe!==null)for(r=Oe.return;r!==null;){var n=r;switch(Sh(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&il();break;case 3:Us(),fe(pt),fe(et),Rh();break;case 5:Oh(n);break;case 4:Us();break;case 13:fe(we);break;case 19:fe(we);break;case 10:Ph(n.type._context);break;case 22:case 23:Wh()}r=r.return}if(Ue=e,Oe=e=cn(e.current,null),ze=wt=t,Ie=0,ya=null,Uh=Yl=Wn=0,dt=Fi=null,Mn!==null){for(t=0;t<Mn.length;t++)if(r=Mn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var o=a.next;a.next=s,n.next=o}r.pending=n}Mn=null}return e}function wy(e,t){do{var r=Oe;try{if(Ch(),Do.current=ml,fl){for(var n=Ne.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fl=!1}if(zn=0,Ve=De=Ne=null,Ii=!1,pa=0,Vh.current=null,r===null||r.return===null){Ie=1,ya=t,Oe=null;break}e:{var a=e,o=r.return,l=r,c=t;if(t=ze,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=Bm(o);if(m!==null){m.flags&=-257,zm(m,o,l,a,t),m.mode&1&&Um(a,u,t),t=m,c=u;var x=t.updateQueue;if(x===null){var v=new Set;v.add(c),t.updateQueue=v}else x.add(c);break e}else{if(!(t&1)){Um(a,u,t),Hh();break e}c=Error(A(426))}}else if(xe&&l.mode&1){var N=Bm(o);if(N!==null){!(N.flags&65536)&&(N.flags|=256),zm(N,o,l,a,t),kh(Bs(c,l));break e}}a=c=Bs(c,l),Ie!==4&&(Ie=2),Fi===null?Fi=[a]:Fi.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var y=sy(a,c,t);Lm(a,y);break e;case 1:l=c;var p=a.type,g=a.stateNode;if(!(a.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(on===null||!on.has(g)))){a.flags|=65536,t&=-t,a.lanes|=t;var w=iy(a,l,t);Lm(a,w);break e}}a=a.return}while(a!==null)}Sy(r)}catch(j){t=j,Oe===r&&r!==null&&(Oe=r=r.return);continue}break}while(!0)}function jy(){var e=pl.current;return pl.current=ml,e===null?ml:e}function Hh(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Ue===null||!(Wn&268435455)&&!(Yl&268435455)||Kr(Ue,ze)}function yl(e,t){var r=re;re|=2;var n=jy();(Ue!==e||ze!==t)&&(Nr=null,$n(e,t));do try{Zj();break}catch(s){wy(e,s)}while(!0);if(Ch(),re=r,pl.current=n,Oe!==null)throw Error(A(261));return Ue=null,ze=0,Ie}function Zj(){for(;Oe!==null;)Ny(Oe)}function e2(){for(;Oe!==null&&!k1();)Ny(Oe)}function Ny(e){var t=_y(e.alternate,e,wt);e.memoizedProps=e.pendingProps,t===null?Sy(e):Oe=t,Vh.current=null}function Sy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Gj(r,t),r!==null){r.flags&=32767,Oe=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Oe=null;return}}else if(r=qj(r,t,wt),r!==null){Oe=r;return}if(t=t.sibling,t!==null){Oe=t;return}Oe=t=e}while(t!==null);Ie===0&&(Ie=5)}function Cn(e,t,r){var n=ae,s=Dt.transition;try{Dt.transition=null,ae=1,t2(e,t,r,n)}finally{Dt.transition=s,ae=n}return null}function t2(e,t,r,n){do Ds();while(Xr!==null);if(re&6)throw Error(A(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(A(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(L1(e,a),e===Ue&&(Oe=Ue=null,ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||uo||(uo=!0,Cy(Zo,function(){return Ds(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dt.transition,Dt.transition=null;var o=ae;ae=1;var l=re;re|=4,Vh.current=null,Yj(e,r),yy(r,e),wj(Yu),tl=!!Ku,Yu=Ku=null,e.current=r,Qj(r),_1(),re=l,ae=o,Dt.transition=a}else e.current=r;if(uo&&(uo=!1,Xr=e,xl=s),a=e.pendingLanes,a===0&&(on=null),E1(r.stateNode),xt(e,Ee()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(gl)throw gl=!1,e=pd,pd=null,e;return xl&1&&e.tag!==0&&Ds(),a=e.pendingLanes,a&1?e===gd?Vi++:(Vi=0,gd=e):Vi=0,yn(),null}function Ds(){if(Xr!==null){var e=sx(xl),t=Dt.transition,r=ae;try{if(Dt.transition=null,ae=16>e?16:e,Xr===null)var n=!1;else{if(e=Xr,Xr=null,xl=0,re&6)throw Error(A(331));var s=re;for(re|=4,D=e.current;D!==null;){var a=D,o=a.child;if(D.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(D=u;D!==null;){var d=D;switch(d.tag){case 0:case 11:case 15:$i(8,d,a)}var h=d.child;if(h!==null)h.return=d,D=h;else for(;D!==null;){d=D;var f=d.sibling,m=d.return;if(py(d),d===u){D=null;break}if(f!==null){f.return=m,D=f;break}D=m}}}var x=a.alternate;if(x!==null){var v=x.child;if(v!==null){x.child=null;do{var N=v.sibling;v.sibling=null,v=N}while(v!==null)}}D=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,D=o;else e:for(;D!==null;){if(a=D,a.flags&2048)switch(a.tag){case 0:case 11:case 15:$i(9,a,a.return)}var y=a.sibling;if(y!==null){y.return=a.return,D=y;break e}D=a.return}}var p=e.current;for(D=p;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else e:for(o=p;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kl(9,l)}}catch(j){Ce(l,l.return,j)}if(l===o){D=null;break e}var w=l.sibling;if(w!==null){w.return=l.return,D=w;break e}D=l.return}}if(re=s,yn(),fr&&typeof fr.onPostCommitFiberRoot=="function")try{fr.onPostCommitFiberRoot(Vl,e)}catch{}n=!0}return n}finally{ae=r,Dt.transition=t}}return!1}function rp(e,t,r){t=Bs(r,t),t=sy(e,t,1),e=an(e,t,1),t=it(),e!==null&&(Ma(e,1,t),xt(e,t))}function Ce(e,t,r){if(e.tag===3)rp(e,e,r);else for(;t!==null;){if(t.tag===3){rp(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(on===null||!on.has(n))){e=Bs(r,e),e=iy(t,e,1),t=an(t,e,1),e=it(),t!==null&&(Ma(t,1,e),xt(t,e));break}}t=t.return}}function r2(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&r,Ue===e&&(ze&r)===r&&(Ie===4||Ie===3&&(ze&130023424)===ze&&500>Ee()-Bh?$n(e,0):Uh|=r),xt(e,t)}function ky(e,t){t===0&&(e.mode&1?(t=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):t=1);var r=it();e=Mr(e,t),e!==null&&(Ma(e,t,r),xt(e,r))}function n2(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ky(e,r)}function s2(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(A(314))}n!==null&&n.delete(t),ky(e,r)}var _y;_y=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||pt.current)ft=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ft=!1,Hj(e,t,r);ft=!!(e.flags&131072)}else ft=!1,xe&&t.flags&1048576&&Tx(t,ll,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;$o(e,t),e=t.pendingProps;var s=$s(t,et.current);Ls(t,r),s=Lh(null,t,n,e,s,r);var a=Dh();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,gt(n)?(a=!0,al(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Th(t),s.updater=Gl,t.stateNode=s,s._reactInternals=t,sd(t,n,e,r),t=od(null,t,n,!0,a,r)):(t.tag=0,xe&&a&&Nh(t),nt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch($o(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=a2(n),e=Jt(n,e),s){case 0:t=ad(null,t,n,e,r);break e;case 1:t=qm(null,t,n,e,r);break e;case 11:t=Wm(null,t,n,e,r);break e;case 14:t=Hm(null,t,n,Jt(n.type,e),r);break e}throw Error(A(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),ad(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),qm(e,t,n,s,r);case 3:e:{if(cy(t),e===null)throw Error(A(387));n=t.pendingProps,a=t.memoizedState,s=a.element,Dx(e,t),dl(t,n,null,r);var o=t.memoizedState;if(n=o.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Bs(Error(A(423)),t),t=Gm(e,t,n,r,s);break e}else if(n!==s){s=Bs(Error(A(424)),t),t=Gm(e,t,n,r,s);break e}else for(Nt=sn(t.stateNode.containerInfo.firstChild),St=t,xe=!0,er=null,r=Mx(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fs(),n===s){t=Lr(e,t,r);break e}nt(e,t,n,r)}t=t.child}return t;case 5:return Ix(t),e===null&&td(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,o=s.children,Qu(n,s)?o=null:a!==null&&Qu(n,a)&&(t.flags|=32),ly(e,t),nt(e,t,o,r),t.child;case 6:return e===null&&td(t),null;case 13:return uy(e,t,r);case 4:return Ah(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Vs(t,null,n,r):nt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),Wm(e,t,n,s,r);case 7:return nt(e,t,t.pendingProps,r),t.child;case 8:return nt(e,t,t.pendingProps.children,r),t.child;case 12:return nt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,o=s.value,ue(cl,n._currentValue),n._currentValue=o,a!==null)if(nr(a.value,o)){if(a.children===s.children&&!pt.current){t=Lr(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){o=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=Pr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),rd(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(A(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),rd(o,r,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}nt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ls(t,r),s=$t(s),n=n(s),t.flags|=1,nt(e,t,n,r),t.child;case 14:return n=t.type,s=Jt(n,t.pendingProps),s=Jt(n.type,s),Hm(e,t,n,s,r);case 15:return ay(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Jt(n,s),$o(e,t),t.tag=1,gt(n)?(e=!0,al(t)):e=!1,Ls(t,r),ny(t,n,s),sd(t,n,s,r),od(null,t,n,!0,e,r);case 19:return dy(e,t,r);case 22:return oy(e,t,r)}throw Error(A(156,t.tag))};function Cy(e,t){return ex(e,t)}function i2(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lt(e,t,r,n){return new i2(e,t,r,n)}function qh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a2(e){if(typeof e=="function")return qh(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dh)return 11;if(e===hh)return 14}return 2}function cn(e,t){var r=e.alternate;return r===null?(r=Lt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Uo(e,t,r,n,s,a){var o=2;if(n=e,typeof e=="function")qh(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case ps:return Fn(r.children,s,a,t);case uh:o=8,s|=8;break;case Pu:return e=Lt(12,r,t,s|2),e.elementType=Pu,e.lanes=a,e;case Eu:return e=Lt(13,r,t,s),e.elementType=Eu,e.lanes=a,e;case Tu:return e=Lt(19,r,t,s),e.elementType=Tu,e.lanes=a,e;case Ig:return Ql(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lg:o=10;break e;case Dg:o=9;break e;case dh:o=11;break e;case hh:o=14;break e;case Wr:o=16,n=null;break e}throw Error(A(130,e==null?e:typeof e,""))}return t=Lt(o,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function Fn(e,t,r,n){return e=Lt(7,e,n,t),e.lanes=r,e}function Ql(e,t,r,n){return e=Lt(22,e,n,t),e.elementType=Ig,e.lanes=r,e.stateNode={isHidden:!1},e}function Qc(e,t,r){return e=Lt(6,e,null,t),e.lanes=r,e}function Jc(e,t,r){return t=Lt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function o2(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ac(0),this.expirationTimes=Ac(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ac(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gh(e,t,r,n,s,a,o,l,c){return e=new o2(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Lt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Th(a),e}function l2(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Py(e){if(!e)return fn;e=e._reactInternals;e:{if(Jn(e)!==e||e.tag!==1)throw Error(A(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(gt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(A(171))}if(e.tag===1){var r=e.type;if(gt(r))return Px(e,r,t)}return t}function Ey(e,t,r,n,s,a,o,l,c){return e=Gh(r,n,!0,e,s,a,o,l,c),e.context=Py(null),r=e.current,n=it(),s=ln(r),a=Pr(n,s),a.callback=t??null,an(r,a,s),e.current.lanes=s,Ma(e,s,n),xt(e,n),e}function Jl(e,t,r,n){var s=t.current,a=it(),o=ln(s);return r=Py(r),t.context===null?t.context=r:t.pendingContext=r,t=Pr(a,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=an(s,t,o),e!==null&&(rr(e,s,o,a),Lo(e,s,o)),o}function vl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Kh(e,t){np(e,t),(e=e.alternate)&&np(e,t)}function c2(){return null}var Ty=typeof reportError=="function"?reportError:function(e){console.error(e)};function Yh(e){this._internalRoot=e}Xl.prototype.render=Yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(A(409));Jl(e,t,null,null)};Xl.prototype.unmount=Yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){Jl(null,e,null,null)}),t[Rr]=null}};function Xl(e){this._internalRoot=e}Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ox();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Gr.length&&t!==0&&t<Gr[r].priority;r++);Gr.splice(r,0,e),r===0&&cx(e)}};function Qh(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function sp(){}function u2(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=vl(o);a.call(u)}}var o=Ey(t,n,e,0,null,!1,!1,"",sp);return e._reactRootContainer=o,e[Rr]=o.current,ua(e.nodeType===8?e.parentNode:e),Hn(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=vl(c);l.call(u)}}var c=Gh(e,0,!1,null,null,!1,!1,"",sp);return e._reactRootContainer=c,e[Rr]=c.current,ua(e.nodeType===8?e.parentNode:e),Hn(function(){Jl(t,c,r,n)}),c}function ec(e,t,r,n,s){var a=r._reactRootContainer;if(a){var o=a;if(typeof s=="function"){var l=s;s=function(){var c=vl(o);l.call(c)}}Jl(t,o,e,s)}else o=u2(r,t,e,s,n);return vl(o)}ix=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_i(t.pendingLanes);r!==0&&(ph(t,r|1),xt(t,Ee()),!(re&6)&&(zs=Ee()+500,yn()))}break;case 13:Hn(function(){var n=Mr(e,1);if(n!==null){var s=it();rr(n,e,1,s)}}),Kh(e,1)}};gh=function(e){if(e.tag===13){var t=Mr(e,134217728);if(t!==null){var r=it();rr(t,e,134217728,r)}Kh(e,134217728)}};ax=function(e){if(e.tag===13){var t=ln(e),r=Mr(e,t);if(r!==null){var n=it();rr(r,e,t,n)}Kh(e,t)}};ox=function(){return ae};lx=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};Vu=function(e,t,r){switch(t){case"input":if(Ru(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Wl(n);if(!s)throw Error(A(90));Fg(n),Ru(n,s)}}}break;case"textarea":Ug(e,r);break;case"select":t=r.value,t!=null&&As(e,!!r.multiple,t,!1)}};Kg=zh;Yg=Hn;var d2={usingClientEntryPoint:!1,Events:[Da,vs,Wl,qg,Gg,zh]},pi={findFiberByHostInstance:Rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},h2={bundleType:pi.bundleType,version:pi.version,rendererPackageName:pi.rendererPackageName,rendererConfig:pi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Xg(e),e===null?null:e.stateNode},findFiberByHostInstance:pi.findFiberByHostInstance||c2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ho=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ho.isDisabled&&ho.supportsFiber)try{Vl=ho.inject(h2),fr=ho}catch{}}Pt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=d2;Pt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(t))throw Error(A(200));return l2(e,t,null,r)};Pt.createRoot=function(e,t){if(!Qh(e))throw Error(A(299));var r=!1,n="",s=Ty;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Gh(e,1,!1,null,null,r,!1,n,s),e[Rr]=t.current,ua(e.nodeType===8?e.parentNode:e),new Yh(t)};Pt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(A(188)):(e=Object.keys(e).join(","),Error(A(268,e)));return e=Xg(t),e=e===null?null:e.stateNode,e};Pt.flushSync=function(e){return Hn(e)};Pt.hydrate=function(e,t,r){if(!Zl(t))throw Error(A(200));return ec(null,e,t,!0,r)};Pt.hydrateRoot=function(e,t,r){if(!Qh(e))throw Error(A(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",o=Ty;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=Ey(t,null,e,1,r??null,s,!1,a,o),e[Rr]=t.current,ua(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Xl(t)};Pt.render=function(e,t,r){if(!Zl(t))throw Error(A(200));return ec(null,e,t,!1,r)};Pt.unmountComponentAtNode=function(e){if(!Zl(e))throw Error(A(40));return e._reactRootContainer?(Hn(function(){ec(null,null,e,!1,function(){e._reactRootContainer=null,e[Rr]=null})}),!0):!1};Pt.unstable_batchedUpdates=zh;Pt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Zl(r))throw Error(A(200));if(e==null||e._reactInternals===void 0)throw Error(A(38));return ec(e,t,r,!1,n)};Pt.version="18.3.1-next-f1338f8080-20240426";function Ay(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ay)}catch(e){console.error(e)}}Ay(),Ag.exports=Pt;var f2=Ag.exports,Oy,ip=f2;Oy=ip.createRoot,ip.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function va(){return va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},va.apply(this,arguments)}var Zr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zr||(Zr={}));const ap="popstate";function m2(e){e===void 0&&(e={});function t(n,s){let{pathname:a,search:o,hash:l}=n.location;return vd("",{pathname:a,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:bl(s)}return g2(t,r,null,e)}function Te(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ry(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function p2(){return Math.random().toString(36).substr(2,8)}function op(e,t){return{usr:e.state,key:e.key,idx:t}}function vd(e,t,r,n){return r===void 0&&(r=null),va({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zs(t):t,{state:r,key:t&&t.key||n||p2()})}function bl(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Zs(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function g2(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:a=!1}=n,o=s.history,l=Zr.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(va({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=Zr.Pop;let N=d(),y=N==null?null:N-u;u=N,c&&c({action:l,location:v.location,delta:y})}function f(N,y){l=Zr.Push;let p=vd(v.location,N,y);u=d()+1;let g=op(p,u),w=v.createHref(p);try{o.pushState(g,"",w)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(w)}a&&c&&c({action:l,location:v.location,delta:1})}function m(N,y){l=Zr.Replace;let p=vd(v.location,N,y);u=d();let g=op(p,u),w=v.createHref(p);o.replaceState(g,"",w),a&&c&&c({action:l,location:v.location,delta:0})}function x(N){let y=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof N=="string"?N:bl(N);return p=p.replace(/ $/,"%20"),Te(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let v={get action(){return l},get location(){return e(s,o)},listen(N){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ap,h),c=N,()=>{s.removeEventListener(ap,h),c=null}},createHref(N){return t(s,N)},createURL:x,encodeLocation(N){let y=x(N);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:m,go(N){return o.go(N)}};return v}var lp;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lp||(lp={}));function x2(e,t,r){return r===void 0&&(r="/"),y2(e,t,r,!1)}function y2(e,t,r,n){let s=typeof t=="string"?Zs(t):t,a=Jh(s.pathname||"/",r);if(a==null)return null;let o=My(e);v2(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=T2(a);l=P2(o[c],u,n)}return l}function My(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Te(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=un([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Te(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),My(a.children,t,d,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:_2(u,a.index),routesMeta:d})};return e.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))s(a,o);else for(let c of Ly(a.path))s(a,o,c)}),t}function Ly(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return s?[a,""]:[a];let o=Ly(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function v2(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:C2(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const b2=/^:[\w-]+$/,w2=3,j2=2,N2=1,S2=10,k2=-2,cp=e=>e==="*";function _2(e,t){let r=e.split("/"),n=r.length;return r.some(cp)&&(n+=k2),t&&(n+=j2),r.filter(s=>!cp(s)).reduce((s,a)=>s+(b2.test(a)?w2:a===""?N2:S2),n)}function C2(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function P2(e,t,r){let{routesMeta:n}=e,s={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?t:t.slice(a.length)||"/",h=up({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&r&&!n[n.length-1].route.index&&(h=up({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:un([a,h.pathname]),pathnameBase:M2(un([a,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(a=un([a,h.pathnameBase]))}return o}function up(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=E2(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let a=s[0],o=a.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let v=l[h]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const x=l[h];return m&&!x?u[f]=void 0:u[f]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function E2(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Ry(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function T2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ry(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function A2(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Zs(e):e;return{pathname:r?r.startsWith("/")?r:O2(r,t):t,search:L2(n),hash:D2(s)}}function O2(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Xc(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function R2(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Xh(e,t){let r=R2(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Zh(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Zs(e):(s=va({},e),Te(!s.pathname||!s.pathname.includes("?"),Xc("?","pathname","search",s)),Te(!s.pathname||!s.pathname.includes("#"),Xc("#","pathname","hash",s)),Te(!s.search||!s.search.includes("#"),Xc("#","search","hash",s)));let a=e===""||s.pathname==="",o=a?"/":s.pathname,l;if(o==null)l=r;else{let h=t.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?t[h]:"/"}let c=A2(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const un=e=>e.join("/").replace(/\/\/+/g,"/"),M2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),L2=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,D2=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function I2(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Dy=["post","put","patch","delete"];new Set(Dy);const $2=["get",...Dy];new Set($2);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ba(){return ba=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ba.apply(this,arguments)}const ef=b.createContext(null),F2=b.createContext(null),vn=b.createContext(null),tc=b.createContext(null),$r=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Iy=b.createContext(null);function V2(e,t){let{relative:r}=t===void 0?{}:t;ei()||Te(!1);let{basename:n,navigator:s}=b.useContext(vn),{hash:a,pathname:o,search:l}=Fy(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:un([n,o])),s.createHref({pathname:c,search:l,hash:a})}function ei(){return b.useContext(tc)!=null}function ti(){return ei()||Te(!1),b.useContext(tc).location}function $y(e){b.useContext(vn).static||b.useLayoutEffect(e)}function ri(){let{isDataRoute:e}=b.useContext($r);return e?eN():U2()}function U2(){ei()||Te(!1);let e=b.useContext(ef),{basename:t,future:r,navigator:n}=b.useContext(vn),{matches:s}=b.useContext($r),{pathname:a}=ti(),o=JSON.stringify(Xh(s,r.v7_relativeSplatPath)),l=b.useRef(!1);return $y(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=Zh(u,JSON.parse(o),a,d.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:un([t,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[t,n,o,a,e])}function B2(){let{matches:e}=b.useContext($r),t=e[e.length-1];return t?t.params:{}}function Fy(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=b.useContext(vn),{matches:s}=b.useContext($r),{pathname:a}=ti(),o=JSON.stringify(Xh(s,n.v7_relativeSplatPath));return b.useMemo(()=>Zh(e,JSON.parse(o),a,r==="path"),[e,o,a,r])}function z2(e,t){return W2(e,t)}function W2(e,t,r,n){ei()||Te(!1);let{navigator:s}=b.useContext(vn),{matches:a}=b.useContext($r),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ti(),d;if(t){var h;let N=typeof t=="string"?Zs(t):t;c==="/"||(h=N.pathname)!=null&&h.startsWith(c)||Te(!1),d=N}else d=u;let f=d.pathname||"/",m=f;if(c!=="/"){let N=c.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(N.length).join("/")}let x=x2(e,{pathname:m}),v=Y2(x&&x.map(N=>Object.assign({},N,{params:Object.assign({},l,N.params),pathname:un([c,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?c:un([c,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,r,n);return t&&v?b.createElement(tc.Provider,{value:{location:ba({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zr.Pop}},v):v}function H2(){let e=Z2(),t=I2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},t),r?b.createElement("pre",{style:s},r):null,null)}const q2=b.createElement(H2,null);class G2 extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?b.createElement($r.Provider,{value:this.props.routeContext},b.createElement(Iy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function K2(e){let{routeContext:t,match:r,children:n}=e,s=b.useContext(ef);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement($r.Provider,{value:t},n)}function Y2(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var a;if(!r)return null;if(r.errors)e=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||Te(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:m}=r,x=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||x){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,x=!1,v=null,N=null;r&&(m=l&&h.route.id?l[h.route.id]:void 0,v=h.route.errorElement||q2,c&&(u<0&&f===0?(x=!0,N=null):u===f&&(x=!0,N=h.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,f+1)),p=()=>{let g;return m?g=v:x?g=N:h.route.Component?g=b.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,b.createElement(K2,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:g})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?b.createElement(G2,{location:r.location,revalidation:r.revalidation,component:v,error:m,children:p(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):p()},null)}var Vy=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Vy||{}),wl=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(wl||{});function Q2(e){let t=b.useContext(ef);return t||Te(!1),t}function J2(e){let t=b.useContext(F2);return t||Te(!1),t}function X2(e){let t=b.useContext($r);return t||Te(!1),t}function Uy(e){let t=X2(),r=t.matches[t.matches.length-1];return r.route.id||Te(!1),r.route.id}function Z2(){var e;let t=b.useContext(Iy),r=J2(wl.UseRouteError),n=Uy(wl.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function eN(){let{router:e}=Q2(Vy.UseNavigateStable),t=Uy(wl.UseNavigateStable),r=b.useRef(!1);return $y(()=>{r.current=!0}),b.useCallback(function(s,a){a===void 0&&(a={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ba({fromRouteId:t},a)))},[e,t])}function tN(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function dp(e){let{to:t,replace:r,state:n,relative:s}=e;ei()||Te(!1);let{future:a,static:o}=b.useContext(vn),{matches:l}=b.useContext($r),{pathname:c}=ti(),u=ri(),d=Zh(t,Xh(l,a.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:s}),[u,h,s,r,n]),null}function Kt(e){Te(!1)}function rN(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Zr.Pop,navigator:a,static:o=!1,future:l}=e;ei()&&Te(!1);let c=t.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:a,static:o,future:ba({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Zs(n));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:x="default"}=n,v=b.useMemo(()=>{let N=Jh(d,c);return N==null?null:{location:{pathname:N,search:h,hash:f,state:m,key:x},navigationType:s}},[c,d,h,f,m,x,s]);return v==null?null:b.createElement(vn.Provider,{value:u},b.createElement(tc.Provider,{children:r,value:v}))}function nN(e){let{children:t,location:r}=e;return z2(bd(t),r)}new Promise(()=>{});function bd(e,t){t===void 0&&(t=[]);let r=[];return b.Children.forEach(e,(n,s)=>{if(!b.isValidElement(n))return;let a=[...t,s];if(n.type===b.Fragment){r.push.apply(r,bd(n.props.children,a));return}n.type!==Kt&&Te(!1),!n.props.index||!n.props.children||Te(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=bd(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wd(){return wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wd.apply(this,arguments)}function sN(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,a;for(a=0;a<n.length;a++)s=n[a],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function iN(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function aN(e,t){return e.button===0&&(!t||t==="_self")&&!iN(e)}const oN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lN="6";try{window.__reactRouterVersion=lN}catch{}const cN="startTransition",hp=r1[cN];function uN(e){let{basename:t,children:r,future:n,window:s}=e,a=b.useRef();a.current==null&&(a.current=m2({window:s,v5Compat:!0}));let o=a.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&hp?hp(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>tN(n),[n]),b.createElement(rN,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const dN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=b.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=t,f=sN(t,oN),{basename:m}=b.useContext(vn),x,v=!1;if(typeof u=="string"&&hN.test(u)&&(x=u,dN))try{let g=new URL(window.location.href),w=u.startsWith("//")?new URL(g.protocol+u):new URL(u),j=Jh(w.pathname,m);w.origin===g.origin&&j!=null?u=j+w.search+w.hash:v=!0}catch{}let N=V2(u,{relative:s}),y=fN(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function p(g){n&&n(g),g.defaultPrevented||y(g)}return b.createElement("a",wd({},f,{href:x||N,onClick:v||a?n:p,ref:r,target:c}))});var fp;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(fp||(fp={}));var mp;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(mp||(mp={}));function fN(e,t){let{target:r,replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l}=t===void 0?{}:t,c=ri(),u=ti(),d=Fy(e,{relative:o});return b.useCallback(h=>{if(aN(h,r)){h.preventDefault();let f=n!==void 0?n:bl(u)===bl(d);c(e,{replace:f,state:s,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,s,r,e,a,o,l])}let mN={data:""},pN=e=>typeof window=="object"?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||mN,gN=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,xN=/\/\*[^]*?\*\/|  +/g,pp=/\n+/g,Yr=(e,t)=>{let r="",n="",s="";for(let a in e){let o=e[a];a[0]=="@"?a[1]=="i"?r=a+" "+o+";":n+=a[1]=="f"?Yr(o,a):a+"{"+Yr(o,a[1]=="k"?"":t)+"}":typeof o=="object"?n+=Yr(o,t?t.replace(/([^,])+/g,l=>a.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,l):l?l+" "+c:c)):a):o!=null&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Yr.p?Yr.p(a,o):a+":"+o+";")}return r+(t&&s?t+"{"+s+"}":s)+n},wr={},By=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+By(e[r]);return t}return e},yN=(e,t,r,n,s)=>{let a=By(e),o=wr[a]||(wr[a]=(c=>{let u=0,d=11;for(;u<c.length;)d=101*d+c.charCodeAt(u++)>>>0;return"go"+d})(a));if(!wr[o]){let c=a!==e?e:(u=>{let d,h,f=[{}];for(;d=gN.exec(u.replace(xN,""));)d[4]?f.shift():d[3]?(h=d[3].replace(pp," ").trim(),f.unshift(f[0][h]=f[0][h]||{})):f[0][d[1]]=d[2].replace(pp," ").trim();return f[0]})(e);wr[o]=Yr(s?{["@keyframes "+o]:c}:c,r?"":"."+o)}let l=r&&wr.g?wr.g:null;return r&&(wr.g=wr[o]),((c,u,d,h)=>{h?u.data=u.data.replace(h,c):u.data.indexOf(c)===-1&&(u.data=d?c+u.data:u.data+c)})(wr[o],t,n,l),o},vN=(e,t,r)=>e.reduce((n,s,a)=>{let o=t[a];if(o&&o.call){let l=o(r),c=l&&l.props&&l.props.className||/^go/.test(l)&&l;o=c?"."+c:l&&typeof l=="object"?l.props?"":Yr(l,""):l===!1?"":l}return n+s+(o??"")},"");function rc(e){let t=this||{},r=e.call?e(t.p):e;return yN(r.unshift?r.raw?vN(r,[].slice.call(arguments,1),t.p):r.reduce((n,s)=>Object.assign(n,s&&s.call?s(t.p):s),{}):r,pN(t.target),t.g,t.o,t.k)}let zy,jd,Nd;rc.bind({g:1});let Dr=rc.bind({k:1});function bN(e,t,r,n){Yr.p=t,zy=e,jd=r,Nd=n}function bn(e,t){let r=this||{};return function(){let n=arguments;function s(a,o){let l=Object.assign({},a),c=l.className||s.className;r.p=Object.assign({theme:jd&&jd()},l),r.o=/ *go\d+/.test(c),l.className=rc.apply(r,n)+(c?" "+c:"");let u=e;return e[0]&&(u=l.as||e,delete l.as),Nd&&u[0]&&Nd(l),zy(u,l)}return s}}var wN=e=>typeof e=="function",jl=(e,t)=>wN(e)?e(t):e,jN=(()=>{let e=0;return()=>(++e).toString()})(),Wy=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),NN=20,Hy=(e,t)=>{switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,NN)};case 1:return{...e,toasts:e.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case 2:let{toast:r}=t;return Hy(e,{type:e.toasts.find(a=>a.id===r.id)?1:0,toast:r});case 3:let{toastId:n}=t;return{...e,toasts:e.toasts.map(a=>a.id===n||n===void 0?{...a,dismissed:!0,visible:!1}:a)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(a=>a.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let s=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(a=>({...a,pauseDuration:a.pauseDuration+s}))}}},Bo=[],Dn={toasts:[],pausedAt:void 0},Xn=e=>{Dn=Hy(Dn,e),Bo.forEach(t=>{t(Dn)})},SN={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},kN=(e={})=>{let[t,r]=b.useState(Dn),n=b.useRef(Dn);b.useEffect(()=>(n.current!==Dn&&r(Dn),Bo.push(r),()=>{let a=Bo.indexOf(r);a>-1&&Bo.splice(a,1)}),[]);let s=t.toasts.map(a=>{var o,l,c;return{...e,...e[a.type],...a,removeDelay:a.removeDelay||((o=e[a.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:a.duration||((l=e[a.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||SN[a.type],style:{...e.style,...(c=e[a.type])==null?void 0:c.style,...a.style}}});return{...t,toasts:s}},_N=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||jN()}),$a=e=>(t,r)=>{let n=_N(t,e,r);return Xn({type:2,toast:n}),n.id},st=(e,t)=>$a("blank")(e,t);st.error=$a("error");st.success=$a("success");st.loading=$a("loading");st.custom=$a("custom");st.dismiss=e=>{Xn({type:3,toastId:e})};st.remove=e=>Xn({type:4,toastId:e});st.promise=(e,t,r)=>{let n=st.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(s=>{let a=t.success?jl(t.success,s):void 0;return a?st.success(a,{id:n,...r,...r==null?void 0:r.success}):st.dismiss(n),s}).catch(s=>{let a=t.error?jl(t.error,s):void 0;a?st.error(a,{id:n,...r,...r==null?void 0:r.error}):st.dismiss(n)}),e};var CN=(e,t)=>{Xn({type:1,toast:{id:e,height:t}})},PN=()=>{Xn({type:5,time:Date.now()})},Ui=new Map,EN=1e3,TN=(e,t=EN)=>{if(Ui.has(e))return;let r=setTimeout(()=>{Ui.delete(e),Xn({type:4,toastId:e})},t);Ui.set(e,r)},AN=e=>{let{toasts:t,pausedAt:r}=kN(e);b.useEffect(()=>{if(r)return;let a=Date.now(),o=t.map(l=>{if(l.duration===1/0)return;let c=(l.duration||0)+l.pauseDuration-(a-l.createdAt);if(c<0){l.visible&&st.dismiss(l.id);return}return setTimeout(()=>st.dismiss(l.id),c)});return()=>{o.forEach(l=>l&&clearTimeout(l))}},[t,r]);let n=b.useCallback(()=>{r&&Xn({type:6,time:Date.now()})},[r]),s=b.useCallback((a,o)=>{let{reverseOrder:l=!1,gutter:c=8,defaultPosition:u}=o||{},d=t.filter(m=>(m.position||u)===(a.position||u)&&m.height),h=d.findIndex(m=>m.id===a.id),f=d.filter((m,x)=>x<h&&m.visible).length;return d.filter(m=>m.visible).slice(...l?[f+1]:[0,f]).reduce((m,x)=>m+(x.height||0)+c,0)},[t]);return b.useEffect(()=>{t.forEach(a=>{if(a.dismissed)TN(a.id,a.removeDelay);else{let o=Ui.get(a.id);o&&(clearTimeout(o),Ui.delete(a.id))}})},[t]),{toasts:t,handlers:{updateHeight:CN,startPause:PN,endPause:n,calculateOffset:s}}},ON=Dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,RN=Dr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,MN=Dr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,LN=bn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ON} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${RN} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${MN} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,DN=Dr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,IN=bn("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${DN} 1s linear infinite;
`,$N=Dr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,FN=Dr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VN=bn("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${$N} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${FN} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,UN=bn("div")`
  position: absolute;
`,BN=bn("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,zN=Dr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,WN=bn("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${zN} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,HN=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?b.createElement(WN,null,t):t:r==="blank"?null:b.createElement(BN,null,b.createElement(IN,{...n}),r!=="loading"&&b.createElement(UN,null,r==="error"?b.createElement(LN,{...n}):b.createElement(VN,{...n})))},qN=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,GN=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,KN="0%{opacity:0;} 100%{opacity:1;}",YN="0%{opacity:1;} 100%{opacity:0;}",QN=bn("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,JN=bn("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,XN=(e,t)=>{let r=e.includes("top")?1:-1,[n,s]=Wy()?[KN,YN]:[qN(r),GN(r)];return{animation:t?`${Dr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Dr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},ZN=b.memo(({toast:e,position:t,style:r,children:n})=>{let s=e.height?XN(e.position||t||"top-center",e.visible):{opacity:0},a=b.createElement(HN,{toast:e}),o=b.createElement(JN,{...e.ariaProps},jl(e.message,e));return b.createElement(QN,{className:e.className,style:{...s,...r,...e.style}},typeof n=="function"?n({icon:a,message:o}):b.createElement(b.Fragment,null,a,o))});bN(b.createElement);var eS=({id:e,className:t,style:r,onHeightUpdate:n,children:s})=>{let a=b.useCallback(o=>{if(o){let l=()=>{let c=o.getBoundingClientRect().height;n(e,c)};l(),new MutationObserver(l).observe(o,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return b.createElement("div",{ref:a,className:t,style:r},s)},tS=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},s=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Wy()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...s}},rS=rc`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,fo=16,nS=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:s,containerStyle:a,containerClassName:o})=>{let{toasts:l,handlers:c}=AN(r);return b.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:fo,left:fo,right:fo,bottom:fo,pointerEvents:"none",...a},className:o,onMouseEnter:c.startPause,onMouseLeave:c.endPause},l.map(u=>{let d=u.position||t,h=c.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),f=tS(d,h);return b.createElement(eS,{id:u.id,key:u.id,onHeightUpdate:c.updateHeight,className:u.visible?rS:"",style:f},u.type==="custom"?jl(u.message,u):s?s(u):b.createElement(ZN,{toast:u,position:d}))}))},F=st;const sS="modulepreload",iS=function(e){return"/"+e},gp={},Fa=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=iS(c),c in gp)return;gp[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":sS,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},aS=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class oS extends tf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class xp extends tf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class yp extends tf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Sd;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Sd||(Sd={}));var lS=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class cS{constructor(t,{headers:r={},customFetch:n,region:s=Sd.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=aS(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return lS(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(v=>{throw new oS(v)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new xp(h);if(!h.ok)throw new yp(h);let m=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),x;return m==="application/json"?x=yield h.json():m==="application/octet-stream"?x=yield h.blob():m==="text/event-stream"?x=h:m==="multipart/form-data"?x=yield h.formData():x=yield h.text(),{data:x,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof yp||s instanceof xp?s.context:void 0}}})}}var ht={},rf={},nc={},Va={},sc={},ic={},uS=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ws=uS();const dS=Ws.fetch,qy=Ws.fetch.bind(Ws),Gy=Ws.Headers,hS=Ws.Request,fS=Ws.Response,ni=Object.freeze(Object.defineProperty({__proto__:null,Headers:Gy,Request:hS,Response:fS,default:qy,fetch:dS},Symbol.toStringTag,{value:"Module"})),mS=Vw(ni);var ac={};Object.defineProperty(ac,"__esModule",{value:!0});let pS=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};ac.default=pS;var Ky=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ic,"__esModule",{value:!0});const gS=Ky(mS),xS=Ky(ac);let yS=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=gS.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var o,l,c;let u=null,d=null,h=null,f=a.status,m=a.statusText;if(a.ok){if(this.method!=="HEAD"){const y=await a.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const v=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),N=(l=a.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");v&&N&&N.length>1&&(h=parseInt(N[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(u={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const v=await a.text();try{u=JSON.parse(v),Array.isArray(u)&&a.status===404&&(d=[],u=null,f=200,m="OK")}catch{a.status===404&&v===""?(f=204,m="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,f=200,m="OK"),u&&this.shouldThrowOnError)throw new xS.default(u)}return{error:u,data:d,count:h,status:f,statusText:m}});return this.shouldThrowOnError||(s=s.catch(a=>{var o,l,c;return{error:{message:`${(o=a==null?void 0:a.name)!==null&&o!==void 0?o:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};ic.default=yS;var vS=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sc,"__esModule",{value:!0});const bS=vS(ic);let wS=class extends bS.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const o=a?`${a}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sc.default=wS;var jS=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Va,"__esModule",{value:!0});const NS=jS(sc);let SS=class extends NS.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Va.default=SS;var kS=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(nc,"__esModule",{value:!0});const gi=kS(Va);let _S=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),n||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new gi.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),a||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new gi.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new gi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gi.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};nc.default=_S;var oc={},lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.version=void 0;lc.version="0.0.0-automated";Object.defineProperty(oc,"__esModule",{value:!0});oc.DEFAULT_HEADERS=void 0;const CS=lc;oc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${CS.version}`};var Yy=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rf,"__esModule",{value:!0});const PS=Yy(nc),ES=Yy(Va),TS=oc;let AS=class Qy{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TS.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new PS.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Qy(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{l.searchParams.append(d,h)})):(o="POST",c=r);const u=Object.assign({},this.headers);return a&&(u.Prefer=`count=${a}`),new ES.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rf.default=AS;var si=It&&It.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ht,"__esModule",{value:!0});ht.PostgrestError=ht.PostgrestBuilder=ht.PostgrestTransformBuilder=ht.PostgrestFilterBuilder=ht.PostgrestQueryBuilder=ht.PostgrestClient=void 0;const Jy=si(rf);ht.PostgrestClient=Jy.default;const Xy=si(nc);ht.PostgrestQueryBuilder=Xy.default;const Zy=si(Va);ht.PostgrestFilterBuilder=Zy.default;const ev=si(sc);ht.PostgrestTransformBuilder=ev.default;const tv=si(ic);ht.PostgrestBuilder=tv.default;const rv=si(ac);ht.PostgrestError=rv.default;var OS=ht.default={PostgrestClient:Jy.default,PostgrestQueryBuilder:Xy.default,PostgrestFilterBuilder:Zy.default,PostgrestTransformBuilder:ev.default,PostgrestBuilder:tv.default,PostgrestError:rv.default};const{PostgrestClient:RS,PostgrestQueryBuilder:nA,PostgrestFilterBuilder:sA,PostgrestTransformBuilder:iA,PostgrestBuilder:aA,PostgrestError:oA}=OS;function MS(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const LS=MS(),DS="2.11.15",IS=`realtime-js/${DS}`,$S="1.0.0",nv=1e4,FS=1e3;var Bi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Bi||(Bi={}));var Qe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Qe||(Qe={}));var Zt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Zt||(Zt={}));var kd;(function(e){e.websocket="websocket"})(kd||(kd={}));var An;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(An||(An={}));class VS{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class sv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ce||(ce={}));const vp=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,o)=>(a[o]=US(o,e,t,s),a),{})},US=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,o=r[e];return a&&!n.includes(a)?iv(a,o):_d(o)},iv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return HS(t,r)}switch(e){case ce.bool:return BS(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return zS(t);case ce.json:case ce.jsonb:return WS(t);case ce.timestamp:return qS(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return _d(t);default:return _d(t)}},_d=e=>e,BS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},zS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},HS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const o=e.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>iv(t,l))}return e},qS=e=>typeof e=="string"?e.replace(" ","T"):e,av=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Zc{constructor(t,r,n={},s=nv){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var bp;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(bp||(bp={}));class zi{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=zi.syncState(this.state,s,a,o),this.pendingDiffs.forEach(c=>{this.state=zi.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=zi.syncDiff(this.state,s,a,o),l())}),this.onJoin((s,a,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:o})}),this.onLeave((s,a,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=a[u];if(h){const f=d.map(N=>N.presence_ref),m=h.map(N=>N.presence_ref),x=d.filter(N=>m.indexOf(N.presence_ref)<0),v=h.filter(N=>f.indexOf(N.presence_ref)<0);x.length>0&&(l[u]=x),v.length>0&&(c[u]=v)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const h=t[l].map(m=>m.presence_ref),f=d.filter(m=>h.indexOf(m.presence_ref)<0);t[l].unshift(...f)}n(l,d,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var wp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(wp||(wp={}));var jp;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jp||(jp={}));var Sr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Sr||(Sr={}));class nf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Qe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zc(this,Zt.join,this.params,this.timeout),this.rejoinTimer=new sv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Zt.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new zi(this),this.broadcastEndpointURL=av(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Qe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>t==null?void 0:t(Sr.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Sr.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){t==null||t(Sr.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,m=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,x=[];for(let v=0;v<m;v++){const N=f[v],{filter:{event:y,schema:p,table:g,filter:w}}=N,j=d&&d[v];if(j&&j.event===y&&j.schema===p&&j.table===g&&j.filter===w)x.push(Object.assign(Object.assign({},N),{id:j.id}));else{this.unsubscribe(),this.state=Qe.errored,t==null||t(Sr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(Sr.SUBSCRIBED);return}}).receive("error",d=>{this.state=Qe.errored,t==null||t(Sr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Sr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Qe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Zt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Zc(this,Zt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Zc(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Zt;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let f=this._onMessage(o,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(m=>{var x,v,N;return((x=m.filter)===null||x===void 0?void 0:x.event)==="*"||((N=(v=m.filter)===null||v===void 0?void 0:v.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===o}).map(m=>m.callback(f,n)):(a=this.bindings[o])===null||a===void 0||a.filter(m=>{var x,v,N,y,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const w=m.id,j=(x=m.filter)===null||x===void 0?void 0:x.event;return w&&((v=r.ids)===null||v===void 0?void 0:v.includes(w))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const w=(p=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof f=="object"&&"ids"in f){const x=f.data,{schema:v,table:N,commit_timestamp:y,type:p,errors:g}=x;f=Object.assign(Object.assign({},{schema:v,table:N,commit_timestamp:y,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(x))}m.callback(f,n)})}_isClosed(){return this.state===Qe.closed}_isJoined(){return this.state===Qe.joined}_isJoining(){return this.state===Qe.joining}_isLeaving(){return this.state===Qe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&nf.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Zt.close,{},t)}_onError(t){this._on(Zt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=vp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=vp(t.columns,t.old_record)),r}}const Np=()=>{},GS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class KS{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=nv,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Np,this.ref=0,this.logger=Np,this.conn=null,this.sendBuffer=[],this.serializer=new VS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>Fa(async()=>{const{default:c}=await Promise.resolve().then(()=>ni);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${kd.websocket}`,this.httpEndpoint=av(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new sv(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=LS),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$S}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Bi.connecting:return An.Connecting;case Bi.open:return An.Open;case Bi.closing:return An.Closing;default:return An.Closed}}isConnected(){return this.connectionState()===An.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new nf(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:IS};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Zt.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(FS,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:a,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Zt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([GS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class YS extends sf{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Cd extends sf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var QS=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const ov=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JS=()=>QS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Fa(()=>Promise.resolve().then(()=>ni),void 0)).Response:Response}),Pd=e=>{if(Array.isArray(e))return e.map(r=>Pd(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Pd(n)}),t};var Zn=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const eu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),XS=(e,t,r)=>Zn(void 0,void 0,void 0,function*(){const n=yield JS();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new YS(eu(s),e.status||500))}).catch(s=>{t(new Cd(eu(s),s))}):t(new Cd(eu(e),e))}),ZS=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Ua(e,t,r,n,s,a){return Zn(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,ZS(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>XS(c,l,n))})})}function Nl(e,t,r,n){return Zn(this,void 0,void 0,function*(){return Ua(e,"GET",t,r,n)})}function qr(e,t,r,n,s){return Zn(this,void 0,void 0,function*(){return Ua(e,"POST",t,n,s,r)})}function ek(e,t,r,n,s){return Zn(this,void 0,void 0,function*(){return Ua(e,"PUT",t,n,s,r)})}function tk(e,t,r,n){return Zn(this,void 0,void 0,function*(){return Ua(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function lv(e,t,r,n,s){return Zn(this,void 0,void 0,function*(){return Ua(e,"DELETE",t,n,s,r)})}var ut=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Sp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=ov(s)}uploadOrUpdate(t,r,n,s){return ut(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},Sp),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:a,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:u,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(a){if($e(a))return{data:null,error:a};throw a}})}upload(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return ut(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Sp.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:d}),f=yield h.json();return h.ok?{data:{path:a,fullPath:f.Key},error:null}:{data:null,error:f}}catch(c){if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return ut(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield qr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new sf("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return ut(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return ut(this,void 0,void 0,function*(){try{return{data:{path:(yield qr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return ut(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield qr(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return ut(this,void 0,void 0,function*(){try{const s=yield qr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}download(t,r){return ut(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Nl(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if($e(l))return{data:null,error:l};throw l}})}info(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Nl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Pd(n),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}exists(t){return ut(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield tk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if($e(n)&&n instanceof Cd){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return ut(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return ut(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},rk),r),{prefix:t||""});return{data:yield qr(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if($e(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const sk="2.7.1",ik={"X-Client-Info":`storage-js/${sk}`};var os=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class ak{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},ik),r),this.fetch=ov(n)}listBuckets(){return os(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield Nl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return os(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return os(this,void 0,void 0,function*(){try{return{data:yield ek(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield qr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return os(this,void 0,void 0,function*(){try{return{data:yield lv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}})}}class ok extends ak{constructor(t,r={},n){super(t,r,n)}from(t){return new nk(this.url,this.headers,t,this.fetch)}}const lk="2.50.3";let Pi="";typeof Deno<"u"?Pi="deno":typeof document<"u"?Pi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pi="react-native":Pi="node";const ck={"X-Client-Info":`supabase-js-${Pi}/${lk}`},uk={headers:ck},dk={schema:"public"},hk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},fk={};var mk=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const pk=e=>{let t;return e?t=e:typeof fetch>"u"?t=qy:t=fetch,(...r)=>t(...r)},gk=()=>typeof Headers>"u"?Gy:Headers,xk=(e,t,r)=>{const n=pk(r),s=gk();return(a,o)=>mk(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var yk=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function vk(e){return e.endsWith("/")?e:e+"/"}function bk(e,t){var r,n;const{db:s,auth:a,realtime:o,global:l}=e,{db:c,auth:u,realtime:d,global:h}=t,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>yk(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const cv="2.70.0",hs=30*1e3,Ed=3,tu=Ed*hs,wk="http://localhost:9999",jk="supabase.auth.token",Nk={"X-Client-Info":`gotrue-js/${cv}`},Td="X-Supabase-Api-Version",uv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sk=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,kk=6e5;class af extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class _k extends af{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ck(e){return K(e)&&e.name==="AuthApiError"}class dv extends af{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class wn extends af{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class Ur extends wn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Pk(e){return K(e)&&e.name==="AuthSessionMissingError"}class mo extends wn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class po extends wn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class go extends wn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ek(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class kp extends wn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ad extends wn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ru(e){return K(e)&&e.name==="AuthRetryableFetchError"}class _p extends wn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wi extends wn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Sl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cp=` 	
\r=`.split(""),Tk=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Cp.length;t+=1)e[Cp[t].charCodeAt(0)]=-2;for(let t=0;t<Sl.length;t+=1)e[Sl[t].charCodeAt(0)]=t;return e})();function Pp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Sl[n]),t.queuedBits-=6}}function hv(e,t,r){const n=Tk[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Ep(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=o=>{Rk(o,n,r)};for(let o=0;o<e.length;o+=1)hv(e.charCodeAt(o),s,a);return t.join("")}function Ak(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ok(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Ak(n,t)}}function Rk(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Mk(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)hv(e.charCodeAt(s),r,n);return new Uint8Array(t)}function Lk(e){const t=[];return Ok(e,r=>t.push(r)),new Uint8Array(t)}function Dk(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Pp(s,r,n)),Pp(null,r,n),t.join("")}function Ik(e){return Math.round(Date.now()/1e3)+e}function $k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Yt=()=>typeof window<"u"&&typeof document<"u",Sn={tested:!1,writable:!1},Hi=()=>{if(!Yt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Sn.tested)return Sn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Sn.tested=!0,Sn.writable=!0}catch{Sn.tested=!0,Sn.writable=!1}return Sn.writable};function Fk(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const fv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Fa(async()=>{const{default:n}=await Promise.resolve().then(()=>ni);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Vk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",mv=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},xo=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},yo=async(e,t)=>{await e.removeItem(t)};class cc{constructor(){this.promise=new cc.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}cc.promiseConstructor=Promise;function nu(e){const t=e.split(".");if(t.length!==3)throw new Wi("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Sk.test(t[n]))throw new Wi("JWT not in base64url format");return{header:JSON.parse(Ep(t[0])),payload:JSON.parse(Ep(t[1])),signature:Mk(t[2]),raw:{header:t[0],payload:t[1]}}}async function Uk(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Bk(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await e(a);if(!t(a,null,o)){n(o);return}}catch(o){if(!t(a,o)){s(o);return}}})()})}function zk(e){return("0"+e.toString(16)).substr(-2)}function Wk(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,zk).join("")}async function Hk(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function qk(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await Hk(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ls(e,t,r=!1){const n=Wk();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await mv(e,`${t}-code-verifier`,s);const a=await qk(n);return[a,n===a?"plain":"s256"]}const Gk=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Kk(e){const t=e.headers.get(Td);if(!t||!t.match(Gk))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Yk(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Qk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Jk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function cs(e){if(!Jk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Xk=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Pn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Zk=[502,503,504];async function Tp(e){var t;if(!Vk(e))throw new Ad(Pn(e),0);if(Zk.includes(e.status))throw new Ad(Pn(e),e.status);let r;try{r=await e.json()}catch(a){throw new dv(Pn(a),a)}let n;const s=Kk(e);if(s&&s.getTime()>=uv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new _p(Pn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Ur}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new _p(Pn(r),e.status,r.weak_password.reasons);throw new _k(Pn(r),e.status||500,n)}const e_=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Y(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[Td]||(a[Td]=uv["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await t_(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function t_(e,t,r,n,s,a){const o=e_(t,n,s,a);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Ad(Pn(c),0)}if(l.ok||await Tp(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Tp(c)}}function jr(e){var t;let r=null;i_(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Ik(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Ap(e){const t=jr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Qr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function r_(e){return{data:e,error:null}}function n_(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,o=Xk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function s_(e){return e}function i_(e){return e.access_token&&e.refresh_token&&e.expires_in}const su=["global","local","others"];var a_=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class o_{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=fv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=su[0]){if(su.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${su.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=a_(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:n_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:s_});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(x=>{const v=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(x.split(";")[1].split("=")[1]);u[`${N}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){cs(t);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Qr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){cs(t);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){cs(t);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Qr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){cs(t.userId);try{const{data:r,error:n}=await Y(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){cs(t.userId),cs(t.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}const l_={getItem:e=>Hi()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{Hi()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{Hi()&&globalThis.localStorage.removeItem(e)}};function Op(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function c_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const us={debug:!!(globalThis&&Hi()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class pv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class u_ extends pv{}async function d_(e,t,r){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),us.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){us.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{us.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw us.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new u_(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(us.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}c_();const h_={url:wk,storageKey:jk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rp(e,t,r){return await r()}class wa{constructor(t){var r,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=wa.nextInstanceID,wa.nextInstanceID+=1,this.instanceID>0&&Yt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},h_),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new o_({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fv(s.fetch),this.lock=s.lock||Rp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Yt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=d_:this.lock=Rp,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Hi()?this.storage=l_:(this.memoryStorage={},this.storage=Op(this.memoryStorage)):(this.memoryStorage={},this.storage=Op(this.memoryStorage)),Yt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Fk(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Yt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ek(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new dv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jr}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:h,options:f}=t;let m=null,x=null;this.flowType==="pkce"&&([m,x]=await ls(this.storage,this.storageKey)),a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:m,code_challenge_method:x},xform:jr})}else if("phone"in t){const{phone:d,password:h,options:f}=t;a=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:jr})}else throw new po("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:o,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ap})}else if("phone"in t){const{phone:a,password:o,options:l}=t;r=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Ap})}else throw new po("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new mo}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,o,l,c,u,d,h,f,m;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:N,wallet:y,statement:p,options:g}=t;let w;if(Yt())if(typeof y=="object")w=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)x=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),v=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(x),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=S}}try{const{data:N,error:y}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Dk(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:jr});if(y)throw y;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new mo}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:y})}catch(N){if(K(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await xo(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jr});if(await yo(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new mo}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:o})}catch(a){if(K(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:o}=t,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:jr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new mo}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await ls(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new po("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:jr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await ls(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:r_})}catch(a){if(K(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Ur;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:o}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:o,error:l}=await Y(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new po("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await xo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<tu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.storage.isServer){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Qr}):await this._useSession(async r=>{var n,s,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ur}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Qr})})}catch(r){if(K(r))return Pk(r)&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new Ur;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ls(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Qr});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ur;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:o}=nu(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Ur;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Yt())throw new go("No browser detected.");if(t.error||t.error_description||t.error_code)throw new go(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new go("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new kp("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!o||!u)throw new go("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const m=f-d;m*1e3<=hs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${h}s`);const x=f-h;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,f,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,f,d);const{data:v,error:N}=await this._getUser(a);if(N)throw N;const y={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await xo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Ck(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await yo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=$k(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ls(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(K(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var o,l,c,u,d;const{data:h,error:f}=a;if(f)throw f;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Yt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Bk(async s=>(s>0&&await Uk(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jr})),(s,a)=>{const o=200*Math.pow(2,s);return a&&ru(a)&&Date.now()+o-n<hs})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await xo(this.storage,this.storageKey);if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const s=((t=n.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<tu;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${tu}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:a}=await this._callRefreshToken(n.refresh_token);a&&(console.error(a),ru(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Ur;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new cc;const{data:a,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!a.session)throw new Ur;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),K(a)){const o={session:null,error:a};return ru(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await mv(this.storage,this.storageKey,t)}async _removeSession(){this._debug("#_removeSession()"),await yo(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),hs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/hs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${hs}ms, refresh threshold is ${Ed} ticks`),s<=Ed&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof pv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await ls(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Y(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Y(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=nu(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(o=>o.kid===t);if(n||(n=this.jwks.keys.find(o=>o.kid===t),n&&this.jwks_cached_at+kk>Date.now()))return n;const{data:s,error:a}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!s.keys||s.keys.length===0)throw new Wi("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(o=>o.kid===t),!n)throw new Wi("No matching signing key found in JWKS");return n}async getClaims(t,r={keys:[]}){try{let n=t;if(!n){const{data:m,error:x}=await this.getSession();if(x||!m.session)return{data:null,error:x};n=m.session.access_token}const{header:s,payload:a,signature:o,raw:{header:l,payload:c}}=nu(n);if(Yk(a.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:a,header:s,signature:o},error:null}}const u=Qk(s.alg),d=await this.fetchJwk(s.kid,r),h=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Lk(`${l}.${c}`)))throw new Wi("Invalid JWT signature");return{data:{claims:a,header:s,signature:o},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}wa.nextInstanceID=0;const f_=wa;class m_ extends f_{constructor(t){super(t)}}var p_=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class g_{constructor(t,r,n){var s,a,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=vk(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:dk,realtime:fk,auth:Object.assign(Object.assign({},hk),{storageKey:u}),global:uk},h=bk(n??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=xk(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new RS(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new cS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ok(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return p_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:a,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m_({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:a,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new KS(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const x_=(e,t,r)=>new g_(e,t,r),gv="https://iuwrfonsiogzikjypllh.supabase.co",y_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml1d3Jmb25zaW9nemlranlwbGxoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTEzMDk1NTcsImV4cCI6MjA2Njg4NTU1N30.jdovOfnJ9JiW7OQctigXj_rxKzot3CHe4DRrVvqMCU0";console.log(" Connecting to Supabase:",gv);const I=x_(gv,y_,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"giftflare-web"}},db:{schema:"public"}});let uc="connecting",fs=0;const vo=3;let qi=null;const iu=()=>uc,v_=()=>{qi&&clearInterval(qi),qi=setInterval(()=>{uc==="failed"&&(console.log(" Auto-retrying Supabase connection..."),xv())},6e4)},xi=e=>{uc=e,e==="failed"?v_():qi&&clearInterval(qi)},Gi=async()=>{try{fs++,console.log(` Testing Supabase connection (attempt ${fs}/${vo})...`);const{data:e,error:t}=await I.auth.getSession();if(t){if(console.error(" Supabase auth error:",t),fs<vo){console.log(" Retrying in 2 seconds..."),setTimeout(Gi,2e3);return}xi("failed");return}const{data:r,error:n}=await I.from("profiles").select("count",{count:"exact",head:!0}).limit(1);if(n){if(console.error(" Supabase database error:",n),n.code==="42P01"){console.warn(" Database tables not found. Please run migrations."),xi("failed");return}if(fs<vo){console.log(" Retrying in 2 seconds..."),setTimeout(Gi,2e3);return}xi("failed");return}console.log(" Supabase connected successfully"),xi("connected"),await b_()}catch(e){console.error(" Supabase connection failed:",e),fs<vo?(console.log(" Retrying in 2 seconds..."),setTimeout(Gi,2e3)):xi("failed")}},b_=async()=>{const e=["products","orders","notifications","hero_videos","delivery_cities","themes"];for(const t of e)try{const{error:r}=await I.from(t).select("count",{count:"exact",head:!0}).limit(1);r?console.warn(` Table '${t}' not accessible:`,r.message):console.log(` Table '${t}' accessible`)}catch(r){console.warn(` Error testing table '${t}':`,r)}};setTimeout(()=>{Gi()},500);const xv=()=>{fs=0,uc="connecting",Gi()},w_=async()=>{try{const{data:e,error:t}=await I.from("profiles").select("count",{count:"exact",head:!0}).limit(1);return{healthy:!t,error:t}}catch(e){return{healthy:!1,error:e}}},yv=b.createContext(void 0),Ut=()=>{const e=b.useContext(yv);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e},j_=({children:e})=>{const[t,r]=b.useState(null),[n,s]=b.useState(!0);b.useEffect(()=>{let u=!0;(async()=>{try{console.log("Getting initial session...");const{data:{session:f},error:m}=await I.auth.getSession();if(m){console.error("Error getting session:",m),u&&s(!1);return}f!=null&&f.user&&u?(console.log("Found existing session for:",f.user.email),await a(f.user)):(console.log("No existing session found"),u&&s(!1))}catch(f){console.error("Error in getInitialSession:",f),u&&s(!1)}})();const{data:{subscription:h}}=I.auth.onAuthStateChange(async(f,m)=>{var x;console.log("Auth state changed:",f,(x=m==null?void 0:m.user)==null?void 0:x.email),u&&(f==="SIGNED_IN"&&(m!=null&&m.user)?await a(m.user):f==="SIGNED_OUT"?(r(null),s(!1)):f==="TOKEN_REFRESHED"&&(m!=null&&m.user)&&console.log("Token refreshed for:",m.user.email))});return()=>{u=!1,h.unsubscribe()}},[]);const a=async u=>{var d,h,f,m,x,v;try{console.log("Fetching profile for user:",u.id);const{data:N,error:y}=await I.from("profiles").select("*").eq("id",u.id).single();if(y)if(console.error("Error fetching profile:",y),y.code==="PGRST116"){console.log("Profile not found, creating default profile");const p=((d=u.user_metadata)==null?void 0:d.name)||((h=u.email)==null?void 0:h.split("@")[0])||"User",{data:g,error:w}=await I.from("profiles").insert({id:u.id,name:p,role:"buyer",city:"Mumbai",is_verified:!1}).select().single();w?(console.error("Error creating profile:",w),console.warn("Failed to create user profile, using fallback"),r(null),r({id:u.id,email:u.email||"",name:p,role:"buyer",city:"Mumbai",isVerified:!1})):g&&(console.log("Profile created successfully:",g),r({id:g.id,email:u.email||"",name:g.name,role:g.role,city:g.city||void 0,isVerified:g.is_verified,businessName:g.business_name||void 0,description:g.description||void 0}))}else{console.warn("Failed to load user profile, using fallback"),r(null);const p=((f=u.user_metadata)==null?void 0:f.name)||((m=u.email)==null?void 0:m.split("@")[0])||"User";r({id:u.id,email:u.email||"",name:p,role:"buyer",city:"Mumbai",isVerified:!1})}else N&&(console.log("Profile loaded successfully:",N.name),r({id:N.id,email:u.email||"",name:N.name,role:N.role,city:N.city||void 0,isVerified:N.is_verified,businessName:N.business_name||void 0,description:N.description||void 0}))}catch(N){console.error("Error in fetchUserProfile:",N),console.warn("Failed to load user data, using fallback"),r(null);const y=((x=u.user_metadata)==null?void 0:x.name)||((v=u.email)==null?void 0:v.split("@")[0])||"User";r({id:u.id,email:u.email||"",name:y,role:"buyer",city:"Mumbai",isVerified:!1})}finally{s(!1)}},o=async(u,d)=>{try{s(!0),console.log("Attempting login for:",u);const{data:h,error:f}=await I.auth.signInWithPassword({email:u.trim().toLowerCase(),password:d});return f?(console.error("Login error:",f),f.message.includes("Invalid login credentials")?F.error("Invalid email or password. Please check your credentials."):f.message.includes("Email not confirmed")?F.error("Please check your email and confirm your account."):F.error(f.message||"Login failed"),!1):h.user?(console.log("Login successful for:",h.user.email),F.success("Welcome back!"),!0):!1}catch(h){return console.error("Unexpected login error:",h),F.error("An unexpected error occurred. Please try again."),!1}finally{s(!1)}},l=async(u,d,h,f,m="Mumbai",x,v,N,y)=>{try{s(!0),console.log("Attempting registration for:",u);const{data:p,error:g}=await I.auth.signUp({email:u.trim().toLowerCase(),password:d,options:{data:{name:h,role:f,city:m,business_name:x,description:v,mobile:N,verification_doc:y}}});if(g)return console.error("Registration error:",g),g.message.includes("already registered")?F.error("This email is already registered. Please try logging in."):F.error(g.message||"Registration failed"),!1;if(p.user){console.log("Registration successful for:",p.user.email);const{error:w}=await I.from("profiles").insert({id:p.user.id,name:h,role:f,city:m,business_name:x,description:v,is_verified:f==="admin",mobile:f==="seller"?N:void 0,verification_doc:f==="seller"?y:void 0});return w?(console.error("Profile creation error:",w),F.error("Account created but profile setup failed. Please contact support."),!1):(F.success("Account created successfully! Welcome to GiftFlare!"),!0)}return!1}catch(p){return console.error("Unexpected registration error:",p),F.error("An unexpected error occurred. Please try again."),!1}finally{s(!1)}},c=async()=>{try{console.log("Logging out user...");const{error:u}=await I.auth.signOut();u?(console.error("Logout error:",u),F.error("Logout failed")):(r(null),F.success("Logged out successfully"))}catch(u){console.error("Unexpected logout error:",u),F.error("Logout failed")}};return i.jsx(yv.Provider,{value:{user:t,login:o,register:l,logout:c,isLoading:n},children:e})},vv=b.createContext(void 0),es=()=>{const e=b.useContext(vv);if(e===void 0)throw new Error("useApp must be used within an AppProvider");return e},N_={name:"default",colors:{primary:"primary-500",secondary:"mint-400",accent:"blush-400"},isActive:!0},S_=({children:e})=>{const{user:t}=Ut(),[r,n]=b.useState([]),[s,a]=b.useState([]),[o,l]=b.useState([]),[c,u]=b.useState(N_),[d,h]=b.useState(!0);b.useEffect(()=>{f()},[]);const f=async()=>{h(!0);try{await Promise.all([m(),v(),N()])}catch(j){console.error("Error refreshing data:",j),F.error("Failed to load data")}finally{h(!1)}},m=async()=>{try{console.log("Fetching products...");const{data:j,error:S}=await I.from("products").select(`
          *,
          profiles!products_seller_id_fkey (
            name,
            is_verified
          )
        `).order("created_at",{ascending:!1});if(S){console.error("Error fetching products:",S),console.warn("Failed to load products from database, using fallback data"),n(x());return}console.log("Products fetched:",(j==null?void 0:j.length)||0);const _=(j||[]).map(C=>{var O;return{id:C.id,sellerId:C.seller_id,sellerName:((O=C.profiles)==null?void 0:O.name)||"Unknown Seller",name:C.name,price:C.price/100,image:C.image_url||"https://images.pexels.com/photos/1030303/pexels-photo-1030303.jpeg?auto=compress&cs=tinysrgb&w=800",description:C.description,videoUrl:C.video_url||void 0,city:C.city,instantDeliveryEligible:C.instant_delivery_eligible,status:C.status,category:C.category,tags:C.tags||[],createdAt:C.created_at}});n(_)}catch(j){console.error("Error in fetchProducts:",j),console.warn("Failed to load products, using fallback data"),n(x())}},x=()=>[{id:"sample-1",sellerId:"sample-seller-1",sellerName:"Priya Sharma",name:"Handcrafted Ceramic Vase",price:1299,image:"https://images.pexels.com/photos/5553045/pexels-photo-5553045.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Beautiful handmade ceramic vase with traditional patterns",city:"Mumbai",instantDeliveryEligible:!0,status:"approved",category:"Home Decor",tags:["handmade","ceramic","home-decor"],createdAt:new Date().toISOString()},{id:"sample-2",sellerId:"sample-seller-2",sellerName:"Ravi Kumar",name:"Artisan Soy Candles",price:599,image:"https://images.pexels.com/photos/5624983/pexels-photo-5624983.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Natural soy candles with essential oils",city:"Mumbai",instantDeliveryEligible:!0,status:"approved",category:"Candles",tags:["handmade","candles","natural"],createdAt:new Date().toISOString()},{id:"sample-3",sellerId:"sample-seller-3",sellerName:"Meera Patel",name:"Handwoven Textile Art",price:2499,image:"https://images.pexels.com/photos/6195121/pexels-photo-6195121.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Traditional handwoven textile with intricate patterns",city:"Mumbai",instantDeliveryEligible:!1,status:"approved",category:"Textiles",tags:["handmade","textiles","traditional"],createdAt:new Date().toISOString()},{id:"sample-4",sellerId:"sample-seller-4",sellerName:"Arjun Singh",name:"Wooden Jewelry Box",price:899,image:"https://images.pexels.com/photos/1030303/pexels-photo-1030303.jpeg?auto=compress&cs=tinysrgb&w=800",description:"Handcrafted wooden jewelry box with carved details",city:"Delhi",instantDeliveryEligible:!1,status:"approved",category:"Jewelry",tags:["handmade","wood","jewelry"],createdAt:new Date().toISOString()}],v=async()=>{try{const{data:j,error:S}=await I.from("delivery_cities").select("*").order("name");if(S){console.error("Error fetching delivery cities:",S);return}const _=(j||[]).map(C=>({id:C.id,name:C.name,isActive:C.is_active}));l(_)}catch(j){console.error("Error in fetchDeliveryCities:",j)}},N=async()=>{try{const{data:j,error:S}=await I.from("themes").select("*").eq("is_active",!0).single();if(S&&S.code!=="PGRST116"){console.error("Error fetching theme:",S);return}j&&u({name:j.name,colors:j.colors,isActive:j.is_active})}catch(j){console.error("Error in fetchCurrentTheme:",j)}},y=async j=>{if(!t)return F.error("You must be logged in to add products"),!1;try{const{error:S}=await I.from("products").insert({seller_id:j.sellerId,name:j.name,price:Math.round(j.price*100),image_url:j.image,description:j.description,video_url:j.videoUrl,city:j.city,instant_delivery_eligible:j.instantDeliveryEligible,category:j.category,tags:j.tags});return S?(console.error("Error adding product:",S),F.error("Failed to add product"),!1):(F.success("Product added successfully!"),await m(),!0)}catch(S){return console.error("Error in addProduct:",S),F.error("Failed to add product"),!1}},p=async(j,S)=>{try{const _={};S.status&&(_.status=S.status),S.price&&(_.price=Math.round(S.price*100)),S.name&&(_.name=S.name),S.description&&(_.description=S.description),S.image&&(_.image_url=S.image),S.videoUrl!==void 0&&(_.video_url=S.videoUrl),S.instantDeliveryEligible!==void 0&&(_.instant_delivery_eligible=S.instantDeliveryEligible),S.category&&(_.category=S.category),S.tags&&(_.tags=S.tags);const{error:C}=await I.from("products").update(_).eq("id",j);return C?(console.error("Error updating product:",C),F.error("Failed to update product"),!1):(F.success("Product updated successfully!"),await m(),!0)}catch(_){return console.error("Error in updateProduct:",_),F.error("Failed to update product"),!1}},g=async(j,S)=>{try{const{error:_}=await I.from("delivery_cities").update({is_active:S}).eq("id",j);return _?(console.error("Error updating delivery city:",_),F.error("Failed to update delivery city"),!1):(F.success("Delivery city updated successfully!"),await v(),!0)}catch(_){return console.error("Error in updateDeliveryCity:",_),F.error("Failed to update delivery city"),!1}},w=async j=>{try{await I.from("themes").update({is_active:!1}).neq("id","");const{error:S}=await I.from("themes").update({is_active:!0}).eq("name",j);return S?(console.error("Error updating theme:",S),F.error("Failed to update theme"),!1):(F.success("Theme updated successfully!"),await N(),!0)}catch(S){return console.error("Error in updateTheme:",S),F.error("Failed to update theme"),!1}};return i.jsx(vv.Provider,{value:{products:r,sellers:s,deliveryCities:o,currentTheme:c,addProduct:y,updateProduct:p,updateDeliveryCity:g,updateTheme:w,refreshData:f,isLoading:d},children:e})},bv=b.createContext(void 0),dc=()=>{const e=b.useContext(bv);if(e===void 0)throw new Error("useLocation must be used within a LocationProvider");return e},k_=(e,t)=>{const r=[{name:"Mumbai",lat:19.076,lng:72.8777,radius:50},{name:"Delhi",lat:28.7041,lng:77.1025,radius:50},{name:"Bangalore",lat:12.9716,lng:77.5946,radius:50},{name:"Chennai",lat:13.0827,lng:80.2707,radius:50},{name:"Kolkata",lat:22.5726,lng:88.3639,radius:50},{name:"Hyderabad",lat:17.385,lng:78.4867,radius:50}];for(const n of r)if(Math.sqrt(Math.pow(e-n.lat,2)+Math.pow(t-n.lng,2))<n.radius/111)return n.name;return"Mumbai"},__=({children:e})=>{const[t,r]=b.useState(localStorage.getItem("userCity")),[n,s]=b.useState(!1),[a,o]=b.useState(null),l=u=>{r(u),localStorage.setItem("userCity",u),o(null)},c=async()=>{s(!0),o(null);try{if(!navigator.geolocation)throw new Error("Geolocation is not supported by this browser");const u=await new Promise((m,x)=>{navigator.geolocation.getCurrentPosition(m,x,{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})}),{latitude:d,longitude:h}=u.coords,f=k_(d,h);l(f)}catch(u){console.error("Location detection failed:",u),o("Unable to detect location. Please select your city manually.")}finally{s(!1)}};return b.useEffect(()=>{!t&&!localStorage.getItem("locationRequested")&&(localStorage.setItem("locationRequested","true"),c())},[t]),i.jsx(bv.Provider,{value:{userCity:t,isLocationLoading:n,requestLocation:c,setUserCity:l,locationError:a},children:e})},wv=b.createContext(void 0),jn=()=>{const e=b.useContext(wv);if(e===void 0)throw new Error("useCart must be used within a CartProvider");return e},C_=({children:e})=>{const[t,r]=b.useState([]),[n,s]=b.useState(!1);b.useEffect(()=>{const x=localStorage.getItem("giftflare-cart");if(x)try{r(JSON.parse(x))}catch(v){console.error("Error loading cart from localStorage:",v)}},[]),b.useEffect(()=>{localStorage.setItem("giftflare-cart",JSON.stringify(t))},[t]);const a=(x,v={})=>{const N=t.find(y=>y.product.id===x.id&&y.giftPackaging===(v.giftPackaging||!1));if(N)l(N.id,N.quantity+(v.quantity||1));else{const y={id:`${x.id}-${Date.now()}-${v.giftPackaging?"gift":"regular"}`,product:x,quantity:v.quantity||1,giftPackaging:v.giftPackaging||!1,giftNote:""};r(p=>[...p,y])}s(!0)},o=x=>{r(v=>v.filter(N=>N.id!==x))},l=(x,v)=>{v<=0?o(x):r(N=>N.map(y=>y.id===x?{...y,quantity:v}:y))},c=(x,v)=>{r(N=>N.map(y=>y.id===x?{...y,...v}:y))},u=()=>{r([])},d=()=>t.reduce((x,v)=>x+v.product.price*v.quantity,0),h=()=>t.filter(x=>x.giftPackaging).length*30,f=x=>x==="instant"?99:d()>=500?0:50,m=()=>t.reduce((x,v)=>x+v.quantity,0);return i.jsx(wv.Provider,{value:{items:t,addToCart:a,removeFromCart:o,updateQuantity:l,updateCartItem:c,clearCart:u,getTotalPrice:d,getTotalItems:m,getGiftPackagingCost:h,getDeliveryCost:f,isCartOpen:n,setIsCartOpen:s},children:e})},jv=b.createContext(void 0),Nv=()=>{const e=b.useContext(jv);if(e===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return e},P_=({children:e})=>{const{user:t}=Ut(),[r,n]=b.useState([]);b.useEffect(()=>{t&&(s(),a())},[t]);const s=async()=>{if(t)try{const{data:f,error:m}=await I.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1}).limit(50);if(m){console.error("Error fetching notifications:",m);return}n(f||[])}catch(f){console.error("Error in fetchNotifications:",f)}},a=()=>{if(!t)return;const f=I.channel("notifications").on("postgres_changes",{event:"INSERT",schema:"public",table:"notifications",filter:`user_id=eq.${t.id}`},m=>{const x=m.new;n(v=>[x,...v]),F.success(x.title,{duration:5e3,position:"top-right"})}).subscribe();return()=>{f.unsubscribe()}},o=async f=>{try{const{error:m}=await I.from("notifications").update({read:!0}).eq("id",f);if(m){console.error("Error marking notification as read:",m);return}n(x=>x.map(v=>v.id===f?{...v,read:!0}:v))}catch(m){console.error("Error in markAsRead:",m)}},l=async()=>{if(t)try{const{error:f}=await I.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(f){console.error("Error marking all notifications as read:",f);return}n(m=>m.map(x=>({...x,read:!0})))}catch(f){console.error("Error in markAllAsRead:",f)}},c=async f=>{try{const{error:m}=await I.from("notifications").delete().eq("id",f);if(m){console.error("Error deleting notification:",m);return}n(x=>x.filter(v=>v.id!==f))}catch(m){console.error("Error in deleteNotification:",m)}},u=async f=>{if(t)try{const{error:m}=await I.from("notifications").insert({user_id:t.id,type:f.type,title:f.title,message:f.message,data:f.data});m&&console.error("Error creating notification:",m)}catch(m){console.error("Error in createNotification:",m)}},d=async()=>{await s()},h=r.filter(f=>!f.read).length;return i.jsx(jv.Provider,{value:{notifications:r,unreadCount:h,markAsRead:o,markAllAsRead:l,deleteNotification:c,createNotification:u,refreshNotifications:d},children:e})},of=b.createContext({});function ii(e){const t=b.useRef(null);return t.current===null&&(t.current=e()),t.current}const hc=b.createContext(null),fc=b.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class E_ extends b.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function T_({children:e,isPresent:t}){const r=b.useId(),n=b.useRef(null),s=b.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=b.useContext(fc);return b.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=s.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[t]),i.jsx(E_,{isPresent:t,childRef:n,sizeRef:s,children:b.cloneElement(e,{ref:n})})}const A_=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:a,mode:o})=>{const l=ii(O_),c=b.useId(),u=b.useCallback(h=>{l.set(h,!0);for(const f of l.values())if(!f)return;n&&n()},[l,n]),d=b.useMemo(()=>({id:c,initial:t,isPresent:r,custom:s,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),a?[Math.random(),u]:[r,u]);return b.useMemo(()=>{l.forEach((h,f)=>l.set(f,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=i.jsx(T_,{isPresent:r,children:e})),i.jsx(hc.Provider,{value:d,children:e})};function O_(){return new Map}function Sv(e=!0){const t=b.useContext(hc);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=t,a=b.useId();b.useEffect(()=>{e&&s(a)},[e]);const o=b.useCallback(()=>e&&n&&n(a),[a,n,e]);return!r&&n?[!1,o]:[!0]}const bo=e=>e.key||"";function Mp(e){const t=[];return b.Children.forEach(e,r=>{b.isValidElement(r)&&t.push(r)}),t}const lf=typeof window<"u",mc=lf?b.useLayoutEffect:b.useEffect,Vt=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=Sv(o),u=b.useMemo(()=>Mp(e),[e]),d=o&&!l?[]:u.map(bo),h=b.useRef(!0),f=b.useRef(u),m=ii(()=>new Map),[x,v]=b.useState(u),[N,y]=b.useState(u);mc(()=>{h.current=!1,f.current=u;for(let w=0;w<N.length;w++){const j=bo(N[w]);d.includes(j)?m.delete(j):m.get(j)!==!0&&m.set(j,!1)}},[N,d.length,d.join("-")]);const p=[];if(u!==x){let w=[...u];for(let j=0;j<N.length;j++){const S=N[j],_=bo(S);d.includes(_)||(w.splice(j,0,S),p.push(S))}a==="wait"&&p.length&&(w=p),y(Mp(w)),v(u);return}const{forceRender:g}=b.useContext(of);return i.jsx(i.Fragment,{children:N.map(w=>{const j=bo(w),S=o&&!l?!1:u===N||d.includes(j),_=()=>{if(m.has(j))m.set(j,!0);else return;let C=!0;m.forEach(O=>{O||(C=!1)}),C&&(g==null||g(),y(f.current),o&&(c==null||c()),n&&n())};return i.jsx(A_,{isPresent:S,initial:!h.current||r?void 0:!1,custom:S?void 0:t,presenceAffectsLayout:s,mode:a,onExitComplete:S?void 0:_,children:w},j)})})},at=e=>e;let R_=at,Od=at;function cf(e){let t;return()=>(t===void 0&&(t=e()),t)}const qn=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},Er=e=>e*1e3,Tr=e=>e/1e3,M_={skipAnimations:!1,useManualTiming:!1};function L_(e){let t=new Set,r=new Set,n=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const m=h&&n?t:r;return d&&a.add(u),m.has(u)||m.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,n){s=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,s&&(s=!1,c.process(u))}};return c}const wo=["read","resolveKeyframes","update","preRender","render","postRender"],D_=40;function kv(e,t){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=wo.reduce((y,p)=>(y[p]=L_(a),y),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:f}=o,m=()=>{const y=performance.now();r=!1,s.delta=n?1e3/60:Math.max(Math.min(y-s.timestamp,D_),1),s.timestamp=y,s.isProcessing=!0,l.process(s),c.process(s),u.process(s),d.process(s),h.process(s),f.process(s),s.isProcessing=!1,r&&t&&(n=!1,e(m))},x=()=>{r=!0,n=!0,s.isProcessing||e(m)};return{schedule:wo.reduce((y,p)=>{const g=o[p];return y[p]=(w,j=!1,S=!1)=>(r||x(),g.schedule(w,j,S)),y},{}),cancel:y=>{for(let p=0;p<wo.length;p++)o[wo[p]].cancel(y)},state:s,steps:o}}const{schedule:se,cancel:sr,state:Fe,steps:au}=kv(typeof requestAnimationFrame<"u"?requestAnimationFrame:at,!0),_v=b.createContext({strict:!1}),Lp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hs={};for(const e in Lp)Hs[e]={isEnabled:t=>Lp[e].some(r=>!!t[r])};function I_(e){for(const t in e)Hs[t]={...Hs[t],...e[t]}}const $_=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kl(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||$_.has(e)}let Cv=e=>!kl(e);function F_(e){e&&(Cv=t=>t.startsWith("on")?!kl(t):e(t))}try{F_(require("@emotion/is-prop-valid").default)}catch{}function V_(e,t,r){const n={};for(const s in e)s==="values"&&typeof e.values=="object"||(Cv(s)||r===!0&&kl(s)||!t&&!kl(s)||e.draggable&&s.startsWith("onDrag"))&&(n[s]=e[s]);return n}function U_(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,s)=>s==="create"?e:(t.has(s)||t.set(s,e(s)),t.get(s))})}const pc=b.createContext({});function ja(e){return typeof e=="string"||Array.isArray(e)}function gc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const uf=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],df=["initial",...uf];function xc(e){return gc(e.animate)||df.some(t=>ja(e[t]))}function Pv(e){return!!(xc(e)||e.variants)}function B_(e,t){if(xc(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ja(r)?r:void 0,animate:ja(n)?n:void 0}}return e.inherit!==!1?t:{}}function z_(e){const{initial:t,animate:r}=B_(e,b.useContext(pc));return b.useMemo(()=>({initial:t,animate:r}),[Dp(t),Dp(r)])}function Dp(e){return Array.isArray(e)?e.join(" "):e}const W_=Symbol.for("motionComponentSymbol");function _s(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function H_(e,t,r){return b.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):_s(r)&&(r.current=n))},[t])}const hf=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),q_="framerAppearId",Ev="data-"+hf(q_),{schedule:ff,cancel:lA}=kv(queueMicrotask,!1),Tv=b.createContext({});function G_(e,t,r,n,s){var a,o;const{visualElement:l}=b.useContext(pc),c=b.useContext(_v),u=b.useContext(hc),d=b.useContext(fc).reducedMotion,h=b.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const f=h.current,m=b.useContext(Tv);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&K_(h.current,r,s,m);const x=b.useRef(!1);b.useInsertionEffect(()=>{f&&x.current&&f.update(r,u)});const v=r[Ev],N=b.useRef(!!v&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,v))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,v)));return mc(()=>{f&&(x.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),ff.render(f.render),N.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!N.current&&f.animationState&&f.animationState.animateChanges(),N.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,v)}),N.current=!1))}),f}function K_(e,t,r,n){const{layoutId:s,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:Av(e.parent)),e.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!o||l&&_s(l),visualElement:e,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function Av(e){if(e)return e.options.allowProjection!==!1?e.projection:Av(e.parent)}function Y_({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:s}){var a,o;e&&I_(e);function l(u,d){let h;const f={...b.useContext(fc),...u,layoutId:Q_(u)},{isStatic:m}=f,x=z_(u),v=n(u,m);if(!m&&lf){J_();const N=X_(f);h=N.MeasureLayout,x.visualElement=G_(s,v,f,t,N.ProjectionNode)}return i.jsxs(pc.Provider,{value:x,children:[h&&x.visualElement?i.jsx(h,{visualElement:x.visualElement,...f}):null,r(s,u,H_(v,x.visualElement,d),v,m,x.visualElement)]})}l.displayName=`motion.${typeof s=="string"?s:`create(${(o=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&o!==void 0?o:""})`}`;const c=b.forwardRef(l);return c[W_]=s,c}function Q_({layoutId:e}){const t=b.useContext(of).id;return t&&e!==void 0?t+"-"+e:e}function J_(e,t){b.useContext(_v).strict}function X_(e){const{drag:t,layout:r}=Hs;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t!=null&&t.isEnabled(e)||r!=null&&r.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Z_=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mf(e){return typeof e!="string"||e.includes("-")?!1:!!(Z_.indexOf(e)>-1||/[A-Z]/u.test(e))}function Ip(e){const t=[{},{}];return e==null||e.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function pf(e,t,r,n){if(typeof t=="function"){const[s,a]=Ip(n);t=t(r!==void 0?r:e.custom,s,a)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,a]=Ip(n);t=t(r!==void 0?r:e.custom,s,a)}return t}const Rd=e=>Array.isArray(e),eC=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),tC=e=>Rd(e)?e[e.length-1]||0:e,Ze=e=>!!(e&&e.getVelocity);function zo(e){const t=Ze(e)?e.get():e;return eC(t)?t.toValue():t}function rC({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,s,a){const o={latestValues:nC(n,s,a,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const Ov=e=>(t,r)=>{const n=b.useContext(pc),s=b.useContext(hc),a=()=>rC(e,t,n,s);return r?a():ii(a)};function nC(e,t,r,n){const s={},a=n(e,{});for(const f in a)s[f]=zo(a[f]);let{initial:o,animate:l}=e;const c=xc(e),u=Pv(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!gc(h)){const f=Array.isArray(h)?h:[h];for(let m=0;m<f.length;m++){const x=pf(e,f[m]);if(x){const{transitionEnd:v,transition:N,...y}=x;for(const p in y){let g=y[p];if(Array.isArray(g)){const w=d?g.length-1:0;g=g[w]}g!==null&&(s[p]=g)}for(const p in v)s[p]=v[p]}}}return s}const ai=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ts=new Set(ai),Rv=e=>t=>typeof t=="string"&&t.startsWith(e),Mv=Rv("--"),sC=Rv("var(--"),gf=e=>sC(e)?iC.test(e.split("/*")[0].trim()):!1,iC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lv=(e,t)=>t&&typeof e=="number"?t.transform(e):e,yr=(e,t,r)=>r>t?t:r<e?e:r,oi={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Na={...oi,transform:e=>yr(0,1,e)},jo={...oi,default:1},Ba=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Br=Ba("deg"),pr=Ba("%"),q=Ba("px"),aC=Ba("vh"),oC=Ba("vw"),$p={...pr,parse:e=>pr.parse(e)/100,transform:e=>pr.transform(e*100)},lC={borderWidth:q,borderTopWidth:q,borderRightWidth:q,borderBottomWidth:q,borderLeftWidth:q,borderRadius:q,radius:q,borderTopLeftRadius:q,borderTopRightRadius:q,borderBottomRightRadius:q,borderBottomLeftRadius:q,width:q,maxWidth:q,height:q,maxHeight:q,top:q,right:q,bottom:q,left:q,padding:q,paddingTop:q,paddingRight:q,paddingBottom:q,paddingLeft:q,margin:q,marginTop:q,marginRight:q,marginBottom:q,marginLeft:q,backgroundPositionX:q,backgroundPositionY:q},cC={rotate:Br,rotateX:Br,rotateY:Br,rotateZ:Br,scale:jo,scaleX:jo,scaleY:jo,scaleZ:jo,skew:Br,skewX:Br,skewY:Br,distance:q,translateX:q,translateY:q,translateZ:q,x:q,y:q,z:q,perspective:q,transformPerspective:q,opacity:Na,originX:$p,originY:$p,originZ:q},Fp={...oi,transform:Math.round},xf={...lC,...cC,zIndex:Fp,size:q,fillOpacity:Na,strokeOpacity:Na,numOctaves:Fp},uC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},dC=ai.length;function hC(e,t,r){let n="",s=!0;for(let a=0;a<dC;a++){const o=ai[a],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=Lv(l,xf[o]);if(!c){s=!1;const d=uC[o]||o;n+=`${d}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,s?"":n):s&&(n="none"),n}function yf(e,t,r){const{style:n,vars:s,transformOrigin:a}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(ts.has(c)){o=!0;continue}else if(Mv(c)){s[c]=u;continue}else{const d=Lv(u,xf[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(t.transform||(o||r?n.transform=hC(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const fC={offset:"stroke-dashoffset",array:"stroke-dasharray"},mC={offset:"strokeDashoffset",array:"strokeDasharray"};function pC(e,t,r=1,n=0,s=!0){e.pathLength=1;const a=s?fC:mC;e[a.offset]=q.transform(-n);const o=q.transform(t),l=q.transform(r);e[a.array]=`${o} ${l}`}function Vp(e,t,r){return typeof e=="string"?e:q.transform(t+r*e)}function gC(e,t,r){const n=Vp(t,e.x,e.width),s=Vp(r,e.y,e.height);return`${n} ${s}`}function vf(e,{attrX:t,attrY:r,attrScale:n,originX:s,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(yf(e,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:m,dimensions:x}=e;f.transform&&(x&&(m.transform=f.transform),delete f.transform),x&&(s!==void 0||a!==void 0||m.transform)&&(m.transformOrigin=gC(x,s!==void 0?s:.5,a!==void 0?a:.5)),t!==void 0&&(f.x=t),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),o!==void 0&&pC(f,o,l,c,!1)}const bf=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Dv=()=>({...bf(),attrs:{}}),wf=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Iv(e,{style:t,vars:r},n,s){Object.assign(e.style,t,s&&s.getProjectionStyles(n));for(const a in r)e.style.setProperty(a,r[a])}const $v=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Fv(e,t,r,n){Iv(e,t,void 0,n);for(const s in t.attrs)e.setAttribute($v.has(s)?s:hf(s),t.attrs[s])}const _l={};function xC(e){Object.assign(_l,e)}function Vv(e,{layout:t,layoutId:r}){return ts.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!_l[e]||e==="opacity")}function jf(e,t,r){var n;const{style:s}=e,a={};for(const o in s)(Ze(s[o])||t.style&&Ze(t.style[o])||Vv(o,e)||((n=r==null?void 0:r.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=s[o]);return a}function Uv(e,t,r){const n=jf(e,t,r);for(const s in e)if(Ze(e[s])||Ze(t[s])){const a=ai.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[a]=e[s]}return n}function yC(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Up=["x","y","width","height","cx","cy","r"],vC={useVisualState:Ov({scrapeMotionValuesFromProps:Uv,createRenderState:Dv,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:s})=>{if(!r)return;let a=!!e.drag;if(!a){for(const l in s)if(ts.has(l)){a=!0;break}}if(!a)return;let o=!t;if(t)for(let l=0;l<Up.length;l++){const c=Up[l];e[c]!==t[c]&&(o=!0)}o&&se.read(()=>{yC(r,n),se.render(()=>{vf(n,s,wf(r.tagName),e.transformTemplate),Fv(r,n)})})}})},bC={useVisualState:Ov({scrapeMotionValuesFromProps:jf,createRenderState:bf})};function Bv(e,t,r){for(const n in t)!Ze(t[n])&&!Vv(n,r)&&(e[n]=t[n])}function wC({transformTemplate:e},t){return b.useMemo(()=>{const r=bf();return yf(r,t,e),Object.assign({},r.vars,r.style)},[t])}function jC(e,t){const r=e.style||{},n={};return Bv(n,r,e),Object.assign(n,wC(e,t)),n}function NC(e,t){const r={},n=jC(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function SC(e,t,r,n){const s=b.useMemo(()=>{const a=Dv();return vf(a,t,wf(n),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};Bv(a,e.style,e),s.style={...a,...s.style}}return s}function kC(e=!1){return(r,n,s,{latestValues:a},o)=>{const c=(mf(r)?SC:NC)(n,a,o,r),u=V_(n,typeof r=="string",e),d=r!==b.Fragment?{...u,...c,ref:s}:{},{children:h}=n,f=b.useMemo(()=>Ze(h)?h.get():h,[h]);return b.createElement(r,{...d,children:f})}}function _C(e,t){return function(n,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...mf(n)?vC:bC,preloadedFeatures:e,useRender:kC(s),createVisualElement:t,Component:n};return Y_(o)}}function zv(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function yc(e,t,r){const n=e.getProps();return pf(n,t,r!==void 0?r:n.custom,e)}const Wv=cf(()=>window.ScrollTimeline!==void 0);class CC{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(s=>{if(Wv()&&s.attachTimeline)return s.attachTimeline(t);if(typeof r=="function")return r(s)});return()=>{n.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class PC extends CC{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function Nf(e,t){return e?e[t]||e.default||e:void 0}const Md=2e4;function Hv(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<Md;)t+=r,n=e.next(t);return t>=Md?1/0:t}function Sf(e){return typeof e=="function"}function Bp(e,t){e.timeline=t,e.onfinish=null}const kf=e=>Array.isArray(e)&&typeof e[0]=="number",EC={linearEasing:void 0};function TC(e,t){const r=cf(e);return()=>{var n;return(n=EC[t])!==null&&n!==void 0?n:r()}}const Cl=TC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qv=(e,t,r=10)=>{let n="";const s=Math.max(Math.round(t/r),2);for(let a=0;a<s;a++)n+=e(qn(0,s-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function Gv(e){return!!(typeof e=="function"&&Cl()||!e||typeof e=="string"&&(e in Ld||Cl())||kf(e)||Array.isArray(e)&&e.every(Gv))}const Ei=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,Ld={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ei([0,.65,.55,1]),circOut:Ei([.55,0,1,.45]),backIn:Ei([.31,.01,.66,-.59]),backOut:Ei([.33,1.53,.69,.99])};function Kv(e,t){if(e)return typeof e=="function"&&Cl()?qv(e,t):kf(e)?Ei(e):Array.isArray(e)?e.map(r=>Kv(r,t)||Ld.easeOut):Ld[e]}const Qt={x:!1,y:!1};function Yv(){return Qt.x||Qt.y}function Qv(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let s=document;const a=(n=void 0)!==null&&n!==void 0?n:s.querySelectorAll(e);return a?Array.from(a):[]}return Array.from(e)}function Jv(e,t){const r=Qv(e),n=new AbortController,s={passive:!0,...t,signal:n.signal};return[r,s,()=>n.abort()]}function zp(e){return t=>{t.pointerType==="touch"||Yv()||e(t)}}function AC(e,t,r={}){const[n,s,a]=Jv(e,r),o=zp(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const d=zp(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,s)});return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),a}const Xv=(e,t)=>t?e===t?!0:Xv(e,t.parentElement):!1,_f=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,OC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function RC(e){return OC.has(e.tagName)||e.tabIndex!==-1}const Ti=new WeakSet;function Wp(e){return t=>{t.key==="Enter"&&e(t)}}function ou(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const MC=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=Wp(()=>{if(Ti.has(r))return;ou(r,"down");const s=Wp(()=>{ou(r,"up")}),a=()=>ou(r,"cancel");r.addEventListener("keyup",s,t),r.addEventListener("blur",a,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function Hp(e){return _f(e)&&!Yv()}function LC(e,t,r={}){const[n,s,a]=Jv(e,r),o=l=>{const c=l.currentTarget;if(!Hp(l)||Ti.has(c))return;Ti.add(c);const u=t(l),d=(m,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",f),!(!Hp(m)||!Ti.has(c))&&(Ti.delete(c),typeof u=="function"&&u(m,{success:x}))},h=m=>{d(m,r.useGlobalTarget||Xv(c,m.target))},f=m=>{d(m,!1)};window.addEventListener("pointerup",h,s),window.addEventListener("pointercancel",f,s)};return n.forEach(l=>{!RC(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),l.addEventListener("focus",u=>MC(u,s),s)}),a}function DC(e){return e==="x"||e==="y"?Qt[e]?null:(Qt[e]=!0,()=>{Qt[e]=!1}):Qt.x||Qt.y?null:(Qt.x=Qt.y=!0,()=>{Qt.x=Qt.y=!1})}const Zv=new Set(["width","height","top","left","right","bottom",...ai]);let Wo;function IC(){Wo=void 0}const gr={now:()=>(Wo===void 0&&gr.set(Fe.isProcessing||M_.useManualTiming?Fe.timestamp:performance.now()),Wo),set:e=>{Wo=e,queueMicrotask(IC)}};function Cf(e,t){e.indexOf(t)===-1&&e.push(t)}function Pf(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class Ef{constructor(){this.subscriptions=[]}add(t){return Cf(this.subscriptions,t),()=>Pf(this.subscriptions,t)}notify(t,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,r,n);else for(let a=0;a<s;a++){const o=this.subscriptions[a];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Tf(e,t){return t?e*(1e3/t):0}const qp=30,$C=e=>!isNaN(parseFloat(e)),Ki={current:void 0};class FC{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,s=!0)=>{const a=gr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=gr.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=$C(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new Ef);const n=this.events[t].add(r);return t==="change"?()=>{n(),se.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return Ki.current&&Ki.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=gr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>qp)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qp);return Tf(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function dr(e,t){return new FC(e,t)}function VC(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,dr(r))}function UC(e,t){const r=yc(e,t);let{transitionEnd:n={},transition:s={},...a}=r||{};a={...a,...n};for(const o in a){const l=tC(a[o]);VC(e,o,l)}}function BC(e){return!!(Ze(e)&&e.add)}function Dd(e,t){const r=e.getValue("willChange");if(BC(r))return r.add(t)}function eb(e){return e.props[Ev]}const tb=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,zC=1e-7,WC=12;function HC(e,t,r,n,s){let a,o,l=0;do o=t+(r-t)/2,a=tb(o,n,s)-e,a>0?r=o:t=o;while(Math.abs(a)>zC&&++l<WC);return o}function za(e,t,r,n){if(e===t&&r===n)return at;const s=a=>HC(a,0,1,e,r);return a=>a===0||a===1?a:tb(s(a),t,n)}const rb=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,nb=e=>t=>1-e(1-t),sb=za(.33,1.53,.69,.99),Af=nb(sb),ib=rb(Af),ab=e=>(e*=2)<1?.5*Af(e):.5*(2-Math.pow(2,-10*(e-1))),Of=e=>1-Math.sin(Math.acos(e)),ob=nb(Of),lb=rb(Of),cb=e=>/^0[^.\s]+$/u.test(e);function qC(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||cb(e):!0}const Yi=e=>Math.round(e*1e5)/1e5,Rf=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function GC(e){return e==null}const KC=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Mf=(e,t)=>r=>!!(typeof r=="string"&&KC.test(r)&&r.startsWith(e)||t&&!GC(r)&&Object.prototype.hasOwnProperty.call(r,t)),ub=(e,t,r)=>n=>{if(typeof n!="string")return n;const[s,a,o,l]=n.match(Rf);return{[e]:parseFloat(s),[t]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},YC=e=>yr(0,255,e),lu={...oi,transform:e=>Math.round(YC(e))},In={test:Mf("rgb","red"),parse:ub("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+lu.transform(e)+", "+lu.transform(t)+", "+lu.transform(r)+", "+Yi(Na.transform(n))+")"};function QC(e){let t="",r="",n="",s="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),s=e.substring(4,5),t+=t,r+=r,n+=n,s+=s),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const Id={test:Mf("#"),parse:QC,transform:In.transform},Cs={test:Mf("hsl","hue"),parse:ub("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+pr.transform(Yi(t))+", "+pr.transform(Yi(r))+", "+Yi(Na.transform(n))+")"},Je={test:e=>In.test(e)||Id.test(e)||Cs.test(e),parse:e=>In.test(e)?In.parse(e):Cs.test(e)?Cs.parse(e):Id.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?In.transform(e):Cs.transform(e)},JC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XC(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(Rf))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(JC))===null||r===void 0?void 0:r.length)||0)>0}const db="number",hb="color",ZC="var",e4="var(",Gp="${}",t4=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sa(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},s=[];let a=0;const l=t.replace(t4,c=>(Je.test(c)?(n.color.push(a),s.push(hb),r.push(Je.parse(c))):c.startsWith(e4)?(n.var.push(a),s.push(ZC),r.push(c)):(n.number.push(a),s.push(db),r.push(parseFloat(c))),++a,Gp)).split(Gp);return{values:r,split:l,indexes:n,types:s}}function fb(e){return Sa(e).values}function mb(e){const{split:t,types:r}=Sa(e),n=t.length;return s=>{let a="";for(let o=0;o<n;o++)if(a+=t[o],s[o]!==void 0){const l=r[o];l===db?a+=Yi(s[o]):l===hb?a+=Je.transform(s[o]):a+=s[o]}return a}}const r4=e=>typeof e=="number"?0:e;function n4(e){const t=fb(e);return mb(e)(t.map(r4))}const mn={test:XC,parse:fb,createTransformer:mb,getAnimatableNone:n4},s4=new Set(["brightness","contrast","saturate","opacity"]);function i4(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(Rf)||[];if(!n)return e;const s=r.replace(n,"");let a=s4.has(t)?1:0;return n!==r&&(a*=100),t+"("+a+s+")"}const a4=/\b([a-z-]*)\(.*?\)/gu,$d={...mn,getAnimatableNone:e=>{const t=e.match(a4);return t?t.map(i4).join(" "):e}},o4={...xf,color:Je,backgroundColor:Je,outlineColor:Je,fill:Je,stroke:Je,borderColor:Je,borderTopColor:Je,borderRightColor:Je,borderBottomColor:Je,borderLeftColor:Je,filter:$d,WebkitFilter:$d},Lf=e=>o4[e];function pb(e,t){let r=Lf(e);return r!==$d&&(r=mn),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const l4=new Set(["auto","none","0"]);function c4(e,t,r){let n=0,s;for(;n<e.length&&!s;){const a=e[n];typeof a=="string"&&!l4.has(a)&&Sa(a).values.length&&(s=e[n]),n++}if(s&&r)for(const a of t)e[a]=pb(r,s)}const Kp=e=>e===oi||e===q,Yp=(e,t)=>parseFloat(e.split(", ")[t]),Qp=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const s=n.match(/^matrix3d\((.+)\)$/u);if(s)return Yp(s[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?Yp(a[1],e):0}},u4=new Set(["x","y","z"]),d4=ai.filter(e=>!u4.has(e));function h4(e){const t=[];return d4.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const qs={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:Qp(4,13),y:Qp(5,14)};qs.translateX=qs.x;qs.translateY=qs.y;const Vn=new Set;let Fd=!1,Vd=!1;function gb(){if(Vd){const e=Array.from(Vn).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const s=h4(n);s.length&&(r.set(n,s),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Vd=!1,Fd=!1,Vn.forEach(e=>e.complete()),Vn.clear()}function xb(){Vn.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Vd=!0)})}function f4(){xb(),gb()}class Df{constructor(t,r,n,s,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=s,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Vn.add(this),Fd||(Fd=!0,se.read(xb),se.resolveKeyframes(gb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:s}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const o=s==null?void 0:s.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),s&&o===void 0&&s.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Vn.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Vn.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const yb=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),m4=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function p4(e){const t=m4.exec(e);if(!t)return[,];const[,r,n,s]=t;return[`--${r??n}`,s]}function vb(e,t,r=1){const[n,s]=p4(e);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const o=a.trim();return yb(o)?parseFloat(o):o}return gf(s)?vb(s,t,r+1):s}const bb=e=>t=>t.test(e),g4={test:e=>e==="auto",parse:e=>e},wb=[oi,q,pr,Br,oC,aC,g4],Jp=e=>wb.find(bb(e));class jb extends Df{constructor(t,r,n,s,a){super(t,r,n,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),gf(u))){const d=vb(u,r.current);d!==void 0&&(t[c]=d),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Zv.has(n)||t.length!==2)return;const[s,a]=t,o=Jp(s),l=Jp(a);if(o!==l)if(Kp(o)&&Kp(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let s=0;s<t.length;s++)qC(t[s])&&n.push(s);n.length&&c4(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qs[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&t.getValue(n,s).jump(s,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:s}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=s.length-1,l=s[o];s[o]=qs[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Xp=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mn.test(e)||e==="0")&&!e.startsWith("url("));function x4(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function y4(e,t,r,n){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const a=e[e.length-1],o=Xp(s,t),l=Xp(a,t);return!o||!l?!1:x4(e)||(r==="spring"||Sf(r))&&n}const v4=e=>e!==null;function vc(e,{repeat:t,repeatType:r="loop"},n){const s=e.filter(v4),a=t&&r!=="loop"&&t%2===1?0:s.length-1;return!a||n===void 0?s[a]:n}const b4=40;class Nb{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gr.now(),this.options={autoplay:t,delay:r,type:n,repeat:s,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>b4?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&f4(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=gr.now(),this.hasAttemptedResolve=!0;const{name:n,type:s,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!y4(t,n,s,a))if(o)this.options.duration=0;else{c&&c(vc(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(t,r);d!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const je=(e,t,r)=>e+(t-e)*r;function cu(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function w4({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let s=0,a=0,o=0;if(!t)s=a=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;s=cu(c,l,e+1/3),a=cu(c,l,e),o=cu(c,l,e-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function Pl(e,t){return r=>r>0?t:e}const uu=(e,t,r)=>{const n=e*e,s=r*(t*t-n)+n;return s<0?0:Math.sqrt(s)},j4=[Id,In,Cs],N4=e=>j4.find(t=>t.test(e));function Zp(e){const t=N4(e);if(!t)return!1;let r=t.parse(e);return t===Cs&&(r=w4(r)),r}const e0=(e,t)=>{const r=Zp(e),n=Zp(t);if(!r||!n)return Pl(e,t);const s={...r};return a=>(s.red=uu(r.red,n.red,a),s.green=uu(r.green,n.green,a),s.blue=uu(r.blue,n.blue,a),s.alpha=je(r.alpha,n.alpha,a),In.transform(s))},S4=(e,t)=>r=>t(e(r)),Wa=(...e)=>e.reduce(S4),Ud=new Set(["none","hidden"]);function k4(e,t){return Ud.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function _4(e,t){return r=>je(e,t,r)}function If(e){return typeof e=="number"?_4:typeof e=="string"?gf(e)?Pl:Je.test(e)?e0:E4:Array.isArray(e)?Sb:typeof e=="object"?Je.test(e)?e0:C4:Pl}function Sb(e,t){const r=[...e],n=r.length,s=e.map((a,o)=>If(a)(a,t[o]));return a=>{for(let o=0;o<n;o++)r[o]=s[o](a);return r}}function C4(e,t){const r={...e,...t},n={};for(const s in r)e[s]!==void 0&&t[s]!==void 0&&(n[s]=If(e[s])(e[s],t[s]));return s=>{for(const a in n)r[a]=n[a](s);return r}}function P4(e,t){var r;const n=[],s={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],l=e.indexes[o][s[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[a]=c,s[o]++}return n}const E4=(e,t)=>{const r=mn.createTransformer(t),n=Sa(e),s=Sa(t);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?Ud.has(e)&&!s.values.length||Ud.has(t)&&!n.values.length?k4(e,t):Wa(Sb(P4(n,s),s.values),r):Pl(e,t)};function kb(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?je(e,t,r):If(e)(e,t)}const T4=5;function _b(e,t,r){const n=Math.max(t-T4,0);return Tf(r-e(n),t-n)}const _e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},du=.001;function A4({duration:e=_e.duration,bounce:t=_e.bounce,velocity:r=_e.velocity,mass:n=_e.mass}){let s,a,o=1-t;o=yr(_e.minDamping,_e.maxDamping,o),e=yr(_e.minDuration,_e.maxDuration,Tr(e)),o<1?(s=u=>{const d=u*o,h=d*e,f=d-r,m=Bd(u,o),x=Math.exp(-h);return du-f/m*x},a=u=>{const h=u*o*e,f=h*r+r,m=Math.pow(o,2)*Math.pow(u,2)*e,x=Math.exp(-h),v=Bd(Math.pow(u,2),o);return(-s(u)+du>0?-1:1)*((f-m)*x)/v}):(s=u=>{const d=Math.exp(-u*e),h=(u-r)*e+1;return-du+d*h},a=u=>{const d=Math.exp(-u*e),h=(r-u)*(e*e);return d*h});const l=5/e,c=R4(s,a,l);if(e=Er(e),isNaN(c))return{stiffness:_e.stiffness,damping:_e.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const O4=12;function R4(e,t,r){let n=r;for(let s=1;s<O4;s++)n=n-e(n)/t(n);return n}function Bd(e,t){return e*Math.sqrt(1-t*t)}const M4=["duration","bounce"],L4=["stiffness","damping","mass"];function t0(e,t){return t.some(r=>e[r]!==void 0)}function D4(e){let t={velocity:_e.velocity,stiffness:_e.stiffness,damping:_e.damping,mass:_e.mass,isResolvedFromDuration:!1,...e};if(!t0(e,L4)&&t0(e,M4))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,a=2*yr(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:_e.mass,stiffness:s,damping:a}}else{const r=A4(e);t={...t,...r,mass:_e.mass},t.isResolvedFromDuration=!0}return t}function Cb(e=_e.visualDuration,t=_e.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:s}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:h,velocity:f,isResolvedFromDuration:m}=D4({...r,velocity:-Tr(r.velocity||0)}),x=f||0,v=u/(2*Math.sqrt(c*d)),N=o-a,y=Tr(Math.sqrt(c/d)),p=Math.abs(N)<5;n||(n=p?_e.restSpeed.granular:_e.restSpeed.default),s||(s=p?_e.restDelta.granular:_e.restDelta.default);let g;if(v<1){const j=Bd(y,v);g=S=>{const _=Math.exp(-v*y*S);return o-_*((x+v*y*N)/j*Math.sin(j*S)+N*Math.cos(j*S))}}else if(v===1)g=j=>o-Math.exp(-y*j)*(N+(x+y*N)*j);else{const j=y*Math.sqrt(v*v-1);g=S=>{const _=Math.exp(-v*y*S),C=Math.min(j*S,300);return o-_*((x+v*y*N)*Math.sinh(C)+j*N*Math.cosh(C))/j}}const w={calculatedDuration:m&&h||null,next:j=>{const S=g(j);if(m)l.done=j>=h;else{let _=0;v<1&&(_=j===0?Er(x):_b(g,j,S));const C=Math.abs(_)<=n,O=Math.abs(o-S)<=s;l.done=C&&O}return l.value=l.done?o:S,l},toString:()=>{const j=Math.min(Hv(w),Md),S=qv(_=>w.next(j*_).value,j,30);return j+"ms "+S}};return w}function r0({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=e[0],f={done:!1,value:h},m=C=>l!==void 0&&C<l||c!==void 0&&C>c,x=C=>l===void 0?c:c===void 0||Math.abs(l-C)<Math.abs(c-C)?l:c;let v=r*t;const N=h+v,y=o===void 0?N:o(N);y!==N&&(v=y-h);const p=C=>-v*Math.exp(-C/n),g=C=>y+p(C),w=C=>{const O=p(C),E=g(C);f.done=Math.abs(O)<=u,f.value=f.done?y:E};let j,S;const _=C=>{m(f.value)&&(j=C,S=Cb({keyframes:[f.value,x(f.value)],velocity:_b(g,C,f.value),damping:s,stiffness:a,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:C=>{let O=!1;return!S&&j===void 0&&(O=!0,w(C),_(C)),j!==void 0&&C>=j?S.next(C-j):(!O&&w(C),f)}}}const I4=za(.42,0,1,1),$4=za(0,0,.58,1),Pb=za(.42,0,.58,1),F4=e=>Array.isArray(e)&&typeof e[0]!="number",n0={linear:at,easeIn:I4,easeInOut:Pb,easeOut:$4,circIn:Of,circInOut:lb,circOut:ob,backIn:Af,backInOut:ib,backOut:sb,anticipate:ab},s0=e=>{if(kf(e)){Od(e.length===4);const[t,r,n,s]=e;return za(t,r,n,s)}else if(typeof e=="string")return Od(n0[e]!==void 0),n0[e];return e};function V4(e,t,r){const n=[],s=r||kb,a=e.length-1;for(let o=0;o<a;o++){let l=s(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||at:t;l=Wa(c,l)}n.push(l)}return n}function $f(e,t,{clamp:r=!0,ease:n,mixer:s}={}){const a=e.length;if(Od(a===t.length),a===1)return()=>t[0];if(a===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=V4(t,n,s),c=l.length,u=d=>{if(o&&d<e[0])return t[0];let h=0;if(c>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const f=qn(e[h],e[h+1],d);return l[h](f)};return r?d=>u(yr(e[0],e[a-1],d)):u}function U4(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const s=qn(0,t,n);e.push(je(r,1,s))}}function Eb(e){const t=[0];return U4(t,e.length-1),t}function B4(e,t){return e.map(r=>r*t)}function z4(e,t){return e.map(()=>t||Pb).splice(0,e.length-1)}function El({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const s=F4(n)?n.map(s0):s0(n),a={done:!1,value:t[0]},o=B4(r&&r.length===t.length?r:Eb(t),e),l=$f(o,t,{ease:Array.isArray(s)?s:z4(t,s)});return{calculatedDuration:e,next:c=>(a.value=l(c),a.done=c>=e,a)}}const W4=e=>{const t=({timestamp:r})=>e(r);return{start:()=>se.update(t,!0),stop:()=>sr(t),now:()=>Fe.isProcessing?Fe.timestamp:gr.now()}},H4={decay:r0,inertia:r0,tween:El,keyframes:El,spring:Cb},q4=e=>e/100;class Ff extends Nb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:s,keyframes:a}=this.options,o=(s==null?void 0:s.KeyframeResolver)||Df,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,n,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:s=0,repeatType:a,velocity:o=0}=this.options,l=Sf(r)?r:H4[r]||El;let c,u;l!==El&&typeof t[0]!="number"&&(c=Wa(q4,kb(t[0],t[1])),t=[0,100]);const d=l({...this.options,keyframes:t});a==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=Hv(d));const{calculatedDuration:h}=d,f=h+s,m=f*(n+1)-s;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:f,totalDuration:m}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:C}=this.options;return{done:!0,value:C[C.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return a.next(0);const{delay:f,repeat:m,repeatType:x,repeatDelay:v,onUpdate:N}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-d/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const y=this.currentTime-f*(this.speed>=0?1:-1),p=this.speed>=0?y<0:y>d;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let g=this.currentTime,w=a;if(m){const C=Math.min(this.currentTime,d)/h;let O=Math.floor(C),E=C%1;!E&&C>=1&&(E=1),E===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(x==="reverse"?(E=1-E,v&&(E-=v/h)):x==="mirror"&&(w=o)),g=yr(0,1,E)*h}const j=p?{done:!1,value:c[0]}:w.next(g);l&&(j.value=l(j.value));let{done:S}=j;!p&&u!==null&&(S=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const _=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&S);return _&&s!==void 0&&(j.value=vc(c,this.options,s)),N&&N(j.value),_&&this.finish(),j}get duration(){const{resolved:t}=this;return t?Tr(t.calculatedDuration):0}get time(){return Tr(this.currentTime)}set time(t){t=Er(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=Tr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=W4,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),r&&r();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const G4=new Set(["opacity","clipPath","filter","transform"]);function K4(e,t,r,{delay:n=0,duration:s=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const d=Kv(l,s);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:n,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Y4=cf(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Tl=10,Q4=2e4;function J4(e){return Sf(e.type)||e.type==="spring"||!Gv(e.ease)}function X4(e,t){const r=new Ff({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const s=[];let a=0;for(;!n.done&&a<Q4;)n=r.sample(a),s.push(n.value),a+=Tl;return{times:void 0,keyframes:s,duration:a-Tl,ease:"linear"}}const Tb={anticipate:ab,backInOut:ib,circInOut:lb};function Z4(e){return e in Tb}class i0 extends Nb{constructor(t){super(t);const{name:r,motionValue:n,element:s,keyframes:a}=this.options;this.resolver=new jb(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,s),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:s,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&Cl()&&Z4(a)&&(a=Tb[a]),J4(this.options)){const{onComplete:h,onUpdate:f,motionValue:m,element:x,...v}=this.options,N=X4(t,v);t=N.keyframes,t.length===1&&(t[1]=t[0]),n=N.duration,s=N.times,a=N.ease,o="keyframes"}const d=K4(l.owner.current,c,t,{...this.options,duration:n,times:s,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(Bp(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(vc(t,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return Tr(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return Tr(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Er(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return at;const{animation:n}=r;Bp(n,t)}return at}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:s,type:a,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:f,...m}=this.options,x=new Ff({...m,keyframes:n,duration:s,type:a,ease:o,times:l,isGenerator:!0}),v=Er(this.time);u.setWithVelocity(x.sample(v-Tl).value,x.sample(v).value,Tl)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:s,repeatType:a,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Y4()&&n&&G4.has(n)&&!c&&!u&&!s&&a!=="mirror"&&o!==0&&l!=="inertia"}}const eP={type:"spring",stiffness:500,damping:25,restSpeed:10},tP=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),rP={type:"keyframes",duration:.8},nP={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},sP=(e,{keyframes:t})=>t.length>2?rP:ts.has(e)?e.startsWith("scale")?tP(t[1]):eP:nP;function iP({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const Vf=(e,t,r,n={},s,a)=>o=>{const l=Nf(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Er(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:f=>{t.set(f),l.onUpdate&&l.onUpdate(f)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:a?void 0:s};iP(l)||(d={...d,...sP(e,d)}),d.duration&&(d.duration=Er(d.duration)),d.repeatDelay&&(d.repeatDelay=Er(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!a&&t.get()!==void 0){const f=vc(d.keyframes,l);if(f!==void 0)return se.update(()=>{d.onUpdate(f),d.onComplete()}),new PC([])}return!a&&i0.supports(d)?new i0(d):new Ff(d)};function aP({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function Ab(e,t,{delay:r=0,transitionOverride:n,type:s}={}){var a;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],d=s&&e.animationState&&e.animationState.getState()[s];for(const h in c){const f=e.getValue(h,(a=e.latestValues[h])!==null&&a!==void 0?a:null),m=c[h];if(m===void 0||d&&aP(d,h))continue;const x={delay:r,...Nf(o||{},h)};let v=!1;if(window.MotionHandoffAnimation){const y=eb(e);if(y){const p=window.MotionHandoffAnimation(y,h,se);p!==null&&(x.startTime=p,v=!0)}}Dd(e,h),f.start(Vf(h,f,m,e.shouldReduceMotion&&Zv.has(h)?{type:!1}:x,e,v));const N=f.animation;N&&u.push(N)}return l&&Promise.all(u).then(()=>{se.update(()=>{l&&UC(e,l)})}),u}function zd(e,t,r={}){var n;const s=yc(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=e.getDefaultTransition()||{}}=s||{};r.transitionOverride&&(a=r.transitionOverride);const o=s?()=>Promise.all(Ab(e,s,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:f}=a;return oP(e,t,d+u,h,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function oP(e,t,r=0,n=0,s=1,a){const o=[],l=(e.variantChildren.size-1)*n,c=s===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(lP).forEach((u,d)=>{u.notify("AnimationStart",t),o.push(zd(u,t,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function lP(e,t){return e.sortNodePosition(t)}function cP(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const s=t.map(a=>zd(e,a,r));n=Promise.all(s)}else if(typeof t=="string")n=zd(e,t,r);else{const s=typeof t=="function"?yc(e,t,r.custom):t;n=Promise.all(Ab(e,s,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const uP=df.length;function Ob(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?Ob(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<uP;r++){const n=df[r],s=e.props[n];(ja(s)||s===!1)&&(t[n]=s)}return t}const dP=[...uf].reverse(),hP=uf.length;function fP(e){return t=>Promise.all(t.map(({animation:r,options:n})=>cP(e,r,n)))}function mP(e){let t=fP(e),r=a0(),n=!0;const s=c=>(u,d)=>{var h;const f=yc(e,d,c==="exit"?(h=e.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(f){const{transition:m,transitionEnd:x,...v}=f;u={...u,...v,...x}}return u};function a(c){t=c(e)}function o(c){const{props:u}=e,d=Ob(e.parent)||{},h=[],f=new Set;let m={},x=1/0;for(let N=0;N<hP;N++){const y=dP[N],p=r[y],g=u[y]!==void 0?u[y]:d[y],w=ja(g),j=y===c?p.isActive:null;j===!1&&(x=N);let S=g===d[y]&&g!==u[y]&&w;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),p.protectedKeys={...m},!p.isActive&&j===null||!g&&!p.prevProp||gc(g)||typeof g=="boolean")continue;const _=pP(p.prevProp,g);let C=_||y===c&&p.isActive&&!S&&w||N>x&&w,O=!1;const E=Array.isArray(g)?g:[g];let W=E.reduce(s(y),{});j===!1&&(W={});const{prevResolvedValues:J={}}=p,ee={...J,...W},ve=M=>{C=!0,f.has(M)&&(O=!0,f.delete(M)),p.needsAnimating[M]=!0;const T=e.getValue(M);T&&(T.liveStyle=!1)};for(const M in ee){const T=W[M],B=J[M];if(m.hasOwnProperty(M))continue;let V=!1;Rd(T)&&Rd(B)?V=!zv(T,B):V=T!==B,V?T!=null?ve(M):f.add(M):T!==void 0&&f.has(M)?ve(M):p.protectedKeys[M]=!0}p.prevProp=g,p.prevResolvedValues=W,p.isActive&&(m={...m,...W}),n&&e.blockInitialAnimation&&(C=!1),C&&(!(S&&_)||O)&&h.push(...E.map(M=>({animation:M,options:{type:y}})))}if(f.size){const N={};f.forEach(y=>{const p=e.getBaseTarget(y),g=e.getValue(y);g&&(g.liveStyle=!0),N[y]=p??null}),h.push({animation:N})}let v=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(v=!1),n=!1,v?t(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const f in r)r[f].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=a0(),n=!0}}}function pP(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!zv(t,e):!1}function kn(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function a0(){return{animate:kn(!0),whileInView:kn(),whileHover:kn(),whileTap:kn(),whileDrag:kn(),whileFocus:kn(),exit:kn()}}class Nn{constructor(t){this.isMounted=!1,this.node=t}update(){}}class gP extends Nn{constructor(t){super(t),t.animationState||(t.animationState=mP(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();gc(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let xP=0;class yP extends Nn{constructor(){super(...arguments),this.id=xP++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const s=this.node.animationState.setActive("exit",!t);r&&!t&&s.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const vP={animation:{Feature:gP},exit:{Feature:yP}};function ka(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function Ha(e){return{point:{x:e.pageX,y:e.pageY}}}const bP=e=>t=>_f(t)&&e(t,Ha(t));function Qi(e,t,r,n){return ka(e,t,bP(r),n)}const o0=(e,t)=>Math.abs(e-t);function wP(e,t){const r=o0(e.x,t.x),n=o0(e.y,t.y);return Math.sqrt(r**2+n**2)}class Rb{constructor(t,r,{transformPagePoint:n,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=fu(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,m=wP(h.offset,{x:0,y:0})>=3;if(!f&&!m)return;const{point:x}=h,{timestamp:v}=Fe;this.history.push({...x,timestamp:v});const{onStart:N,onMove:y}=this.handlers;f||(N&&N(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,h)},this.handlePointerMove=(h,f)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=hu(f,this.transformPagePoint),se.update(this.updatePoint,!0)},this.handlePointerUp=(h,f)=>{this.end();const{onEnd:m,onSessionEnd:x,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=fu(h.type==="pointercancel"?this.lastMoveEventInfo:hu(f,this.transformPagePoint),this.history);this.startEvent&&m&&m(h,N),x&&x(h,N)},!_f(t))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=s||window;const o=Ha(t),l=hu(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Fe;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(t,fu(l,this.history)),this.removeListeners=Wa(Qi(this.contextWindow,"pointermove",this.handlePointerMove),Qi(this.contextWindow,"pointerup",this.handlePointerUp),Qi(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),sr(this.updatePoint)}}function hu(e,t){return t?{point:t(e.point)}:e}function l0(e,t){return{x:e.x-t.x,y:e.y-t.y}}function fu({point:e},t){return{point:e,delta:l0(e,Mb(t)),offset:l0(e,jP(t)),velocity:NP(t,.1)}}function jP(e){return e[0]}function Mb(e){return e[e.length-1]}function NP(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const s=Mb(e);for(;r>=0&&(n=e[r],!(s.timestamp-n.timestamp>Er(t)));)r--;if(!n)return{x:0,y:0};const a=Tr(s.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(s.x-n.x)/a,y:(s.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const Lb=1e-4,SP=1-Lb,kP=1+Lb,Db=.01,_P=0-Db,CP=0+Db;function Ct(e){return e.max-e.min}function PP(e,t,r){return Math.abs(e-t)<=r}function c0(e,t,r,n=.5){e.origin=n,e.originPoint=je(t.min,t.max,e.origin),e.scale=Ct(r)/Ct(t),e.translate=je(r.min,r.max,e.origin)-e.originPoint,(e.scale>=SP&&e.scale<=kP||isNaN(e.scale))&&(e.scale=1),(e.translate>=_P&&e.translate<=CP||isNaN(e.translate))&&(e.translate=0)}function Ji(e,t,r,n){c0(e.x,t.x,r.x,n?n.originX:void 0),c0(e.y,t.y,r.y,n?n.originY:void 0)}function u0(e,t,r){e.min=r.min+t.min,e.max=e.min+Ct(t)}function EP(e,t,r){u0(e.x,t.x,r.x),u0(e.y,t.y,r.y)}function d0(e,t,r){e.min=t.min-r.min,e.max=e.min+Ct(t)}function Xi(e,t,r){d0(e.x,t.x,r.x),d0(e.y,t.y,r.y)}function TP(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?je(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?je(r,e,n.max):Math.min(e,r)),e}function h0(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function AP(e,{top:t,left:r,bottom:n,right:s}){return{x:h0(e.x,r,s),y:h0(e.y,t,n)}}function f0(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function OP(e,t){return{x:f0(e.x,t.x),y:f0(e.y,t.y)}}function RP(e,t){let r=.5;const n=Ct(e),s=Ct(t);return s>n?r=qn(t.min,t.max-n,e.min):n>s&&(r=qn(e.min,e.max-s,t.min)),yr(0,1,r)}function MP(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const Wd=.35;function LP(e=Wd){return e===!1?e=0:e===!0&&(e=Wd),{x:m0(e,"left","right"),y:m0(e,"top","bottom")}}function m0(e,t,r){return{min:p0(e,t),max:p0(e,r)}}function p0(e,t){return typeof e=="number"?e:e[t]||0}const g0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ps=()=>({x:g0(),y:g0()}),x0=()=>({min:0,max:0}),Pe=()=>({x:x0(),y:x0()});function Ot(e){return[e("x"),e("y")]}function Ib({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function DP({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function IP(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mu(e){return e===void 0||e===1}function Hd({scale:e,scaleX:t,scaleY:r}){return!mu(e)||!mu(t)||!mu(r)}function En(e){return Hd(e)||$b(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function $b(e){return y0(e.x)||y0(e.y)}function y0(e){return e&&e!=="0%"}function Al(e,t,r){const n=e-r,s=t*n;return r+s}function v0(e,t,r,n,s){return s!==void 0&&(e=Al(e,s,n)),Al(e,r,n)+t}function qd(e,t=0,r=1,n,s){e.min=v0(e.min,t,r,n,s),e.max=v0(e.max,t,r,n,s)}function Fb(e,{x:t,y:r}){qd(e.x,t.translate,t.scale,t.originPoint),qd(e.y,r.translate,r.scale,r.originPoint)}const b0=.999999999999,w0=1.0000000000001;function $P(e,t,r,n=!1){const s=r.length;if(!s)return;t.x=t.y=1;let a,o;for(let l=0;l<s;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ts(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,Fb(e,o)),n&&En(a.latestValues)&&Ts(e,a.latestValues))}t.x<w0&&t.x>b0&&(t.x=1),t.y<w0&&t.y>b0&&(t.y=1)}function Es(e,t){e.min=e.min+t,e.max=e.max+t}function j0(e,t,r,n,s=.5){const a=je(e.min,e.max,s);qd(e,t,r,a,n)}function Ts(e,t){j0(e.x,t.x,t.scaleX,t.scale,t.originX),j0(e.y,t.y,t.scaleY,t.scale,t.originY)}function Vb(e,t){return Ib(IP(e.getBoundingClientRect(),t))}function FP(e,t,r){const n=Vb(e,r),{scroll:s}=t;return s&&(Es(n.x,s.offset.x),Es(n.y,s.offset.y)),n}const Ub=({current:e})=>e?e.ownerDocument.defaultView:null,VP=new WeakMap;class UP{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Pe(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ha(d).point)},a=(d,h)=>{const{drag:f,dragPropagation:m,onDragStart:x}=this.getProps();if(f&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DC(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ot(N=>{let y=this.getAxisMotionValue(N).get()||0;if(pr.test(y)){const{projection:p}=this.visualElement;if(p&&p.layout){const g=p.layout.layoutBox[N];g&&(y=Ct(g)*(parseFloat(y)/100))}}this.originPoint[N]=y}),x&&se.postRender(()=>x(d,h)),Dd(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:f,dragDirectionLock:m,onDirectionLock:x,onDrag:v}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:N}=h;if(m&&this.currentDirection===null){this.currentDirection=BP(N),this.currentDirection!==null&&x&&x(this.currentDirection);return}this.updateAxis("x",h.point,N),this.updateAxis("y",h.point,N),this.visualElement.render(),v&&v(d,h)},l=(d,h)=>this.stop(d,h),c=()=>Ot(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Rb(t,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:Ub(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:s}=r;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&se.postRender(()=>a(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:s}=this.getProps();if(!n||!No(t,s,this.currentDirection))return;const a=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=TP(o,this.constraints[t],this.elastic[t])),a.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;r&&_s(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&s?this.constraints=AP(s.layoutBox,r):this.constraints=!1,this.elastic=LP(n),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Ot(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=MP(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!_s(t))return!1;const n=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=FP(n,s.root,this.visualElement.getTransformPagePoint());let o=OP(s.layout.layoutBox,a);if(r){const l=r(DP(o));this.hasMutatedConstraints=!!l,l&&(o=Ib(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ot(d=>{if(!No(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const f=s?200:1e6,m=s?40:1e7,x={type:"inertia",velocity:n?t[d]:0,bounceStiffness:f,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...h};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return Dd(this.visualElement,t),n.start(Vf(t,n,0,r,this.visualElement,!1))}stopAnimation(){Ot(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Ot(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Ot(r=>{const{drag:n}=this.getProps();if(!No(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];a.set(t[r]-je(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!_s(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Ot(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=RP({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ot(o=>{if(!No(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(je(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;VP.set(this.visualElement,this);const t=this.visualElement.current,r=Qi(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();_s(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),se.read(n);const o=ka(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ot(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:o=Wd,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function No(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function BP(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class zP extends Nn{constructor(t){super(t),this.removeGroupControls=at,this.removeListeners=at,this.controls=new UP(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||at}unmount(){this.removeGroupControls(),this.removeListeners()}}const N0=e=>(t,r)=>{e&&se.postRender(()=>e(t,r))};class WP extends Nn{constructor(){super(...arguments),this.removePointerDownListener=at}onPointerDown(t){this.session=new Rb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Ub(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:N0(t),onStart:N0(r),onMove:n,onEnd:(a,o)=>{delete this.session,s&&se.postRender(()=>s(a,o))}}}mount(){this.removePointerDownListener=Qi(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ho={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function S0(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const yi={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(q.test(e))e=parseFloat(e);else return e;const r=S0(e,t.target.x),n=S0(e,t.target.y);return`${r}% ${n}%`}},HP={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,s=mn.parse(e);if(s.length>5)return n;const a=mn.createTransformer(e),o=typeof s[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;s[0+o]/=l,s[1+o]/=c;const u=je(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),a(s)}};class qP extends b.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:a}=t;xC(GP),a&&(r.group&&r.group.add(a),n&&n.register&&s&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ho.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:s,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,s||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?o.promote():o.relegate()||se.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ff.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=t;s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Bb(e){const[t,r]=Sv(),n=b.useContext(of);return i.jsx(qP,{...e,layoutGroup:n,switchLayoutGroup:b.useContext(Tv),isPresent:t,safeToRemove:r})}const GP={borderRadius:{...yi,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:yi,borderTopRightRadius:yi,borderBottomLeftRadius:yi,borderBottomRightRadius:yi,boxShadow:HP};function KP(e,t,r){const n=Ze(e)?e:dr(e);return n.start(Vf("",n,t,r)),n.animation}function YP(e){return e instanceof SVGElement&&e.tagName!=="svg"}const QP=(e,t)=>e.depth-t.depth;class JP{constructor(){this.children=[],this.isDirty=!1}add(t){Cf(this.children,t),this.isDirty=!0}remove(t){Pf(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(QP),this.isDirty=!1,this.children.forEach(t)}}function XP(e,t){const r=gr.now(),n=({timestamp:s})=>{const a=s-r;a>=t&&(sr(n),e(a-t))};return se.read(n,!0),()=>sr(n)}const zb=["TopLeft","TopRight","BottomLeft","BottomRight"],ZP=zb.length,k0=e=>typeof e=="string"?parseFloat(e):e,_0=e=>typeof e=="number"||q.test(e);function e3(e,t,r,n,s,a){s?(e.opacity=je(0,r.opacity!==void 0?r.opacity:1,t3(n)),e.opacityExit=je(t.opacity!==void 0?t.opacity:1,0,r3(n))):a&&(e.opacity=je(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<ZP;o++){const l=`border${zb[o]}Radius`;let c=C0(t,l),u=C0(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||_0(c)===_0(u)?(e[l]=Math.max(je(k0(c),k0(u),n),0),(pr.test(u)||pr.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=je(t.rotate||0,r.rotate||0,n))}function C0(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const t3=Wb(0,.5,ob),r3=Wb(.5,.95,at);function Wb(e,t,r){return n=>n<e?0:n>t?1:r(qn(e,t,n))}function P0(e,t){e.min=t.min,e.max=t.max}function At(e,t){P0(e.x,t.x),P0(e.y,t.y)}function E0(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function T0(e,t,r,n,s){return e-=t,e=Al(e,1/r,n),s!==void 0&&(e=Al(e,1/s,n)),e}function n3(e,t=0,r=1,n=.5,s,a=e,o=e){if(pr.test(t)&&(t=parseFloat(t),t=je(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=je(a.min,a.max,n);e===a&&(l-=t),e.min=T0(e.min,t,r,l,s),e.max=T0(e.max,t,r,l,s)}function A0(e,t,[r,n,s],a,o){n3(e,t[r],t[n],t[s],t.scale,a,o)}const s3=["x","scaleX","originX"],i3=["y","scaleY","originY"];function O0(e,t,r,n){A0(e.x,t,s3,r?r.x:void 0,n?n.x:void 0),A0(e.y,t,i3,r?r.y:void 0,n?n.y:void 0)}function R0(e){return e.translate===0&&e.scale===1}function Hb(e){return R0(e.x)&&R0(e.y)}function M0(e,t){return e.min===t.min&&e.max===t.max}function a3(e,t){return M0(e.x,t.x)&&M0(e.y,t.y)}function L0(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qb(e,t){return L0(e.x,t.x)&&L0(e.y,t.y)}function D0(e){return Ct(e.x)/Ct(e.y)}function I0(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class o3{constructor(){this.members=[]}add(t){Cf(this.members,t),t.scheduleRender()}remove(t){if(Pf(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(s=>t===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l3(e,t,r){let n="";const s=e.x.translate/t.x,a=e.y.translate/t.y,o=(r==null?void 0:r.z)||0;if((s||a||o)&&(n=`translate3d(${s}px, ${a}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:f,skewX:m,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),f&&(n+=`rotateY(${f}deg) `),m&&(n+=`skewX(${m}deg) `),x&&(n+=`skewY(${x}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const Tn={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Ai=typeof window<"u"&&window.MotionDebug!==void 0,pu=["","X","Y","Z"],c3={visibility:"hidden"},$0=1e3;let u3=0;function gu(e,t,r,n){const{latestValues:s}=t;s[e]&&(r[e]=s[e],t.setStaticValue(e,0),n&&(n[e]=0))}function Gb(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=eb(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:a}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",se,!(s||a))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&Gb(n)}function Kb({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=t==null?void 0:t()){this.id=u3++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ai&&(Tn.totalNodes=Tn.resolvedTargetDeltas=Tn.recalculatedProjection=0),this.nodes.forEach(f3),this.nodes.forEach(y3),this.nodes.forEach(v3),this.nodes.forEach(m3),Ai&&window.MotionDebug.record(Tn)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new JP)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ef),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=YP(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let h;const f=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=XP(f,250),Ho.hasAnimatedSinceResize&&(Ho.hasAnimatedSinceResize=!1,this.nodes.forEach(V0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:f,hasRelativeTargetChanged:m,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||S3,{onLayoutAnimationStart:N,onLayoutAnimationComplete:y}=d.getProps(),p=!this.targetLayout||!qb(this.targetLayout,x)||m,g=!f&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||g||f&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,g);const w={...Nf(v,"layout"),onPlay:N,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else f||V0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,sr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(b3),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Gb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(F0);return}this.isUpdating||this.nodes.forEach(g3),this.isUpdating=!1,this.nodes.forEach(x3),this.nodes.forEach(d3),this.nodes.forEach(h3),this.clearAllSnapshots();const l=gr.now();Fe.delta=yr(0,1e3/60,l-Fe.timestamp),Fe.timestamp=l,Fe.isProcessing=!0,au.update.process(Fe),au.preRender.process(Fe),au.render.process(Fe),Fe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ff.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(p3),this.sharedNodes.forEach(w3)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,se.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){se.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Pe(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Hb(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||En(this.latestValues)||d)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),k3(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Pe();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(_3))){const{scroll:d}=this.root;d&&(Es(c.x,d.offset.x),Es(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Pe();if(At(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:f}=d;d!==this.root&&h&&f.layoutScroll&&(h.wasRoot&&At(c,o),Es(c.x,h.offset.x),Es(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=Pe();At(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ts(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),En(d.latestValues)&&Ts(c,d.latestValues)}return En(this.latestValues)&&Ts(c,this.latestValues),c}removeTransform(o){const l=Pe();At(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!En(u.latestValues))continue;Hd(u.latestValues)&&u.updateSnapshot();const d=Pe(),h=u.measurePageBox();At(d,h),O0(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return En(this.latestValues)&&O0(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:f}=this.options;if(!(!this.layout||!(h||f))){if(this.resolvedRelativeTargetAt=Fe.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Xi(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Pe(),this.targetWithTransforms=Pe()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),EP(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):At(this.target,this.layout.layoutBox),Fb(this.target,this.targetDelta)):At(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Pe(),this.relativeTargetOrigin=Pe(),Xi(this.relativeTargetOrigin,this.target,m.target),At(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ai&&Tn.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Hd(this.parent.latestValues)||$b(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Fe.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;At(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,m=this.treeScale.y;$P(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Pe());const{target:x}=l;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(E0(this.prevProjectionDelta.x,this.projectionDelta.x),E0(this.prevProjectionDelta.y,this.projectionDelta.y)),Ji(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==m||!I0(this.projectionDelta.x,this.prevProjectionDelta.x)||!I0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x)),Ai&&Tn.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ps(),this.projectionDelta=Ps(),this.projectionDeltaWithTransform=Ps()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ps();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const f=Pe(),m=c?c.source:void 0,x=this.layout?this.layout.source:void 0,v=m!==x,N=this.getStack(),y=!N||N.members.length<=1,p=!!(v&&!y&&this.options.crossfade===!0&&!this.path.some(N3));this.animationProgress=0;let g;this.mixTargetDelta=w=>{const j=w/1e3;U0(h.x,o.x,j),U0(h.y,o.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xi(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j3(this.relativeTarget,this.relativeTargetOrigin,f,j),g&&a3(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=Pe()),At(g,this.relativeTarget)),v&&(this.animationValues=d,e3(d,u,this.latestValues,j,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(sr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=se.update(()=>{Ho.hasAnimatedSinceResize=!0,this.currentAnimation=KP(0,$0,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Yb(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Pe();const h=Ct(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const f=Ct(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}At(l,c),Ts(l,d),Ji(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new o3),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&gu("z",o,u,this.animationValues);for(let d=0;d<pu.length;d++)gu(`rotate${pu[d]}`,o,u,this.animationValues),gu(`skew${pu[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return c3;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=zo(o==null?void 0:o.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=zo(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!En(this.latestValues)&&(v.transform=d?d({},""):"none",this.hasProjected=!1),v}const f=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=l3(this.projectionDeltaWithTransform,this.treeScale,f),d&&(u.transform=d(f,u.transform));const{x:m,y:x}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${x.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=f.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:u.opacity=h===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in _l){if(f[v]===void 0)continue;const{correct:N,applyTo:y}=_l[v],p=u.transform==="none"?f[v]:N(f[v],h);if(y){const g=y.length;for(let w=0;w<g;w++)u[y[w]]=p}else u[v]=p}return this.options.layoutId&&(u.pointerEvents=h===this?zo(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(F0),this.root.sharedNodes.clear()}}}function d3(e){e.updateLayout()}function h3(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=e.layout,{animationType:a}=e.options,o=r.source!==e.layout.source;a==="size"?Ot(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Ct(f);f.min=n[h].min,f.max=f.min+m}):Yb(a,r.layoutBox,n)&&Ot(h=>{const f=o?r.measuredBox[h]:r.layoutBox[h],m=Ct(n[h]);f.max=f.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[h].max=e.relativeTarget[h].min+m)});const l=Ps();Ji(l,n,r.layoutBox);const c=Ps();o?Ji(c,e.applyTransform(s,!0),r.measuredBox):Ji(c,n,r.layoutBox);const u=!Hb(l);let d=!1;if(!e.resumeFrom){const h=e.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:f,layout:m}=h;if(f&&m){const x=Pe();Xi(x,r.layoutBox,f.layoutBox);const v=Pe();Xi(v,n,m.layoutBox),qb(x,v)||(d=!0),h.options.layoutRoot&&(e.relativeTarget=v,e.relativeTargetOrigin=x,e.relativeParent=h)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function f3(e){Ai&&Tn.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function m3(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function p3(e){e.clearSnapshot()}function F0(e){e.clearMeasurements()}function g3(e){e.isLayoutDirty=!1}function x3(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function V0(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function y3(e){e.resolveTargetDelta()}function v3(e){e.calcProjection()}function b3(e){e.resetSkewAndRotation()}function w3(e){e.removeLeadSnapshot()}function U0(e,t,r){e.translate=je(t.translate,0,r),e.scale=je(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function B0(e,t,r,n){e.min=je(t.min,r.min,n),e.max=je(t.max,r.max,n)}function j3(e,t,r,n){B0(e.x,t.x,r.x,n),B0(e.y,t.y,r.y,n)}function N3(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const S3={duration:.45,ease:[.4,0,.1,1]},z0=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),W0=z0("applewebkit/")&&!z0("chrome/")?Math.round:at;function H0(e){e.min=W0(e.min),e.max=W0(e.max)}function k3(e){H0(e.x),H0(e.y)}function Yb(e,t,r){return e==="position"||e==="preserve-aspect"&&!PP(D0(t),D0(r),.2)}function _3(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const C3=Kb({attachResizeListener:(e,t)=>ka(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xu={current:void 0},Qb=Kb({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!xu.current){const e=new C3({});e.mount(window),e.setOptions({layoutScroll:!0}),xu.current=e}return xu.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),P3={pan:{Feature:WP},drag:{Feature:zP,ProjectionNode:Qb,MeasureLayout:Bb}};function q0(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,a=n[s];a&&se.postRender(()=>a(t,Ha(t)))}class E3 extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=AC(t,r=>(q0(this.node,r,"Start"),n=>q0(this.node,n,"End"))))}unmount(){}}class T3 extends Nn{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wa(ka(this.node.current,"focus",()=>this.onFocus()),ka(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G0(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),a=n[s];a&&se.postRender(()=>a(t,Ha(t)))}class A3 extends Nn{mount(){const{current:t}=this.node;t&&(this.unmount=LC(t,r=>(G0(this.node,r,"Start"),(n,{success:s})=>G0(this.node,n,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Gd=new WeakMap,yu=new WeakMap,O3=e=>{const t=Gd.get(e.target);t&&t(e)},R3=e=>{e.forEach(O3)};function M3({root:e,...t}){const r=e||document;yu.has(r)||yu.set(r,{});const n=yu.get(r),s=JSON.stringify(t);return n[s]||(n[s]=new IntersectionObserver(R3,{root:e,...t})),n[s]}function L3(e,t,r){const n=M3(t);return Gd.set(e,r),n.observe(e),()=>{Gd.delete(e),n.unobserve(e)}}const D3={some:0,all:1};class I3 extends Nn{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:a}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:D3[s]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),f=u?d:h;f&&f(c)};return L3(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some($3(t,r))&&this.startObserver()}unmount(){}}function $3({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const F3={inView:{Feature:I3},tap:{Feature:A3},focus:{Feature:T3},hover:{Feature:E3}},V3={layout:{ProjectionNode:Qb,MeasureLayout:Bb}},Kd={current:null},Jb={current:!1};function U3(){if(Jb.current=!0,!!lf)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Kd.current=e.matches;e.addListener(t),t()}else Kd.current=!1}const B3=[...wb,Je,mn],z3=e=>B3.find(bb(e)),K0=new WeakMap;function W3(e,t,r){for(const n in t){const s=t[n],a=r[n];if(Ze(s))e.addValue(n,s);else if(Ze(a))e.addValue(n,dr(s,{owner:e}));else if(a!==s)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=e.getStaticValue(n);e.addValue(n,dr(o!==void 0?o:s,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Y0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class H3{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Df,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const m=gr.now();this.renderScheduledAt<m&&(this.renderScheduledAt=m,se.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=xc(r),this.isVariantNode=Pv(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const m in f){const x=f[m];c[m]!==void 0&&Ze(x)&&x.set(c[m],!1)}}mount(t){this.current=t,K0.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),Jb.current||U3(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Kd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){K0.delete(this.current),this.projection&&this.projection.unmount(),sr(this.notifyUpdate),sr(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=ts.has(t),s=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&se.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{s(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hs){const r=Hs[t];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[t]&&s&&n(this.props)&&(this.features[t]=new s(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Pe()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Y0.length;n++){const s=Y0[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,o=t[a];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=W3(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=dr(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let s=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return s!=null&&(typeof s=="string"&&(yb(s)||cb(s))?s=parseFloat(s):!z3(s)&&mn.test(r)&&(s=pb(t,r)),this.setBaseTarget(t,Ze(s)?s.get():s)),Ze(s)?s.get():s}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let s;if(typeof n=="string"||typeof n=="object"){const o=pf(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(s=o[t])}if(n&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Ze(a)?a:this.initialValues[t]!==void 0&&s===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new Ef),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class Xb extends H3{constructor(){super(...arguments),this.KeyframeResolver=jb}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ze(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function q3(e){return window.getComputedStyle(e)}class G3 extends Xb{constructor(){super(...arguments),this.type="html",this.renderInstance=Iv}readValueFromInstance(t,r){if(ts.has(r)){const n=Lf(r);return n&&n.default||0}else{const n=q3(t),s=(Mv(r)?n.getPropertyValue(r):n[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(t,{transformPagePoint:r}){return Vb(t,r)}build(t,r,n){yf(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return jf(t,r,n)}}class K3 extends Xb{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Pe}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(ts.has(r)){const n=Lf(r);return n&&n.default||0}return r=$v.has(r)?r:hf(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return Uv(t,r,n)}build(t,r,n){vf(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,s){Fv(t,r,n,s)}mount(t){this.isSVGTag=wf(t.tagName),super.mount(t)}}const Y3=(e,t)=>mf(e)?new K3(t):new G3(t,{allowProjection:e!==b.Fragment}),Q3=_C({...vP,...F3,...P3,...V3},Y3),L=U_(Q3);function Zb(e,t){let r;const n=()=>{const{currentTime:s}=t,o=(s===null?0:s.value)/100;r!==o&&e(o),r=o};return se.update(n,!0),()=>sr(n)}const qo=new WeakMap;let zr;function J3(e,t){if(t){const{inlineSize:r,blockSize:n}=t[0];return{width:r,height:n}}else return e instanceof SVGElement&&"getBBox"in e?e.getBBox():{width:e.offsetWidth,height:e.offsetHeight}}function X3({target:e,contentRect:t,borderBoxSize:r}){var n;(n=qo.get(e))===null||n===void 0||n.forEach(s=>{s({target:e,contentSize:t,get size(){return J3(e,r)}})})}function Z3(e){e.forEach(X3)}function eE(){typeof ResizeObserver>"u"||(zr=new ResizeObserver(Z3))}function tE(e,t){zr||eE();const r=Qv(e);return r.forEach(n=>{let s=qo.get(n);s||(s=new Set,qo.set(n,s)),s.add(t),zr==null||zr.observe(n)}),()=>{r.forEach(n=>{const s=qo.get(n);s==null||s.delete(t),s!=null&&s.size||zr==null||zr.unobserve(n)})}}const Go=new Set;let Zi;function rE(){Zi=()=>{const e={width:window.innerWidth,height:window.innerHeight},t={target:window,size:e,contentSize:e};Go.forEach(r=>r(t))},window.addEventListener("resize",Zi)}function nE(e){return Go.add(e),Zi||rE(),()=>{Go.delete(e),!Go.size&&Zi&&(Zi=void 0)}}function sE(e,t){return typeof e=="function"?nE(e):tE(e,t)}const iE=50,Q0=()=>({current:0,offset:[],progress:0,scrollLength:0,targetOffset:0,targetLength:0,containerLength:0,velocity:0}),aE=()=>({time:0,x:Q0(),y:Q0()}),oE={x:{length:"Width",position:"Left"},y:{length:"Height",position:"Top"}};function J0(e,t,r,n){const s=r[t],{length:a,position:o}=oE[t],l=s.current,c=r.time;s.current=e[`scroll${o}`],s.scrollLength=e[`scroll${a}`]-e[`client${a}`],s.offset.length=0,s.offset[0]=0,s.offset[1]=s.scrollLength,s.progress=qn(0,s.scrollLength,s.current);const u=n-c;s.velocity=u>iE?0:Tf(s.current-l,u)}function lE(e,t,r){J0(e,"x",t,r),J0(e,"y",t,r),t.time=r}function cE(e,t){const r={x:0,y:0};let n=e;for(;n&&n!==t;)if(n instanceof HTMLElement)r.x+=n.offsetLeft,r.y+=n.offsetTop,n=n.offsetParent;else if(n.tagName==="svg"){const s=n.getBoundingClientRect();n=n.parentElement;const a=n.getBoundingClientRect();r.x+=s.left-a.left,r.y+=s.top-a.top}else if(n instanceof SVGGraphicsElement){const{x:s,y:a}=n.getBBox();r.x+=s,r.y+=a;let o=null,l=n.parentNode;for(;!o;)l.tagName==="svg"&&(o=l),l=n.parentNode;n=o}else break;return r}const Yd={start:0,center:.5,end:1};function X0(e,t,r=0){let n=0;if(e in Yd&&(e=Yd[e]),typeof e=="string"){const s=parseFloat(e);e.endsWith("px")?n=s:e.endsWith("%")?e=s/100:e.endsWith("vw")?n=s/100*document.documentElement.clientWidth:e.endsWith("vh")?n=s/100*document.documentElement.clientHeight:e=s}return typeof e=="number"&&(n=t*e),r+n}const uE=[0,0];function dE(e,t,r,n){let s=Array.isArray(e)?e:uE,a=0,o=0;return typeof e=="number"?s=[e,e]:typeof e=="string"&&(e=e.trim(),e.includes(" ")?s=e.split(" "):s=[e,Yd[e]?e:"0"]),a=X0(s[0],r,n),o=X0(s[1],t),a-o}const hE={Enter:[[0,1],[1,1]],Exit:[[0,0],[1,0]],Any:[[1,0],[0,1]],All:[[0,0],[1,1]]},fE={x:0,y:0};function mE(e){return"getBBox"in e&&e.tagName!=="svg"?e.getBBox():{width:e.clientWidth,height:e.clientHeight}}function pE(e,t,r){const{offset:n=hE.All}=r,{target:s=e,axis:a="y"}=r,o=a==="y"?"height":"width",l=s!==e?cE(s,e):fE,c=s===e?{width:e.scrollWidth,height:e.scrollHeight}:mE(s),u={width:e.clientWidth,height:e.clientHeight};t[a].offset.length=0;let d=!t[a].interpolate;const h=n.length;for(let f=0;f<h;f++){const m=dE(n[f],u[o],c[o],l[a]);!d&&m!==t[a].interpolatorOffsets[f]&&(d=!0),t[a].offset[f]=m}d&&(t[a].interpolate=$f(t[a].offset,Eb(n),{clamp:!1}),t[a].interpolatorOffsets=[...t[a].offset]),t[a].progress=yr(0,1,t[a].interpolate(t[a].current))}function gE(e,t=e,r){if(r.x.targetOffset=0,r.y.targetOffset=0,t!==e){let n=t;for(;n&&n!==e;)r.x.targetOffset+=n.offsetLeft,r.y.targetOffset+=n.offsetTop,n=n.offsetParent}r.x.targetLength=t===e?t.scrollWidth:t.clientWidth,r.y.targetLength=t===e?t.scrollHeight:t.clientHeight,r.x.containerLength=e.clientWidth,r.y.containerLength=e.clientHeight}function xE(e,t,r,n={}){return{measure:()=>gE(e,n.target,r),update:s=>{lE(e,r,s),(n.offset||n.target)&&pE(e,r,n)},notify:()=>t(r)}}const vi=new WeakMap,Z0=new WeakMap,vu=new WeakMap,eg=e=>e===document.documentElement?window:e;function Uf(e,{container:t=document.documentElement,...r}={}){let n=vu.get(t);n||(n=new Set,vu.set(t,n));const s=aE(),a=xE(t,e,s,r);if(n.add(a),!vi.has(t)){const l=()=>{for(const f of n)f.measure()},c=()=>{for(const f of n)f.update(Fe.timestamp)},u=()=>{for(const f of n)f.notify()},d=()=>{se.read(l,!1,!0),se.read(c,!1,!0),se.update(u,!1,!0)};vi.set(t,d);const h=eg(t);window.addEventListener("resize",d,{passive:!0}),t!==document.documentElement&&Z0.set(t,sE(t,d)),h.addEventListener("scroll",d,{passive:!0})}const o=vi.get(t);return se.read(o,!1,!0),()=>{var l;sr(o);const c=vu.get(t);if(!c||(c.delete(a),c.size))return;const u=vi.get(t);vi.delete(t),u&&(eg(t).removeEventListener("scroll",u),(l=Z0.get(t))===null||l===void 0||l(),window.removeEventListener("resize",u))}}function yE({source:e,container:t,axis:r="y"}){e&&(t=e);const n={value:0},s=Uf(a=>{n.value=a[r].progress*100},{container:t,axis:r});return{currentTime:n,cancel:s}}const bu=new Map;function ew({source:e,container:t=document.documentElement,axis:r="y"}={}){e&&(t=e),bu.has(t)||bu.set(t,{});const n=bu.get(t);return n[r]||(n[r]=Wv()?new ScrollTimeline({source:t,axis:r}):yE({source:t,axis:r})),n[r]}function vE(e){return e.length===2}function tw(e){return e&&(e.target||e.offset)}function bE(e,t){return vE(e)||tw(t)?Uf(r=>{e(r[t.axis].progress,r)},t):Zb(e,ew(t))}function wE(e,t){if(e.flatten(),tw(t))return e.pause(),Uf(r=>{e.time=e.duration*r[t.axis].progress},t);{const r=ew(t);return e.attachTimeline?e.attachTimeline(r,n=>(n.pause(),Zb(s=>{n.time=n.duration*s},r))):at}}function jE(e,{axis:t="y",...r}={}){const n={axis:t,...r};return typeof e=="function"?bE(e,n):wE(e,n)}function tg(e,t){R_(!!(!t||t.current))}const NE=()=>({scrollX:dr(0),scrollY:dr(0),scrollXProgress:dr(0),scrollYProgress:dr(0)});function rw({container:e,target:t,layoutEffect:r=!0,...n}={}){const s=ii(NE);return(r?mc:b.useEffect)(()=>(tg("target",t),tg("container",e),jE((o,{x:l,y:c})=>{s.scrollX.set(l.current),s.scrollXProgress.set(l.progress),s.scrollY.set(c.current),s.scrollYProgress.set(c.progress)},{...n,container:(e==null?void 0:e.current)||void 0,target:(t==null?void 0:t.current)||void 0})),[e,t,JSON.stringify(n.offset)]),s}function SE(e){const t=ii(()=>dr(e)),{isStatic:r}=b.useContext(fc);if(r){const[,n]=b.useState(e);b.useEffect(()=>t.on("change",n),[])}return t}function nw(e,t){const r=SE(t()),n=()=>r.set(t());return n(),mc(()=>{const s=()=>se.preRender(n,!1,!0),a=e.map(o=>o.on("change",s));return()=>{a.forEach(o=>o()),sr(n)}}),r}const kE=e=>e&&typeof e=="object"&&e.mix,_E=e=>kE(e)?e.mix:void 0;function CE(...e){const t=!Array.isArray(e[0]),r=t?0:-1,n=e[0+r],s=e[1+r],a=e[2+r],o=e[3+r],l=$f(s,a,{mixer:_E(a[0]),...o});return t?l(n):l}function PE(e){Ki.current=[],e();const t=nw(Ki.current,e);return Ki.current=void 0,t}function On(e,t,r,n){if(typeof e=="function")return PE(e);const s=typeof t=="function"?t:CE(t,r,n);return Array.isArray(e)?rg(e,s):rg([e],([a])=>s(a))}function rg(e,t){const r=ii(()=>[]);return nw(e,()=>{r.length=0;const n=e.length;for(let s=0;s<n;s++)r[s]=e[s].get();return t(r)})}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),$=(e,t)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...EE,width:s,height:s,stroke:n,strokeWidth:o?Number(a)*24/Number(s):a,className:["lucide",`lucide-${TE(e)}`,l].join(" "),...u},[...t.map(([h,f])=>b.createElement(h,f)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=$("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=$("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=$("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sw=$("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=$("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=$("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=$("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=$("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ME=$("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=$("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=$("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=$("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=$("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aw=$("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=$("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=$("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=$("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=$("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rl=$("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=$("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=$("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gn=$("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=$("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=$("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=$("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=$("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=$("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wu=$("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=$("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=$("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WE=$("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jd=$("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=$("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=$("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=$("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=$("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=$("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=$("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HE=$("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=$("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qE=$("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wf=$("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=$("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=$("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GE=$("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ks=$("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hf=$("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KE=$("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YE=$("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QE=$("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=$("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JE=$("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=$("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=$("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=$("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XE=$("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZE=$("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2h0a3.13 3.13 0 0 1 3 3.88Z",key:"y3tblf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=$("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const So=$("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=$("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=$("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=$("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=$("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=$("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=$("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ju=()=>{const{getTotalItems:e,setIsCartOpen:t}=jn(),r=e();return i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!0),className:"relative p-2 text-charcoal-700 hover:text-charcoal-800 hover:bg-cream-100 rounded-xl transition-all",children:[i.jsx(yt,{className:"w-6 h-6 lg:w-7 lg:h-7"}),r>0&&i.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-gradient-to-r from-blush-600 to-blush-700 text-white text-xs font-bold rounded-full w-5 h-5 lg:w-6 lg:h-6 flex items-center justify-center border-2 border-white shadow",children:r>99?"99+":r})]})};var uw="https://js.stripe.com/v3",eT=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,og="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",tT=function(){for(var t=document.querySelectorAll('script[src^="'.concat(uw,'"]')),r=0;r<t.length;r++){var n=t[r];if(eT.test(n.src))return n}return null},lg=function(t){var r="",n=document.createElement("script");n.src="".concat(uw).concat(r);var s=document.head||document.body;if(!s)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return s.appendChild(n),n},rT=function(t,r){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"2.4.0",startTime:r})},bi=null,ko=null,_o=null,nT=function(t){return function(){t(new Error("Failed to load Stripe.js"))}},sT=function(t,r){return function(){window.Stripe?t(window.Stripe):r(new Error("Stripe.js not available"))}},iT=function(t){return bi!==null?bi:(bi=new Promise(function(r,n){if(typeof window>"u"||typeof document>"u"){r(null);return}if(window.Stripe&&t&&console.warn(og),window.Stripe){r(window.Stripe);return}try{var s=tT();if(s&&t)console.warn(og);else if(!s)s=lg(t);else if(s&&_o!==null&&ko!==null){var a;s.removeEventListener("load",_o),s.removeEventListener("error",ko),(a=s.parentNode)===null||a===void 0||a.removeChild(s),s=lg(t)}_o=sT(r,n),ko=nT(n),s.addEventListener("load",_o),s.addEventListener("error",ko)}catch(o){n(o);return}}),bi.catch(function(r){return bi=null,Promise.reject(r)}))},aT=function(t,r,n){if(t===null)return null;var s=t.apply(void 0,r);return rT(s,n),s},wi,dw=!1,hw=function(){return wi||(wi=iT(null).catch(function(t){return wi=null,Promise.reject(t)}),wi)};Promise.resolve().then(function(){return hw()}).catch(function(e){dw||console.warn(e)});var oT=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];dw=!0;var s=Date.now();return hw().then(function(a){return aT(a,r,s)})},fw={exports:{}},lT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cT=lT,uT=cT;function mw(){}function pw(){}pw.resetWarningCache=mw;var dT=function(){function e(n,s,a,o,l,c){if(c!==uT){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:pw,resetWarningCache:mw};return r.PropTypes=r,r};fw.exports=dT();var hT=fw.exports;const be=$l(hT);function cg(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ug(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cg(Object(r),!0).forEach(function(n){gw(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cg(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ko(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ko=function(t){return typeof t}:Ko=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}function gw(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xw(e,t){return fT(e)||mT(e,t)||pT(e,t)||gT()}function fT(e){if(Array.isArray(e))return e}function mT(e,t){var r=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(r!=null){var n=[],s=!0,a=!1,o,l;try{for(r=r.call(e);!(s=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));s=!0);}catch(c){a=!0,l=c}finally{try{!s&&r.return!=null&&r.return()}finally{if(a)throw l}}return n}}function pT(e,t){if(e){if(typeof e=="string")return dg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return dg(e,t)}}function dg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function gT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var bt=function(t,r,n){var s=!!n,a=ie.useRef(n);ie.useEffect(function(){a.current=n},[n]),ie.useEffect(function(){if(!s||!t)return function(){};var o=function(){a.current&&a.current.apply(a,arguments)};return t.on(r,o),function(){t.off(r,o)}},[s,r,t,a])},Zd=function(t){var r=ie.useRef(t);return ie.useEffect(function(){r.current=t},[t]),r.current},Ys=function(t){return t!==null&&Ko(t)==="object"},xT=function(t){return Ys(t)&&typeof t.then=="function"},yT=function(t){return Ys(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},hg="[object Object]",vT=function e(t,r){if(!Ys(t)||!Ys(r))return t===r;var n=Array.isArray(t),s=Array.isArray(r);if(n!==s)return!1;var a=Object.prototype.toString.call(t)===hg,o=Object.prototype.toString.call(r)===hg;if(a!==o)return!1;if(!a&&!n)return t===r;var l=Object.keys(t),c=Object.keys(r);if(l.length!==c.length)return!1;for(var u={},d=0;d<l.length;d+=1)u[l[d]]=!0;for(var h=0;h<c.length;h+=1)u[c[h]]=!0;var f=Object.keys(u);if(f.length!==l.length)return!1;var m=t,x=r,v=function(y){return e(m[y],x[y])};return f.every(v)},yw=function(t,r,n){return Ys(t)?Object.keys(t).reduce(function(s,a){var o=!Ys(r)||!vT(t[a],r[a]);return n.includes(a)?(o&&console.warn("Unsupported prop change: options.".concat(a," is not a mutable property.")),s):o?ug(ug({},s||{}),{},gw({},a,t[a])):s},null):null},vw="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",fg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vw;if(t===null||yT(t))return t;throw new Error(r)},bT=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vw;if(xT(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(s){return fg(s,r)})};var n=fg(t,r);return n===null?{tag:"empty"}:{tag:"sync",stripe:n}},wT=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"2.8.1"}),t.registerAppInfo({name:"react-stripe-js",version:"2.8.1",url:"https://stripe.com/docs/stripe-js/react"}))},bc=ie.createContext(null);bc.displayName="ElementsContext";var bw=function(t,r){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(r," in an <Elements> provider."));return t},ww=function(t){var r=t.stripe,n=t.options,s=t.children,a=ie.useMemo(function(){return bT(r)},[r]),o=ie.useState(function(){return{stripe:a.tag==="sync"?a.stripe:null,elements:a.tag==="sync"?a.stripe.elements(n):null}}),l=xw(o,2),c=l[0],u=l[1];ie.useEffect(function(){var f=!0,m=function(v){u(function(N){return N.stripe?N:{stripe:v,elements:v.elements(n)}})};return a.tag==="async"&&!c.stripe?a.stripePromise.then(function(x){x&&f&&m(x)}):a.tag==="sync"&&!c.stripe&&m(a.stripe),function(){f=!1}},[a,c,n]);var d=Zd(r);ie.useEffect(function(){d!==null&&d!==r&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[d,r]);var h=Zd(n);return ie.useEffect(function(){if(c.elements){var f=yw(n,h,["clientSecret","fonts"]);f&&c.elements.update(f)}},[n,h,c.elements]),ie.useEffect(function(){wT(c.stripe)},[c.stripe]),ie.createElement(bc.Provider,{value:c},s)};ww.propTypes={stripe:be.any,options:be.object};var jT=function(t){var r=ie.useContext(bc);return bw(r,t)},NT=function(){var t=jT("calls useElements()"),r=t.elements;return r};be.func.isRequired;var jw=ie.createContext(null);jw.displayName="CustomCheckoutSdkContext";var ST=function(t,r){if(!t)throw new Error("Could not find CustomCheckoutProvider context; You need to wrap the part of your app that ".concat(r," in an <CustomCheckoutProvider> provider."));return t},kT=ie.createContext(null);kT.displayName="CustomCheckoutContext";be.any,be.shape({clientSecret:be.string.isRequired,elementsOptions:be.object}).isRequired;var eh=function(t){var r=ie.useContext(jw),n=ie.useContext(bc);if(r&&n)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CustomCheckoutProvider> and <Elements> providers."));return r?ST(r,t):bw(n,t)},_T=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},Re=function(t,r){var n="".concat(_T(t),"Element"),s=function(c){var u=c.id,d=c.className,h=c.options,f=h===void 0?{}:h,m=c.onBlur,x=c.onFocus,v=c.onReady,N=c.onChange,y=c.onEscape,p=c.onClick,g=c.onLoadError,w=c.onLoaderStart,j=c.onNetworksChange,S=c.onConfirm,_=c.onCancel,C=c.onShippingAddressChange,O=c.onShippingRateChange,E=eh("mounts <".concat(n,">")),W="elements"in E?E.elements:null,J="customCheckoutSdk"in E?E.customCheckoutSdk:null,ee=ie.useState(null),ve=xw(ee,2),te=ve[0],tt=ve[1],M=ie.useRef(null),T=ie.useRef(null);bt(te,"blur",m),bt(te,"focus",x),bt(te,"escape",y),bt(te,"click",p),bt(te,"loaderror",g),bt(te,"loaderstart",w),bt(te,"networkschange",j),bt(te,"confirm",S),bt(te,"cancel",_),bt(te,"shippingaddresschange",C),bt(te,"shippingratechange",O),bt(te,"change",N);var B;v&&(t==="expressCheckout"?B=v:B=function(){v(te)}),bt(te,"ready",B),ie.useLayoutEffect(function(){if(M.current===null&&T.current!==null&&(W||J)){var G=null;J?G=J.createElement(t,f):W&&(G=W.create(t,f)),M.current=G,tt(G),G&&G.mount(T.current)}},[W,J,f]);var V=Zd(f);return ie.useEffect(function(){if(M.current){var G=yw(f,V,["paymentRequest"]);G&&"update"in M.current&&M.current.update(G)}},[f,V]),ie.useLayoutEffect(function(){return function(){if(M.current&&typeof M.current.destroy=="function")try{M.current.destroy(),M.current=null}catch{}}},[]),ie.createElement("div",{id:u,className:d,ref:T})},a=function(c){eh("mounts <".concat(n,">"));var u=c.id,d=c.className;return ie.createElement("div",{id:u,className:d})},o=r?a:s;return o.propTypes={id:be.string,className:be.string,onChange:be.func,onBlur:be.func,onFocus:be.func,onReady:be.func,onEscape:be.func,onClick:be.func,onLoadError:be.func,onLoaderStart:be.func,onNetworksChange:be.func,onConfirm:be.func,onCancel:be.func,onShippingAddressChange:be.func,onShippingRateChange:be.func,options:be.object},o.displayName=n,o.__elementType=t,o},Me=typeof window>"u",CT=ie.createContext(null);CT.displayName="EmbeddedCheckoutProviderContext";var PT=function(){var t=eh("calls useStripe()"),r=t.stripe;return r};Re("auBankAccount",Me);var mg=Re("card",Me);Re("cardNumber",Me);Re("cardExpiry",Me);Re("cardCvc",Me);Re("fpxBank",Me);Re("iban",Me);Re("idealBank",Me);Re("p24Bank",Me);Re("epsBank",Me);Re("payment",Me);Re("expressCheckout",Me);Re("currencySelector",Me);Re("paymentRequestButton",Me);Re("linkAuthentication",Me);Re("address",Me);Re("shippingAddress",Me);Re("paymentMethodMessaging",Me);Re("affirmMessage",Me);Re("afterpayClearpayMessage",Me);class ET{async logEmail(t,r,n){try{await I.from("email_logs").insert({user_id:t.userId||null,email_type:t.emailType,recipient_email:t.to,subject:t.subject,status:r,error_message:n})}catch(s){console.error("Error logging email:",s)}}async sendEmail(t){try{return await this.logEmail(t,"pending"),console.log("Sending email:",t),await new Promise(n=>setTimeout(n,1e3)),Math.random()>.1?(await this.logEmail(t,"sent"),!0):(await this.logEmail(t,"failed","Simulated email service error"),!1)}catch(r){return console.error("Error sending email:",r),await this.logEmail(t,"failed",r instanceof Error?r.message:"Unknown error"),!1}}getOrderConfirmationTemplate(t){const r=`Order Confirmation - ${t.id}`,n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <div style="background: linear-gradient(135deg, #f59e0b, #d97706); padding: 30px; text-align: center;">
          <h1 style="color: white; margin: 0;">Order Confirmed!</h1>
          <p style="color: #fef3c7; margin: 10px 0 0 0;">Thank you for your order with GiftFlare</p>
        </div>
        
        <div style="padding: 30px; background: white;">
          <h2 style="color: #92400e;">Order Details</h2>
          <p><strong>Order ID:</strong> ${t.id}</p>
          <p><strong>Total Amount:</strong> ${(t.total_amount/100).toLocaleString()}</p>
          <p><strong>Delivery Type:</strong> ${t.delivery_type==="instant"?"Instant Delivery (2-4 hours)":"Standard Delivery (3-7 days)"}</p>
          
          <h3 style="color: #92400e; margin-top: 30px;">Items Ordered</h3>
          ${t.items.map(a=>`
            <div style="border: 1px solid #fde68a; padding: 15px; margin: 10px 0; border-radius: 8px;">
              <p><strong>${a.product.name}</strong></p>
              <p>Quantity: ${a.quantity}  ${a.product.price.toLocaleString()}</p>
              <p>Seller: ${a.product.sellerName}</p>
              ${a.giftPackaging?'<p style="color: #d97706;"><strong> Gift Packaging Included</strong></p>':""}
              ${a.giftNote?`<p style="color: #92400e;"><em>Gift Note: "${a.giftNote}"</em></p>`:""}
            </div>
          `).join("")}
          
          <div style="background: #fef3c7; padding: 20px; margin: 30px 0; border-radius: 8px;">
            <h3 style="color: #92400e; margin: 0 0 10px 0;">What's Next?</h3>
            <p style="margin: 5px 0;"> We'll prepare your order with care</p>
            <p style="margin: 5px 0;"> You'll receive shipping updates via email and SMS</p>
            <p style="margin: 5px 0;"> Track your order in the GiftFlare app</p>
          </div>
          
          <p style="color: #6b7280; font-size: 14px; margin-top: 30px;">
            If you have any questions, please contact our support team.
          </p>
        </div>
      </div>
    `,s=`
      Order Confirmed!
      
      Thank you for your order with GiftFlare.
      
      Order ID: ${t.id}
      Total Amount: ${(t.total_amount/100).toLocaleString()}
      Delivery Type: ${t.delivery_type==="instant"?"Instant Delivery (2-4 hours)":"Standard Delivery (3-7 days)"}
      
      Items Ordered:
      ${t.items.map(a=>`
        - ${a.product.name}
          Quantity: ${a.quantity}  ${a.product.price.toLocaleString()}
          Seller: ${a.product.sellerName}
          ${a.giftPackaging?"Gift Packaging: Yes":""}
          ${a.giftNote?`Gift Note: "${a.giftNote}"`:""}
      `).join(`
`)}
      
      We'll send you updates as your order progresses.
    `;return{subject:r,html:n,text:s}}getShippingUpdateTemplate(t,r){const n=`Your Order is on the Way! - ${t.id}`,s=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <div style="background: linear-gradient(135deg, #10b981, #059669); padding: 30px; text-align: center;">
          <h1 style="color: white; margin: 0;"> Order Shipped!</h1>
          <p style="color: #d1fae5; margin: 10px 0 0 0;">Your handmade treasures are on their way</p>
        </div>
        
        <div style="padding: 30px; background: white;">
          <h2 style="color: #065f46;">Shipping Details</h2>
          <p><strong>Order ID:</strong> ${t.id}</p>
          <p><strong>Tracking Number:</strong> ${r}</p>
          <p><strong>Estimated Delivery:</strong> ${t.estimated_delivery?new Date(t.estimated_delivery).toLocaleDateString():"Will be updated soon"}</p>
          
          <div style="background: #ecfdf5; padding: 20px; margin: 20px 0; border-radius: 8px; border-left: 4px solid #10b981;">
            <h3 style="color: #065f46; margin: 0 0 10px 0;">Track Your Package</h3>
            <p style="margin: 0;">Use tracking number <strong>${r}</strong> to track your shipment.</p>
          </div>
          
          <p style="color: #6b7280; font-size: 14px; margin-top: 30px;">
            You'll receive another email when your order is delivered.
          </p>
        </div>
      </div>
    `,a=`
      Order Shipped!
      
      Your order ${t.id} has been shipped.
      
      Tracking Number: ${r}
      Estimated Delivery: ${t.estimated_delivery?new Date(t.estimated_delivery).toLocaleDateString():"Will be updated soon"}
      
      Use the tracking number to monitor your shipment progress.
    `;return{subject:n,html:s,text:a}}getDeliveryConfirmationTemplate(t){const r=`Order Delivered Successfully! - ${t.id}`,n=`
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <div style="background: linear-gradient(135deg, #8b5cf6, #7c3aed); padding: 30px; text-align: center;">
          <h1 style="color: white; margin: 0;"> Delivered!</h1>
          <p style="color: #e9d5ff; margin: 10px 0 0 0;">Your order has been delivered successfully</p>
        </div>
        
        <div style="padding: 30px; background: white;">
          <h2 style="color: #581c87;">Thank You for Choosing GiftFlare!</h2>
          <p>Your order <strong>${t.id}</strong> has been delivered successfully.</p>
          
          <div style="background: #faf5ff; padding: 20px; margin: 20px 0; border-radius: 8px;">
            <h3 style="color: #581c87; margin: 0 0 15px 0;">What's Next?</h3>
            <p style="margin: 5px 0;"> Rate your experience and products</p>
            <p style="margin: 5px 0;"> Share your unboxing on social media</p>
            <p style="margin: 5px 0;"> Browse more unique handmade items</p>
          </div>
          
          <p>We hope you love your handmade treasures! If you have any issues, please contact our support team.</p>
        </div>
      </div>
    `,s=`
      Order Delivered!
      
      Your order ${t.id} has been delivered successfully.
      
      Thank you for choosing GiftFlare! We hope you love your handmade treasures.
      
      Please rate your experience and share your feedback.
    `;return{subject:r,html:n,text:s}}async sendOrderConfirmation(t,r,n){const s=this.getOrderConfirmationTemplate(t);return this.sendEmail({to:r,subject:s.subject,html:s.html,text:s.text,userId:n,emailType:"order_confirmation"})}async sendShippingUpdate(t,r,n,s){const a=this.getShippingUpdateTemplate(t,r);return this.sendEmail({to:n,subject:a.subject,html:a.html,text:a.text,userId:s,emailType:"shipping_update"})}async sendDeliveryConfirmation(t,r,n){const s=this.getDeliveryConfirmationTemplate(t);return this.sendEmail({to:r,subject:s.subject,html:s.html,text:s.text,userId:n,emailType:"delivery_confirmation"})}}const Nu=new ET;class TT{async logSMS(t,r,n){try{await I.from("sms_logs").insert({user_id:t.userId||null,phone_number:t.to,message:t.message,status:r,error_message:n})}catch(s){console.error("Error logging SMS:",s)}}async sendSMS(t){try{return await this.logSMS(t,"pending"),console.log("Sending SMS:",t),await new Promise(n=>setTimeout(n,500)),Math.random()>.05?(await this.logSMS(t,"sent"),!0):(await this.logSMS(t,"failed","Simulated SMS service error"),!1)}catch(r){return console.error("Error sending SMS:",r),await this.logSMS(t,"failed",r instanceof Error?r.message:"Unknown error"),!1}}getOrderConfirmationSMS(t,r){return` GiftFlare: Order ${t} confirmed! Total: ${(r/100).toLocaleString()}. We'll update you on shipping. Track: giftflare.com/orders`}getShippingUpdateSMS(t,r){return` GiftFlare: Order ${t} shipped! Track with: ${r}. Expected delivery in 3-7 days. Track: giftflare.com/orders`}getInstantDeliveryUpdateSMS(t){return` GiftFlare: Your instant delivery order ${t} is on the way! Delivery partner will contact you shortly. ETA: 2-4 hours.`}getDeliveryConfirmationSMS(t){return` GiftFlare: Order ${t} delivered! Hope you love your handmade treasures. Rate your experience: giftflare.com/rate`}getDeliveryAttemptSMS(t){return` GiftFlare: Delivery attempted for order ${t}. Please ensure someone is available or reschedule: giftflare.com/delivery`}async sendOrderConfirmationSMS(t,r,n,s){const a=this.getOrderConfirmationSMS(t,r);return this.sendSMS({to:n,message:a,userId:s})}async sendShippingUpdateSMS(t,r,n,s){const a=this.getShippingUpdateSMS(t,r);return this.sendSMS({to:n,message:a,userId:s})}async sendInstantDeliveryUpdateSMS(t,r,n){const s=this.getInstantDeliveryUpdateSMS(t);return this.sendSMS({to:r,message:s,userId:n})}async sendDeliveryConfirmationSMS(t,r,n){const s=this.getDeliveryConfirmationSMS(t);return this.sendSMS({to:r,message:s,userId:n})}async sendDeliveryAttemptSMS(t,r,n){const s=this.getDeliveryAttemptSMS(t);return this.sendSMS({to:r,message:s,userId:n})}}const Co=new TT;class AT{async createOrder(t){try{const{data:r,error:n}=await I.from("orders").insert({user_id:t.userId,items:t.items,total_amount:t.totalAmount*100,delivery_type:t.deliveryType,delivery_address:t.deliveryAddress,friend_delivery:t.friendDelivery,payment_intent_id:t.paymentIntentId,status:"pending"}).select().single();return n?(console.error("Error creating order:",n),null):(await this.sendOrderConfirmation(r),await this.createOrderNotification(r,"order_received"),r)}catch(r){return console.error("Error in createOrder:",r),null}}async updateOrderStatus(t,r,n){try{const{error:s}=await I.from("orders").update({status:r,tracking_number:n,updated_at:new Date().toISOString()}).eq("id",t);if(s)return console.error("Error updating order status:",s),!1;const{data:a}=await I.from("orders").select(`
          *,
          profiles!orders_user_id_fkey (
            name,
            email
          )
        `).eq("id",t).single();return a&&(await this.sendStatusUpdateCommunications(a,r,n),await this.createOrderNotification(a,this.getNotificationTypeForStatus(r))),!0}catch(s){return console.error("Error in updateOrderStatus:",s),!1}}getNotificationTypeForStatus(t){switch(t){case"confirmed":return"order_confirmed";case"shipped":return"order_dispatched";case"delivered":return"order_delivered";case"cancelled":return"order_cancelled";default:return"order_update"}}async createOrderNotification(t,r){try{const s={order_received:{title:"Order Received",message:`Your order #${t.id.slice(-8)} has been received and is being processed.`},order_confirmed:{title:"Order Confirmed",message:`Your order #${t.id.slice(-8)} has been confirmed and will be prepared for shipping.`},order_dispatched:{title:"Order Dispatched",message:`Your order #${t.id.slice(-8)} has been dispatched${t.tracking_number?` with tracking number ${t.tracking_number}`:""}.`},delivery_partner_assigned:{title:"Delivery Partner Assigned",message:`A delivery partner has been assigned to your order #${t.id.slice(-8)}. You'll be contacted shortly.`},order_delivered:{title:"Order Delivered",message:`Your order #${t.id.slice(-8)} has been delivered successfully. Hope you love your handmade treasures!`},order_cancelled:{title:"Order Cancelled",message:`Your order #${t.id.slice(-8)} has been cancelled. If you have any questions, please contact support.`}}[r];s&&await I.from("notifications").insert({user_id:t.user_id,type:"order",title:s.title,message:s.message,data:{order_id:t.id,status:t.status,notification_type:r}})}catch(n){console.error("Error creating order notification:",n)}}async sendOrderConfirmation(t){var r;try{const{data:n}=await I.from("profiles").select("name, email").eq("id",t.user_id).single();if(!n)return;await Nu.sendOrderConfirmation(t,n.email,t.user_id);const s=(r=t.delivery_address)==null?void 0:r.phone;s&&await Co.sendOrderConfirmationSMS(t.id,t.total_amount,s,t.user_id)}catch(n){console.error("Error sending order confirmation:",n)}}async sendStatusUpdateCommunications(t,r,n){var s,a;try{const o=(s=t.profiles)==null?void 0:s.email,l=(a=t.delivery_address)==null?void 0:a.phone;if(!o)return;switch(r){case"shipped":n&&(await Nu.sendShippingUpdate(t,n,o,t.user_id),l&&(t.delivery_type==="instant"?(await Co.sendInstantDeliveryUpdateSMS(t.id,l,t.user_id),await this.createOrderNotification(t,"delivery_partner_assigned")):await Co.sendShippingUpdateSMS(t.id,n,l,t.user_id)));break;case"delivered":await Nu.sendDeliveryConfirmation(t,o,t.user_id),l&&await Co.sendDeliveryConfirmationSMS(t.id,l,t.user_id);break}}catch(o){console.error("Error sending status update communications:",o)}}async getOrdersByUser(t){try{const{data:r,error:n}=await I.from("orders").select("*").eq("user_id",t).order("created_at",{ascending:!1});return n?(console.error("Error fetching orders:",n),[]):r||[]}catch(r){return console.error("Error in getOrdersByUser:",r),[]}}async getOrderById(t){try{const{data:r,error:n}=await I.from("orders").select("*").eq("id",t).single();return n?(console.error("Error fetching order:",n),null):r}catch(r){return console.error("Error in getOrderById:",r),null}}async bookDunzoDelivery(t){try{console.log("Booking Dunzo delivery for order:",t.id),await new Promise(n=>setTimeout(n,1e3));const r=`DUNZO${Date.now()}`;return await this.updateOrderStatus(t.id,"shipped",r),{success:!0,trackingId:r}}catch(r){return console.error("Error booking Dunzo delivery:",r),{success:!1}}}async getAllOrders(){try{const{data:t,error:r}=await I.from("orders").select("*, buyer:profiles!orders_user_id_fkey (name, email, id)").order("created_at",{ascending:!1});if(r)return console.error("Error fetching all orders:",r),[];const n=Array.from(new Set(t.flatMap(a=>a.items.map(o=>{var l;return(l=o.product)==null?void 0:l.sellerId}).filter(Boolean))));let s={};if(n.length>0){const{data:a}=await I.from("profiles").select("id, name, email").in("id",n);a&&(s=Object.fromEntries(a.map(o=>[o.id,o])))}for(const a of t)a.items=a.items.map(o=>{var l;return{...o,seller:s[(l=o.product)==null?void 0:l.sellerId]||null}});return t||[]}catch(t){return console.error("Error in getAllOrders:",t),[]}}}const xr=new AT;var Nw={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var a="",o=0;o<arguments.length;o++){var l=arguments[o];l&&(a=s(a,n(l)))}return a}function n(a){if(typeof a=="string"||typeof a=="number")return a;if(typeof a!="object")return"";if(Array.isArray(a))return r.apply(null,a);if(a.toString!==Object.prototype.toString&&!a.toString.toString().includes("[native code]"))return a.toString();var o="";for(var l in a)t.call(a,l)&&a[l]&&(o=s(o,l));return o}function s(a,o){return o?a?a+" "+o:a+o:a}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(Nw);var OT=Nw.exports;const Sw=$l(OT);var th={exports:{}},rh={exports:{}},Pa=1e3,Ea=Pa*60,Ta=Ea*60,Aa=Ta*24,RT=Aa*365.25,MT=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return LT(e);if(r==="number"&&isNaN(e)===!1)return t.long?IT(e):DT(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function LT(e){if(e=String(e),!(e.length>100)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*RT;case"days":case"day":case"d":return r*Aa;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Ta;case"minutes":case"minute":case"mins":case"min":case"m":return r*Ea;case"seconds":case"second":case"secs":case"sec":case"s":return r*Pa;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function DT(e){return e>=Aa?Math.round(e/Aa)+"d":e>=Ta?Math.round(e/Ta)+"h":e>=Ea?Math.round(e/Ea)+"m":e>=Pa?Math.round(e/Pa)+"s":e+"ms"}function IT(e){return Po(e,Aa,"day")||Po(e,Ta,"hour")||Po(e,Ea,"minute")||Po(e,Pa,"second")||e+" ms"}function Po(e,t,r){if(!(e<t))return e<t*1.5?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}(function(e,t){t=e.exports=s.debug=s.default=s,t.coerce=c,t.disable=o,t.enable=a,t.enabled=l,t.humanize=MT,t.names=[],t.skips=[],t.formatters={};var r;function n(u){var d=0,h;for(h in u)d=(d<<5)-d+u.charCodeAt(h),d|=0;return t.colors[Math.abs(d)%t.colors.length]}function s(u){function d(){if(d.enabled){var h=d,f=+new Date,m=f-(r||f);h.diff=m,h.prev=r,h.curr=f,r=f;for(var x=new Array(arguments.length),v=0;v<x.length;v++)x[v]=arguments[v];x[0]=t.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");var N=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,function(p,g){if(p==="%%")return p;N++;var w=t.formatters[g];if(typeof w=="function"){var j=x[N];p=w.call(h,j),x.splice(N,1),N--}return p}),t.formatArgs.call(h,x);var y=d.log||t.log||console.log.bind(console);y.apply(h,x)}}return d.namespace=u,d.enabled=t.enabled(u),d.useColors=t.useColors(),d.color=n(u),typeof t.init=="function"&&t.init(d),d}function a(u){t.save(u),t.names=[],t.skips=[];for(var d=(typeof u=="string"?u:"").split(/[\s,]+/),h=d.length,f=0;f<h;f++)d[f]&&(u=d[f].replace(/\*/g,".*?"),u[0]==="-"?t.skips.push(new RegExp("^"+u.substr(1)+"$")):t.names.push(new RegExp("^"+u+"$")))}function o(){t.enable("")}function l(u){var d,h;for(d=0,h=t.skips.length;d<h;d++)if(t.skips[d].test(u))return!1;for(d=0,h=t.names.length;d<h;d++)if(t.names[d].test(u))return!0;return!1}function c(u){return u instanceof Error?u.stack||u.message:u}})(rh,rh.exports);var $T=rh.exports;(function(e,t){var r={};t=e.exports=$T,t.log=a,t.formatArgs=s,t.save=o,t.load=l,t.useColors=n,t.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:c(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}t.formatters.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}};function s(u){var d=this.useColors;if(u[0]=(d?"%c":"")+this.namespace+(d?" %c":" ")+u[0]+(d?"%c ":" ")+"+"+t.humanize(this.diff),!!d){var h="color: "+this.color;u.splice(1,0,h,"color: inherit");var f=0,m=0;u[0].replace(/%[a-zA-Z%]/g,function(x){x!=="%%"&&(f++,x==="%c"&&(m=f))}),u.splice(m,0,h)}}function a(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function o(u){try{u==null?t.storage.removeItem("debug"):t.storage.debug=u}catch{}}function l(){var u;try{u=t.storage.debug}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}t.enable(l());function c(){try{return window.localStorage}catch{}}})(th,th.exports);var FT=th.exports,pg=FT("jsonp"),VT=zT,UT=0;function BT(){}function zT(e,t,r){typeof t=="function"&&(r=t,t={}),t||(t={});var n=t.prefix||"__jp",s=t.name||n+UT++,a=t.param||"callback",o=t.timeout!=null?t.timeout:6e4,l=encodeURIComponent,c=document.getElementsByTagName("script")[0]||document.head,u,d;o&&(d=setTimeout(function(){h(),r&&r(new Error("Timeout"))},o));function h(){u.parentNode&&u.parentNode.removeChild(u),window[s]=BT,d&&clearTimeout(d)}function f(){window[s]&&h()}return window[s]=function(m){pg("jsonp got",m),h(),r&&r(null,m)},e+=(~e.indexOf("?")?"&":"?")+a+"="+l(s),e=e.replace("?&","?"),pg('jsonp req "%s"',e),u=document.createElement("script"),u.src=e,c.parentNode.insertBefore(u,c),f}const ns=$l(VT);var WT=Object.defineProperty,HT=Object.defineProperties,qT=Object.getOwnPropertyDescriptors,Ll=Object.getOwnPropertySymbols,kw=Object.prototype.hasOwnProperty,_w=Object.prototype.propertyIsEnumerable,gg=(e,t,r)=>t in e?WT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,jt=(e,t)=>{for(var r in t||(t={}))kw.call(t,r)&&gg(e,r,t[r]);if(Ll)for(var r of Ll(t))_w.call(t,r)&&gg(e,r,t[r]);return e},wc=(e,t)=>HT(e,qT(t)),jc=(e,t)=>{var r={};for(var n in e)kw.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ll)for(var n of Ll(e))t.indexOf(n)<0&&_w.call(e,n)&&(r[n]=e[n]);return r};function qf(e){return r=>{var n=r,{bgStyle:s={},borderRadius:a=0,iconFillColor:o="white",round:l=!1,size:c=64}=n,u=jc(n,["bgStyle","borderRadius","iconFillColor","round","size"]);return i.jsxs("svg",wc(jt({viewBox:"0 0 64 64",width:c,height:c},u),{children:[l?i.jsx("circle",{cx:"32",cy:"32",r:"32",fill:e.color,style:s}):i.jsx("rect",{width:"64",height:"64",rx:a,ry:a,fill:e.color,style:s}),i.jsx("path",{d:e.path,fill:o})]}))}}class GT extends Error{constructor(t){super(t),this.name="AssertionError"}}function me(e,t){if(!e)throw new GT(t)}function le(e){const t=Object.entries(e).filter(([,r])=>r!=null).map(([r,n])=>`${encodeURIComponent(r)}=${encodeURIComponent(String(n))}`);return t.length>0?`?${t.join("&")}`:""}const KT=e=>!!e&&(typeof e=="object"||typeof e=="function")&&"then"in e&&typeof e.then=="function",YT=(e,t)=>({left:window.outerWidth/2+(window.screenX||window.screenLeft||0)-e/2,top:window.outerHeight/2+(window.screenY||window.screenTop||0)-t/2}),QT=(e,t)=>({top:(window.screen.height-t)/2,left:(window.screen.width-e)/2});function JT(e,t,r){var n=t,{height:s,width:a}=n,o=jc(n,["height","width"]);const l=jt({height:s,width:a,location:"no",toolbar:"no",status:"no",directories:"no",menubar:"no",scrollbars:"yes",resizable:"no",centerscreen:"yes",chrome:"yes"},o),c=window.open(e,"",Object.keys(l).map(u=>`${u}=${l[u]}`).join(", "));if(r){const u=window.setInterval(()=>{try{(c===null||c.closed)&&(window.clearInterval(u),r(c))}catch(d){console.error(d)}},1e3)}return c}function XT(e){var t=e,{beforeOnClick:r,children:n,className:s,disabled:a,disabledStyle:o={opacity:.6},forwardedRef:l,htmlTitle:c,networkLink:u,networkName:d,onClick:h,onShareWindowClose:f,openShareDialogOnClick:m=!0,opts:x,resetButtonStyle:v=!0,style:N,title:y,url:p,windowHeight:g=400,windowPosition:w="windowCenter",windowWidth:j=550}=t,S=jc(t,["beforeOnClick","children","className","disabled","disabledStyle","forwardedRef","htmlTitle","networkLink","networkName","onClick","onShareWindowClose","openShareDialogOnClick","opts","resetButtonStyle","style","title","url","windowHeight","windowPosition","windowWidth"]);const _=async E=>{const W=u(p,x);if(!a){if(E.preventDefault(),r){const J=r();KT(J)&&await J}if(m){const J=jt({height:g,width:j},w==="windowCenter"?YT(j,g):QT(j,g));JT(W,J,f)}h&&h(E,W)}},C=Sw("react-share__ShareButton",{"react-share__ShareButton--disabled":!!a,disabled:!!a},s),O=jt(jt(v?{backgroundColor:"transparent",border:"none",padding:0,font:"inherit",color:"inherit",cursor:"pointer"}:{},N),a&&o);return i.jsx("button",wc(jt({},S),{className:C,onClick:_,ref:l,style:O,title:c,children:n}))}function ye(e,t,r,n){const s=(a,o)=>{const l=r(a),c=jt({},a);return Object.keys(l).forEach(d=>{delete c[d]}),i.jsx(XT,wc(jt(jt({},n),c),{forwardedRef:o,networkName:e,networkLink:t,opts:l}))};return s.displayName=`ShareButton-${e}`,b.forwardRef(s)}function ZT(e,{title:t,separator:r}){return me(e,"bluesky.url"),"https://bsky.app/intent/compose"+le({text:t?t+r+e:e})}ye("bluesky",ZT,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function e6(e,{subject:t,body:r,separator:n}){return"mailto:"+le({subject:t,body:r?r+n+e:e})}ye("email",e6,e=>({subject:e.subject,body:e.body,separator:e.separator||" "}),{openShareDialogOnClick:!1,onClick:(e,t)=>{window.location.href=t}});const t6=qf({color:"#0965FE",path:"M34.1,47V33.3h4.6l0.7-5.3h-5.3v-3.4c0-1.5,0.4-2.6,2.6-2.6l2.8,0v-4.8c-0.5-0.1-2.2-0.2-4.1-0.2 c-4.1,0-6.9,2.5-6.9,7V28H24v5.3h4.6V47H34.1z"});function r6(e,{appId:t,redirectUri:r,to:n}){return"https://www.facebook.com/dialog/send"+le({link:e,redirect_uri:r||e,app_id:t,to:n})}ye("facebookmessenger",r6,e=>({appId:e.appId,redirectUri:e.redirectUri,to:e.to}),{windowWidth:1e3,windowHeight:820});function n6(e,{hashtag:t}){return me(e,"facebook.url"),"https://www.facebook.com/sharer/sharer.php"+le({u:e,hashtag:t})}const s6=ye("facebook",n6,e=>({hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});function i6(){const e=b.useRef(!1);return b.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),b.useCallback(()=>e.current,[])}function a6(e){var t=e,{children:r=f=>f,className:n,getCount:s,url:a}=t,o=jc(t,["children","className","getCount","url"]);const l=i6(),[c,u]=b.useState(void 0),[d,h]=b.useState(!1);return b.useEffect(()=>{h(!0),s(a,f=>{l()&&(u(f),h(!1))})},[a]),i.jsx("span",wc(jt({className:Sw("react-share__ShareCount",n)},o),{children:!d&&c!==void 0&&r(c)}))}function ss(e){const t=r=>i.jsx(a6,jt({getCount:e},r));return t.displayName=`ShareCount(${e.name})`,t}function o6(e,t){const r=`https://graph.facebook.com/?id=${e}&fields=og_object{engagement}`;ns(r,(n,s)=>{t(!n&&s&&s.og_object&&s.og_object.engagement?s.og_object.engagement.count:void 0)})}ss(o6);function l6(e,{title:t}){return me(e,"hatena.url"),`http://b.hatena.ne.jp/add?mode=confirm&url=${e}&title=${t}`}ye("hatena",l6,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function c6(e,t){ns("https://bookmark.hatenaapis.com/count/entry"+le({url:e}),(n,s)=>{t(s??void 0)})}ss(c6);function u6(e,{title:t,description:r}){return me(e,"instapaper.url"),"http://www.instapaper.com/hello2"+le({url:e,title:t,description:r})}ye("instapaper",u6,e=>({title:e.title,description:e.description}),{windowWidth:500,windowHeight:500,windowPosition:"windowCenter"});function d6(e,{title:t}){return me(e,"line.url"),"https://social-plugins.line.me/lineit/share"+le({url:e,text:t})}ye("line",d6,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function h6(e,{title:t,summary:r,source:n}){return me(e,"linkedin.url"),"https://linkedin.com/shareArticle"+le({url:e,mini:"true",title:t,summary:r,source:n})}ye("linkedin",h6,({title:e,summary:t,source:r})=>({title:e,summary:t,source:r}),{windowWidth:750,windowHeight:600});function f6(e,{title:t,description:r}){return me(e,"livejournal.url"),"https://www.livejournal.com/update.bml"+le({subject:t,event:r})}ye("livejournal",f6,e=>({title:e.title,description:e.description}),{windowWidth:660,windowHeight:460});function m6(e,{title:t,description:r,imageUrl:n}){return me(e,"mailru.url"),"https://connect.mail.ru/share"+le({url:e,title:t,description:r,image_url:n})}ye("mailru",m6,e=>({title:e.title,description:e.description,imageUrl:e.imageUrl}),{windowWidth:660,windowHeight:460});function p6(e,{title:t,description:r,image:n}){return me(e,"ok.url"),"https://connect.ok.ru/offer"+le({url:e,title:t,description:r,imageUrl:n})}ye("ok",p6,e=>({title:e.title,description:e.description,image:e.image}),{windowWidth:588,windowHeight:480,windowPosition:"screenCenter"});function g6(e,t){window.OK||(window.OK={Share:{count:function(a,o){var l,c;(c=(l=window.OK.callbacks)[a])==null||c.call(l,o)}},callbacks:[]});const r="https://connect.ok.ru/dk",n=window.OK.callbacks.length;return window.ODKL={updateCount(s,a){var o,l;const c=s===""?0:parseInt(s.replace("react-share-",""),10);(l=(o=window.OK.callbacks)[c])==null||l.call(o,a===""?void 0:parseInt(a,10))}},window.OK.callbacks.push(t),ns(r+le({"st.cmd":"extLike",uid:`react-share-${n}`,ref:e}))}ss(g6);function x6(e,{media:t,description:r,pinId:n}){return n?`https://pinterest.com/pin/${n}/repin/x/`:(me(e,"pinterest.url"),me(t,"pinterest.media"),"https://pinterest.com/pin/create/button/"+le({url:e,media:t,description:r}))}ye("pinterest",x6,e=>({media:e.media,description:e.description,pinId:e.pinId}),{windowWidth:1e3,windowHeight:730});function y6(e,t){ns("https://api.pinterest.com/v1/urls/count.json"+le({url:e}),(n,s)=>{t(s?s.count:void 0)})}ss(y6);function v6(e,{title:t}){return me(e,"pocket.url"),"https://getpocket.com/save"+le({url:e,title:t})}ye("pocket",v6,e=>({title:e.title}),{windowWidth:500,windowHeight:500});function b6(e,{title:t}){return me(e,"reddit.url"),"https://www.reddit.com/web/submit"+le({url:e,title:t})}ye("reddit",b6,e=>({title:e.title}),{windowWidth:660,windowHeight:460,windowPosition:"windowCenter"});function w6(e,{title:t}){return me(e,"gab.url"),"https://gab.com/compose"+le({url:e,text:t})}ye("gab",w6,e=>({title:e.title}),{windowWidth:660,windowHeight:640,windowPosition:"windowCenter"});function j6(e,t){const r=`https://www.reddit.com/api/info.json?limit=1&url=${e}`;ns(r,{param:"jsonp"},(n,s)=>{t(!n&&s&&s.data&&s.data.children.length>0&&s.data.children[0].data.score?s.data.children[0].data.score:void 0)})}ss(j6);function N6(e,{title:t}){return me(e,"telegram.url"),"https://telegram.me/share/url"+le({url:e,text:t})}ye("telegram",N6,e=>({title:e.title}),{windowWidth:550,windowHeight:400});function S6(e,{title:t}){return me(e,"threads.url"),"https://threads.net/intent/post"+le({url:e,text:t})}ye("threads",S6,e=>({title:e.title}),{windowWidth:550,windowHeight:600});function k6(e,{title:t,caption:r,tags:n,posttype:s}){return me(e,"tumblr.url"),"https://www.tumblr.com/widgets/share/tool"+le({canonicalUrl:e,title:t,caption:r,tags:n,posttype:s})}ye("tumblr",k6,e=>({title:e.title,tags:(e.tags||[]).join(","),caption:e.caption,posttype:e.posttype||"link"}),{windowWidth:660,windowHeight:460});function _6(e,t){return ns("https://api.tumblr.com/v2/share/stats"+le({url:e}),(n,s)=>{t(!n&&s&&s.response?s.response.note_count:void 0)})}ss(_6);const C6=qf({color:"#00aced",path:"M48,22.1c-1.2,0.5-2.4,0.9-3.8,1c1.4-0.8,2.4-2.1,2.9-3.6c-1.3,0.8-2.7,1.3-4.2,1.6 C41.7,19.8,40,19,38.2,19c-3.6,0-6.6,2.9-6.6,6.6c0,0.5,0.1,1,0.2,1.5c-5.5-0.3-10.3-2.9-13.5-6.9c-0.6,1-0.9,2.1-0.9,3.3 c0,2.3,1.2,4.3,2.9,5.5c-1.1,0-2.1-0.3-3-0.8c0,0,0,0.1,0,0.1c0,3.2,2.3,5.8,5.3,6.4c-0.6,0.1-1.1,0.2-1.7,0.2c-0.4,0-0.8,0-1.2-0.1 c0.8,2.6,3.3,4.5,6.1,4.6c-2.2,1.8-5.1,2.8-8.2,2.8c-0.5,0-1.1,0-1.6-0.1c2.9,1.9,6.4,2.9,10.1,2.9c12.1,0,18.7-10,18.7-18.7 c0-0.3,0-0.6,0-0.8C46,24.5,47.1,23.4,48,22.1z"});function P6(e,{title:t,via:r,hashtags:n=[],related:s=[]}){return me(e,"twitter.url"),me(Array.isArray(n),"twitter.hashtags is not an array"),me(Array.isArray(s),"twitter.related is not an array"),"https://twitter.com/intent/tweet"+le({url:e,text:t,via:r,hashtags:n.length>0?n.join(","):void 0,related:s.length>0?s.join(","):void 0})}const E6=ye("twitter",P6,e=>({hashtags:e.hashtags,title:e.title,via:e.via,related:e.related}),{windowWidth:550,windowHeight:400});function T6(e,{title:t,separator:r}){return me(e,"viber.url"),"viber://forward"+le({text:t?t+r+e:e})}ye("viber",T6,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:660,windowHeight:460});function A6(e,{title:t,image:r,noParse:n,noVkLinks:s}){return me(e,"vk.url"),"https://vk.com/share.php"+le({url:e,title:t,image:r,noparse:n?1:0,no_vk_links:s?1:0})}ye("vk",A6,e=>({title:e.title,image:e.image,noParse:e.noParse,noVkLinks:e.noVkLinks}),{windowWidth:660,windowHeight:460});function O6(e,t){window.VK||(window.VK={}),window.VK.Share={count:(s,a)=>{var o,l;return(l=(o=window.VK.callbacks)==null?void 0:o[s])==null?void 0:l.call(o,a)}},window.VK.callbacks=[];const r="https://vk.com/share.php",n=window.VK.callbacks.length;return window.VK.callbacks.push(t),ns(r+le({act:"count",index:n,url:e}))}ss(O6);function R6(e,{title:t,image:r}){return me(e,"weibo.url"),"http://service.weibo.com/share/share.php"+le({url:e,title:t,pic:r})}ye("weibo",R6,e=>({title:e.title,image:e.image}),{windowWidth:660,windowHeight:550,windowPosition:"screenCenter"});const M6=qf({color:"#25D366",path:"m42.32286,33.93287c-0.5178,-0.2589 -3.04726,-1.49644 -3.52105,-1.66732c-0.4712,-0.17346 -0.81554,-0.2589 -1.15987,0.2589c-0.34175,0.51004 -1.33075,1.66474 -1.63108,2.00648c-0.30032,0.33658 -0.60064,0.36247 -1.11327,0.12945c-0.5178,-0.2589 -2.17994,-0.80259 -4.14759,-2.56312c-1.53269,-1.37217 -2.56312,-3.05503 -2.86603,-3.57283c-0.30033,-0.5178 -0.03366,-0.80259 0.22524,-1.06149c0.23301,-0.23301 0.5178,-0.59547 0.7767,-0.90616c0.25372,-0.31068 0.33657,-0.5178 0.51262,-0.85437c0.17088,-0.36246 0.08544,-0.64725 -0.04402,-0.90615c-0.12945,-0.2589 -1.15987,-2.79613 -1.58964,-3.80584c-0.41424,-1.00971 -0.84142,-0.88027 -1.15987,-0.88027c-0.29773,-0.02588 -0.64208,-0.02588 -0.98382,-0.02588c-0.34693,0 -0.90616,0.12945 -1.37736,0.62136c-0.4712,0.5178 -1.80194,1.76053 -1.80194,4.27186c0,2.51134 1.84596,4.945 2.10227,5.30747c0.2589,0.33657 3.63497,5.51458 8.80262,7.74113c1.23237,0.5178 2.1903,0.82848 2.94111,1.08738c1.23237,0.38836 2.35599,0.33657 3.24402,0.20712c0.99159,-0.15534 3.04985,-1.24272 3.47963,-2.45956c0.44013,-1.21683 0.44013,-2.22654 0.31068,-2.45955c-0.12945,-0.23301 -0.46601,-0.36247 -0.98382,-0.59548m-9.40068,12.84407l-0.02589,0c-3.05503,0 -6.08417,-0.82849 -8.72495,-2.38189l-0.62136,-0.37023l-6.47252,1.68286l1.73463,-6.29129l-0.41424,-0.64725c-1.70875,-2.71846 -2.6149,-5.85116 -2.6149,-9.07706c0,-9.39809 7.68934,-17.06155 17.15993,-17.06155c4.58253,0 8.88029,1.78642 12.11655,5.02268c3.23625,3.21036 5.02267,7.50812 5.02267,12.06476c-0.0078,9.3981 -7.69712,17.06155 -17.14699,17.06155m14.58906,-31.58846c-3.93529,-3.80584 -9.1133,-5.95471 -14.62789,-5.95471c-11.36055,0 -20.60848,9.2065 -20.61625,20.52564c0,3.61684 0.94757,7.14565 2.75211,10.26282l-2.92557,10.63564l10.93337,-2.85309c3.0136,1.63108 6.4052,2.4958 9.85634,2.49839l0.01037,0c11.36574,0 20.61884,-9.2091 20.62403,-20.53082c0,-5.48093 -2.14111,-10.64081 -6.03239,-14.51915"});function L6(){return/(android|iphone|ipad|mobile)/i.test(navigator.userAgent)}function D6(e,{title:t,separator:r}){return me(e,"whatsapp.url"),"https://"+(L6()?"api":"web")+".whatsapp.com/send"+le({text:t?t+r+e:e})}const I6=ye("whatsapp",D6,e=>({title:e.title,separator:e.separator||" "}),{windowWidth:550,windowHeight:400});function $6(e,{quote:t,hashtag:r}){return me(e,"workplace.url"),"https://work.facebook.com/sharer.php"+le({u:e,quote:t,hashtag:r})}ye("workplace",$6,e=>({quote:e.quote,hashtag:e.hashtag}),{windowWidth:550,windowHeight:400});const F6=oT("pk_test_51234567890abcdef..."),V6=({onClose:e})=>{const t=PT(),r=NT(),{items:n,getTotalPrice:s,getGiftPackagingCost:a,getDeliveryCost:o,clearCart:l}=jn(),{user:c}=Ut(),{userCity:u}=dc(),[d,h]=b.useState(!1),[f,m]=b.useState(!1),[x,v]=b.useState(null),[N,y]=b.useState("standard"),[p,g]=b.useState(!1),[w,j]=b.useState({name:(c==null?void 0:c.name)||"",email:(c==null?void 0:c.email)||"",phone:"",address:"",city:(c==null?void 0:c.city)||u||"",pincode:""}),[S,_]=b.useState({name:"",email:"",phone:"",address:"",city:"",pincode:""}),C=s(),O=a(),E=o(N),W=C+O+E,J=n.some(M=>M.giftPackaging),ee=u&&["Mumbai","Delhi","Bangalore","Chennai","Kolkata","Hyderabad"].includes(u),ve=M=>{j(T=>({...T,[M.target.name]:M.target.value}))},te=M=>{_(T=>({...T,[M.target.name]:M.target.value}))},tt=async M=>{if(M.preventDefault(),!t||!r||!c)return;h(!0),v(null);const T=r.getElement(mg);if(!T){v("Card element not found"),h(!1);return}try{const{error:B,paymentMethod:V}=await t.createPaymentMethod({type:"card",card:T,billing_details:{name:w.name,email:w.email,phone:w.phone,address:{line1:w.address,city:w.city,postal_code:w.pincode,country:"IN"}}});if(B){v(B.message||"Payment method creation failed"),h(!1);return}const G=await xr.createOrder({userId:c.id,items:n,totalAmount:W,deliveryType:N,deliveryAddress:w,friendDelivery:p?S:void 0,paymentIntentId:V.id});if(!G){v("Failed to create order. Please try again."),h(!1);return}N==="instant"&&((await xr.bookDunzoDelivery(G)).success||F.error("Instant delivery booking failed, but your order is confirmed")),await new Promise(ne=>setTimeout(ne,2e3)),await xr.updateOrderStatus(G.id,"confirmed"),m(!0),l(),F.success("Order placed successfully!"),setTimeout(()=>{e(),m(!1)},3e3)}catch{v("Payment failed. Please try again."),F.error("Payment failed. Please try again.")}finally{h(!1)}};if(f){const M=window.location.origin+"/orders",T=`I just bought a beautiful handmade gift from GiftFlare! 
Check out amazing gifts at GiftFlare.`;return i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"bg-yellow-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx(dn,{className:"w-10 h-10 text-yellow-500"})}),i.jsx("h3",{className:"text-3xl font-bold text-yellow-800 mb-4",children:"Thank You for Your Order!"}),i.jsx("p",{className:"text-lg text-yellow-700 mb-4 font-semibold",children:"We truly appreciate your support for handmade gifts and artisans."}),i.jsx("p",{className:"text-yellow-700 mb-6",children:N==="instant"?"Your order will be delivered within 2-4 hours via Dunzo!":"Your order will be delivered in 3-7 business days."}),i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-6",children:[i.jsxs("p",{className:"text-base text-yellow-800",children:["Order Total: ",i.jsxs("span",{className:"font-bold",children:["",W.toLocaleString()]})]}),i.jsxs("p",{className:"text-xs text-yellow-700 mt-1",children:["You'll receive email and SMS updates about your order.",i.jsx("br",{}),"Thank you for choosing GiftFlare!"]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("p",{className:"text-base font-semibold text-yellow-800 mb-3",children:"Share your excitement:"}),i.jsxs("div",{className:"flex justify-center gap-4",children:[i.jsx(I6,{url:M,title:T,children:i.jsx(M6,{size:40,round:!0})}),i.jsx(s6,{url:M,quote:T,children:i.jsx(t6,{size:40,round:!0})}),i.jsx(E6,{url:M,title:T,children:i.jsx(C6,{size:40,round:!0})})]})]})]})}return i.jsxs("form",{onSubmit:tt,className:"space-y-6",children:[i.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-amber-900 mb-3",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2",children:[n.map(M=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-amber-800 flex items-center",children:[M.product.name,"  ",M.quantity,M.giftPackaging&&i.jsx(mt,{className:"w-3 h-3 ml-1 text-amber-600"})]}),i.jsxs("span",{className:"font-medium text-amber-900",children:["",(M.product.price*M.quantity).toLocaleString()]})]},M.id)),O>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Gift packaging"}),i.jsxs("span",{className:"text-amber-900",children:["",O]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Delivery"}),i.jsx("span",{className:"text-amber-900",children:E===0?"FREE":`${E}`})]}),i.jsxs("div",{className:"border-t border-amber-300 pt-2 flex justify-between font-bold",children:[i.jsx("span",{className:"text-amber-900",children:"Total"}),i.jsxs("span",{className:"text-amber-600",children:["",W.toLocaleString()]})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-amber-900 mb-4 flex items-center",children:[i.jsx(vt,{className:"w-5 h-5 mr-2"}),"Delivery Options"]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 border border-amber-200 rounded-lg hover:bg-amber-50",children:[i.jsx("input",{type:"radio",name:"deliveryType",value:"standard",checked:N==="standard",onChange:M=>y(M.target.value),className:"text-amber-600 focus:ring-amber-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Gs,{className:"w-4 h-4 text-amber-600"}),i.jsx("span",{className:"font-medium text-amber-900",children:"Standard Delivery"})]}),i.jsxs("p",{className:"text-sm text-amber-700",children:["3-7 business days  ",E===0?"FREE":`${o("standard")}`]})]})]}),ee&&i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer p-3 border border-amber-200 rounded-lg hover:bg-amber-50",children:[i.jsx("input",{type:"radio",name:"deliveryType",value:"instant",checked:N==="instant",onChange:M=>y(M.target.value),className:"text-amber-600 focus:ring-amber-500"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(vt,{className:"w-4 h-4 text-amber-600"}),i.jsx("span",{className:"font-medium text-amber-900",children:"Instant Delivery (Dunzo)"})]}),i.jsxs("p",{className:"text-sm text-amber-700",children:["2-4 hours  ",o("instant")]})]})]})]})]}),J&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:p,onChange:M=>g(M.target.checked),className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{className:"w-4 h-4 text-orange-600"}),i.jsx("span",{className:"font-medium text-orange-900",children:"Deliver gifts to a friend"})]})]}),i.jsx("p",{className:"text-sm text-orange-700 mt-2 ml-7",children:"Send your gift items directly to your friend's address"})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-amber-900 mb-4 flex items-center",children:[i.jsx(Ar,{className:"w-5 h-5 mr-2"}),p?"Your Details":"Shipping Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",name:"name",required:!0,value:w.name,onChange:ve,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"Email"}),i.jsx("input",{type:"email",name:"email",required:!0,value:w.email,onChange:ve,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"Phone"}),i.jsx("input",{type:"tel",name:"phone",required:!0,value:w.phone,onChange:ve,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"City"}),i.jsx("input",{type:"text",name:"city",required:!0,value:w.city,onChange:ve,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),!p&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"Address"}),i.jsx("textarea",{name:"address",required:!0,value:w.address,onChange:ve,rows:3,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-800 mb-1",children:"Pincode"}),i.jsx("input",{type:"text",name:"pincode",required:!0,value:w.pincode,onChange:ve,className:"w-full border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]})]})]})]}),p&&i.jsxs("div",{className:"bg-orange-50 border border-orange-200 rounded-lg p-4",children:[i.jsxs("h3",{className:"font-semibold text-orange-900 mb-3 flex items-center",children:[i.jsx(kt,{className:"w-5 h-5 mr-2"}),"Friend's Delivery Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Friend's Name"}),i.jsx("input",{type:"text",name:"name",required:!0,value:S.name,onChange:te,className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Friend's Phone"}),i.jsx("input",{type:"tel",name:"phone",required:!0,value:S.phone,onChange:te,className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Friend's Address"}),i.jsx("textarea",{name:"address",required:!0,value:S.address,onChange:te,rows:3,className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"City"}),i.jsx("input",{type:"text",name:"city",required:!0,value:S.city,onChange:te,className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-1",children:"Pincode"}),i.jsx("input",{type:"text",name:"pincode",required:!0,value:S.pincode,onChange:te,className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent"})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-semibold text-amber-900 mb-4 flex items-center",children:[i.jsx(Ol,{className:"w-5 h-5 mr-2"}),"Payment Details"]}),i.jsx("div",{className:"border border-amber-300 rounded-lg p-4 bg-white",children:i.jsx(mg,{options:{style:{base:{fontSize:"16px",color:"#374151","::placeholder":{color:"#fb7185"}}}}})})]}),x&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg",children:x}),i.jsx("button",{type:"submit",disabled:!t||d,className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-3 rounded-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:d?i.jsxs(i.Fragment,{children:[i.jsx(WE,{className:"w-5 h-5 animate-spin"}),i.jsx("span",{children:"Processing Payment..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(Ol,{className:"w-5 h-5"}),i.jsxs("span",{children:["Pay ",W.toLocaleString()]})]})})]})},U6=({isOpen:e,onClose:t})=>i.jsx(Vt,{children:e&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-amber-200",children:[i.jsx("h2",{className:"text-2xl font-bold text-amber-900",children:"Checkout"}),i.jsx("button",{onClick:t,className:"text-amber-600 hover:text-amber-800 p-2",children:i.jsx(ir,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"p-6",children:i.jsx(ww,{stripe:F6,children:i.jsx(V6,{onClose:t})})})]})})}),B6=()=>{const{items:e,removeFromCart:t,updateQuantity:r,updateCartItem:n,getTotalPrice:s,getTotalItems:a,getGiftPackagingCost:o,getDeliveryCost:l,isCartOpen:c,setIsCartOpen:u}=jn(),[d,h]=b.useState(!1),f=(p,g)=>{n(p,{giftPackaging:g,giftNote:g?"":void 0})},m=(p,g)=>{n(p,{giftNote:g})},x=s(),v=o(),N=l("standard"),y=l("instant");return i.jsxs(i.Fragment,{children:[i.jsx(Vt,{children:c&&i.jsxs(i.Fragment,{children:[i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>u(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),i.jsxs(L.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-amber-200 bg-amber-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-amber-600 p-2 rounded-lg",children:i.jsx(yt,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-amber-900",children:"Your Cart"}),i.jsxs("p",{className:"text-sm text-amber-700",children:[a()," items"]})]})]}),i.jsx("button",{onClick:()=>u(!1),className:"text-amber-600 hover:text-amber-800 p-2 hover:bg-amber-100 rounded-lg transition-colors",children:i.jsx(ir,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:e.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(yt,{className:"w-8 h-8 text-amber-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-2",children:"Your cart is empty"}),i.jsx("p",{className:"text-amber-700 text-sm",children:"Add some beautiful handmade items to get started"})]}):i.jsx("div",{className:"space-y-6",children:e.map(p=>i.jsxs("div",{className:"bg-amber-50 rounded-xl p-4 border border-amber-200",children:[i.jsxs("div",{className:"flex items-start space-x-3 mb-4",children:[i.jsx("img",{src:p.product.image,alt:p.product.name,className:"w-16 h-16 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-semibold text-amber-900 text-sm line-clamp-2",children:p.product.name}),i.jsxs("p",{className:"text-xs text-amber-600 mb-2",children:["by ",p.product.sellerName]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"font-bold text-amber-800",children:["",p.product.price.toLocaleString()]}),i.jsx("button",{onClick:()=>t(p.id),className:"text-red-500 hover:text-red-700 text-xs",children:"Remove"})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>r(p.id,p.quantity-1),className:"w-8 h-8 bg-amber-200 rounded-full flex items-center justify-center hover:bg-amber-300 transition-colors",children:i.jsx(lw,{className:"w-4 h-4"})}),i.jsx("span",{className:"font-semibold text-amber-900 w-8 text-center",children:p.quantity}),i.jsx("button",{onClick:()=>r(p.id,p.quantity+1),className:"w-8 h-8 bg-amber-200 rounded-full flex items-center justify-center hover:bg-amber-300 transition-colors",children:i.jsx(Yn,{className:"w-4 h-4"})})]}),i.jsxs("span",{className:"font-bold text-amber-800",children:["",(p.product.price*p.quantity).toLocaleString()]})]}),i.jsxs("div",{className:"space-y-3 border-t border-amber-200 pt-3",children:[i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[i.jsx("input",{type:"checkbox",checked:p.giftPackaging,onChange:g=>f(p.id,g.target.checked),className:"rounded border-amber-300 text-amber-600 focus:ring-amber-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(mt,{className:"w-4 h-4 text-amber-600"}),i.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Gift packaging (+30)"})]})]}),p.giftPackaging&&i.jsxs("div",{className:"ml-7",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(qa,{className:"w-4 h-4 text-amber-600"}),i.jsx("span",{className:"text-sm font-medium text-amber-900",children:"Gift note"})]}),i.jsx("textarea",{value:p.giftNote||"",onChange:g=>m(p.id,g.target.value),placeholder:"Write a personal message...",className:"w-full text-xs border border-amber-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent resize-none",rows:2})]})]})]},p.id))})}),e.length>0&&i.jsxs("div",{className:"border-t border-amber-200 p-6 bg-white",children:[i.jsxs("div",{className:"space-y-2 mb-4",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Subtotal"}),i.jsxs("span",{className:"text-amber-900",children:["",x.toLocaleString()]})]}),v>0&&i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Gift packaging"}),i.jsxs("span",{className:"text-amber-900",children:["",v]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-amber-700",children:"Standard delivery"}),i.jsx("span",{className:"text-amber-900",children:N===0?"FREE":`${N}`})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-amber-700 flex items-center",children:[i.jsx(vt,{className:"w-3 h-3 mr-1"}),"Instant delivery (Dunzo)"]}),i.jsxs("span",{className:"text-amber-900",children:["",y]})]}),i.jsxs("div",{className:"border-t border-amber-200 pt-2 flex justify-between font-bold",children:[i.jsx("span",{className:"text-amber-900",children:"Total (Standard)"}),i.jsxs("span",{className:"text-amber-600",children:["",(x+v+N).toLocaleString()]})]})]}),i.jsxs("button",{onClick:()=>h(!0),className:"w-full bg-amber-600 hover:bg-amber-700 text-white py-3 rounded-xl font-semibold transition-all flex items-center justify-center space-x-2 shadow-lg",children:[i.jsx(Ol,{className:"w-5 h-5"}),i.jsx("span",{children:"Proceed to Checkout"})]})]})]})]})}),i.jsx(U6,{isOpen:d,onClose:()=>h(!1)})]})},Eo=43200,xg=1440,yg=Symbol.for("constructDateFrom");function Gf(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&yg in e?e[yg](t):e instanceof Date?new e.constructor(t):new Date(t)}function pn(e,t){return Gf(e,e)}let z6={};function W6(){return z6}function vg(e){const t=pn(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Kf(e,...t){const r=Gf.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function Yo(e,t){const r=+pn(e)-+pn(t);return r<0?-1:r>0?1:r}function H6(e){return Gf(e,Date.now())}function q6(e,t,r){const[n,s]=Kf(r==null?void 0:r.in,e,t),a=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return a*12+o}function G6(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function K6(e,t){return+pn(e)-+pn(t)}function Y6(e,t){const r=pn(e);return r.setHours(23,59,59,999),r}function Q6(e,t){const r=pn(e),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function J6(e,t){const r=pn(e);return+Y6(r)==+Q6(r)}function X6(e,t,r){const[n,s,a]=Kf(r==null?void 0:r.in,e,e,t),o=Yo(s,a),l=Math.abs(q6(s,a));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-o*l);let c=Yo(s,a)===-o;J6(n)&&l===1&&Yo(n,a)===1&&(c=!1);const u=o*(l-+c);return u===0?0:u}function Z6(e,t,r){const n=K6(e,t)/1e3;return G6(r==null?void 0:r.roundingMethod)(n)}const e5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},t5=(e,t,r)=>{let n;const s=e5[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Su(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const r5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},n5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},s5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},i5={date:Su({formats:r5,defaultWidth:"full"}),time:Su({formats:n5,defaultWidth:"full"}),dateTime:Su({formats:s5,defaultWidth:"full"})},a5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},o5=(e,t,r,n)=>a5[e];function ji(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[o]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const l5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},c5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},u5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},d5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},h5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},f5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},m5=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},p5={ordinalNumber:m5,era:ji({values:l5,defaultWidth:"wide"}),quarter:ji({values:c5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ji({values:u5,defaultWidth:"wide"}),day:ji({values:d5,defaultWidth:"wide"}),dayPeriod:ji({values:h5,defaultWidth:"wide",formattingValues:f5,defaultFormattingWidth:"wide"})};function Ni(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const o=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?x5(l,h=>h.test(o)):g5(l,h=>h.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(o.length);return{value:u,rest:d}}}function g5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function x5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function y5(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let o=e.valueCallback?e.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(s.length);return{value:o,rest:l}}}const v5=/^(\d+)(th|st|nd|rd)?/i,b5=/\d+/i,w5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},j5={any:[/^b/i,/^(a|c)/i]},N5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},S5={any:[/1/i,/2/i,/3/i,/4/i]},k5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},C5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},P5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},E5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},T5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},A5={ordinalNumber:y5({matchPattern:v5,parsePattern:b5,valueCallback:e=>parseInt(e,10)}),era:Ni({matchPatterns:w5,defaultMatchWidth:"wide",parsePatterns:j5,defaultParseWidth:"any"}),quarter:Ni({matchPatterns:N5,defaultMatchWidth:"wide",parsePatterns:S5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ni({matchPatterns:k5,defaultMatchWidth:"wide",parsePatterns:_5,defaultParseWidth:"any"}),day:Ni({matchPatterns:C5,defaultMatchWidth:"wide",parsePatterns:P5,defaultParseWidth:"any"}),dayPeriod:Ni({matchPatterns:E5,defaultMatchWidth:"any",parsePatterns:T5,defaultParseWidth:"any"})},O5={code:"en-US",formatDistance:t5,formatLong:i5,formatRelative:o5,localize:p5,match:A5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function R5(e,t,r){const n=W6(),s=(r==null?void 0:r.locale)??n.locale??O5,a=2520,o=Yo(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:o}),[c,u]=Kf(r==null?void 0:r.in,...o>0?[t,e]:[e,t]),d=Z6(u,c),h=(vg(u)-vg(c))/1e3,f=Math.round((d-h)/60);let m;if(f<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):f===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",f,l);if(f<45)return s.formatDistance("xMinutes",f,l);if(f<90)return s.formatDistance("aboutXHours",1,l);if(f<xg){const x=Math.round(f/60);return s.formatDistance("aboutXHours",x,l)}else{if(f<a)return s.formatDistance("xDays",1,l);if(f<Eo){const x=Math.round(f/xg);return s.formatDistance("xDays",x,l)}else if(f<Eo*2)return m=Math.round(f/Eo),s.formatDistance("aboutXMonths",m,l)}if(m=X6(u,c),m<12){const x=Math.round(f/Eo);return s.formatDistance("xMonths",x,l)}else{const x=m%12,v=Math.trunc(m/12);return x<3?s.formatDistance("aboutXYears",v,l):x<9?s.formatDistance("overXYears",v,l):s.formatDistance("almostXYears",v+1,l)}}function Oa(e,t){return R5(e,H6(e),t)}const ku=()=>{const[e,t]=b.useState(!1),{notifications:r,unreadCount:n,markAsRead:s,markAllAsRead:a,deleteNotification:o}=Nv(),l=u=>{switch(u){case"order":return i.jsx(mt,{className:"w-5 h-5 text-blue-600"});case"delivery":return i.jsx(vt,{className:"w-5 h-5 text-green-600"});case"chat":return i.jsx(qa,{className:"w-5 h-5 text-purple-600"});case"promotion":return i.jsx(kt,{className:"w-5 h-5 text-pink-600"});default:return i.jsx(Bf,{className:"w-5 h-5 text-amber-600"})}},c=u=>{switch(u){case"order":return"border-blue-200 bg-blue-50";case"delivery":return"border-green-200 bg-green-50";case"chat":return"border-purple-200 bg-purple-50";case"promotion":return"border-pink-200 bg-pink-50";default:return"border-amber-200 bg-amber-50"}};return i.jsxs(i.Fragment,{children:[i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(!0),className:"relative p-2 text-charcoal-700 hover:text-charcoal-800 hover:bg-cream-100 rounded-xl transition-all",children:[i.jsx(ta,{className:"w-5 h-5 lg:w-6 lg:h-6"}),n>0&&i.jsx(L.div,{initial:{scale:0},animate:{scale:1},className:"absolute -top-1 -right-1 bg-blush-600 text-white text-xs font-bold rounded-full w-4 h-4 lg:w-5 lg:h-5 flex items-center justify-center",children:n>99?"99+":n})]}),i.jsx(Vt,{children:e&&i.jsxs(i.Fragment,{children:[i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>t(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),i.jsxs(L.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-white shadow-2xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-amber-200 bg-amber-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-amber-600 p-2 rounded-lg",children:i.jsx(ta,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-amber-900",children:"Notifications"}),i.jsxs("p",{className:"text-sm text-amber-700",children:[n," unread"]})]})]}),i.jsx("button",{onClick:()=>t(!1),className:"text-amber-600 hover:text-amber-800 p-2 hover:bg-amber-100 rounded-lg transition-colors",children:i.jsx(ir,{className:"w-5 h-5"})})]}),r.length>0&&i.jsx("div",{className:"flex items-center justify-between p-4 border-b border-amber-100",children:i.jsxs("button",{onClick:a,className:"flex items-center space-x-2 text-amber-600 hover:text-amber-800 text-sm font-medium",children:[i.jsx(DE,{className:"w-4 h-4"}),i.jsx("span",{children:"Mark all read"})]})}),i.jsx("div",{className:"flex-1 overflow-y-auto",children:r.length===0?i.jsxs("div",{className:"text-center py-16",children:[i.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(ta,{className:"w-8 h-8 text-amber-600"})}),i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-2",children:"No notifications"}),i.jsx("p",{className:"text-amber-700 text-sm",children:"You're all caught up!"})]}):i.jsx("div",{className:"p-4 space-y-3",children:r.map(u=>{var d;return i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:`p-4 rounded-xl border transition-all ${u.read?"bg-gray-50 border-gray-200":c(u.type)}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0 mt-1",children:l(u.type)}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("h4",{className:`font-semibold text-sm ${u.read?"text-gray-700":"text-amber-900"}`,children:u.title}),i.jsxs("div",{className:"flex items-center space-x-1 ml-2",children:[!u.read&&i.jsx("button",{onClick:()=>s(u.id),className:"text-amber-600 hover:text-amber-800 p-1",title:"Mark as read",children:i.jsx(aw,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>o(u.id),className:"text-red-500 hover:text-red-700 p-1",title:"Delete",children:i.jsx(_a,{className:"w-3 h-3"})})]})]}),i.jsx("p",{className:`text-sm mt-1 ${u.read?"text-gray-600":"text-amber-800"}`,children:u.message}),i.jsx("p",{className:"text-xs text-gray-500 mt-2",children:Oa(new Date(u.created_at),{addSuffix:!0})}),u.type==="order"&&((d=u.data)==null?void 0:d.order_id)&&i.jsx("button",{className:"text-xs text-amber-600 hover:text-amber-800 font-medium mt-2",children:"View Order "})]})]})},u.id)})})})]})]})})]})},M5=({children:e})=>{const{user:t,logout:r}=Ut(),n=ri(),s=ti(),[a,o]=ie.useState(!1),l=()=>{r(),n("/")},c=()=>[{name:"Home",href:"/",icon:rs},{name:"Shop",href:"/shop",icon:yt},{name:"Gift Suggester",href:"/gift-suggester",icon:kt},{name:"Hamper Builder",href:"/hamper-builder",icon:mt},...t?[{name:"Orders",href:"/orders",icon:wu}]:[]],u=()=>[{name:"Dashboard",href:"/seller/dashboard",icon:Ar},{name:"Orders",href:"/orders",icon:wu}],d=()=>[{name:"Dashboard",href:"/admin/dashboard",icon:Ar},{name:"Orders",href:"/orders",icon:wu}],f=(()=>{if(!t)return c();switch(t.role){case"seller":return u();case"admin":return d();default:return c()}})();return f.some(m=>s.pathname===m.href),i.jsxs("div",{className:"min-h-screen bg-cream-50",children:[i.jsxs("header",{className:"bg-cream-50/95 backdrop-blur-md border-b border-cream-200 sticky top-0 z-50 shadow-subtle",children:[i.jsxs("div",{className:"hidden lg:flex w-full items-center justify-between py-6 px-4 xl:px-6",children:[i.jsx("div",{className:"flex-shrink-0 flex items-center justify-start",children:i.jsxs(ke,{to:"/",className:"flex items-center space-x-3",children:[i.jsx("span",{className:"p-2 rounded-lg flex items-center justify-center transition-colors duration-200 bg-blush-100",children:i.jsx(hr,{className:"w-7 h-7 xl:w-9 xl:h-9 transition-colors duration-200 text-blush-600"})}),i.jsx("span",{className:"text-2xl xl:text-4xl font-bold font-serif transition-colors duration-200 text-blush-700",children:"Artisan Market"})]})}),i.jsx("nav",{className:"flex flex-1 items-center justify-center gap-x-6 xl:gap-x-14",children:f.map(m=>{const x=s.pathname===m.href,v=m.icon;return i.jsxs(ke,{to:m.href,className:`flex items-center gap-2 text-lg xl:text-2xl font-semibold transition-colors duration-200 ${x?"text-blush-700 underline underline-offset-8 decoration-2":"text-charcoal-900 hover:text-blush-600"}`,style:{textDecoration:"none",background:"none",boxShadow:"none",padding:0},children:[i.jsx(v,{className:"w-6 h-6 xl:w-8 xl:h-8"}),i.jsx("span",{children:m.name})]},m.name)})}),i.jsxs("div",{className:"flex items-center justify-end gap-3 xl:gap-5 ml-auto",children:[t&&i.jsx(ku,{}),(!t||t.role==="buyer")&&i.jsx(ju,{}),!t&&i.jsxs(i.Fragment,{children:[i.jsx(ke,{to:"/login",className:"bg-blush-100 text-blush-700 hover:bg-blush-200 rounded-xl px-4 xl:px-8 py-2 xl:py-3 font-bold text-lg xl:text-2xl transition-colors",style:{boxShadow:"none"},children:"Sign In"}),i.jsx(ke,{to:"/register",className:"bg-blush-600 border border-blush-600 text-white hover:bg-blush-700 hover:border-blush-700 rounded-xl px-4 xl:px-8 py-2 xl:py-3 font-bold text-lg xl:text-2xl transition-colors shadow-lg",style:{boxShadow:"none"},children:"Register"})]}),t&&i.jsxs("button",{onClick:l,className:"bg-cream-100 text-charcoal-700 hover:bg-cream-200 rounded-xl px-4 xl:px-6 py-2 xl:py-3 font-bold text-lg xl:text-xl transition-colors flex items-center space-x-2",children:[i.jsx(sg,{className:"w-5 h-5"}),i.jsx("span",{className:"hidden xl:inline",children:"Logout"})]})]})]}),i.jsxs("div",{className:"hidden md:flex lg:hidden w-full items-center justify-between py-4 px-4",children:[i.jsxs(ke,{to:"/",className:"flex items-center space-x-2",children:[i.jsx("span",{className:"p-2 rounded-lg flex items-center justify-center transition-colors duration-200 bg-blush-100",children:i.jsx(hr,{className:"w-6 h-6 transition-colors duration-200 text-blush-600"})}),i.jsx("span",{className:"text-xl font-bold font-serif transition-colors duration-200 text-blush-700",children:"Artisan Market"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[t&&i.jsx(ku,{}),(!t||t.role==="buyer")&&i.jsx(ju,{}),i.jsx("button",{onClick:()=>o(!a),className:"p-2 text-charcoal-900 hover:text-charcoal-100 hover:bg-neutral-100 rounded-xl transition-all",children:a?i.jsx(ir,{className:"w-6 h-6"}):i.jsx(ig,{className:"w-6 h-6"})})]})]}),i.jsxs("div",{className:"md:hidden w-full px-4 pt-3 pb-2 flex items-center justify-between",children:[i.jsxs(ke,{to:"/",className:"flex items-center space-x-3",children:[i.jsx("span",{className:"p-2 rounded-lg flex items-center justify-center transition-colors duration-200 bg-blush-100",children:i.jsx(hr,{className:"w-6 h-6 transition-colors duration-200 text-blush-600"})}),i.jsx("span",{className:"text-lg font-bold font-serif transition-colors duration-200 text-blush-700",children:"Artisan Market"})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[t&&i.jsx(ku,{}),(!t||t.role==="buyer")&&i.jsx(ju,{}),i.jsx("button",{onClick:()=>o(!a),className:"p-2 text-charcoal-900 hover:text-charcoal-100 hover:bg-neutral-100 rounded-xl transition-all",children:a?i.jsx(ir,{className:"w-6 h-6"}):i.jsx(ig,{className:"w-6 h-6"})})]})]}),i.jsx("div",{className:"md:hidden w-full px-4 pb-3",children:i.jsxs("div",{className:"flex items-center bg-white rounded-2xl px-4 py-3 border border-cream-200 shadow focus-within:ring-2 focus-within:ring-blush-300 transition-all",children:[i.jsxs("svg",{className:"w-5 h-5 text-charcoal-400 mr-2",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",children:[i.jsx("circle",{cx:"11",cy:"11",r:"8"}),i.jsx("path",{d:"M21 21l-4.35-4.35"})]}),i.jsx("input",{type:"text",placeholder:"Search our marketplace",className:"bg-transparent outline-none flex-1 text-base text-charcoal-700 placeholder-charcoal-400"})]})}),a&&i.jsx(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"lg:hidden bg-white border-t border-cream-200 px-4 py-4 shadow-xl rounded-b-2xl z-50",style:{position:"absolute",left:0,right:0,top:"100%"},children:i.jsxs("nav",{className:"space-y-2",children:[f.map(m=>{const x=m.icon,v=s.pathname===m.href;return i.jsxs(ke,{to:m.href,onClick:()=>o(!1),className:`flex items-center space-x-4 px-6 py-3 rounded-xl transition-all text-base ${v?"bg-blush-100 text-blush-700":"text-charcoal-900 hover:text-blush-700 hover:bg-cream-100"}`,children:[i.jsx(x,{className:"w-6 h-6"}),i.jsx("span",{className:"font-semibold",children:m.name})]},m.name)}),t?i.jsxs("button",{onClick:l,className:"flex items-center space-x-4 px-6 py-3 rounded-xl text-charcoal-900 hover:text-blush-700 hover:bg-cream-100 w-full transition-all text-base",children:[i.jsx(sg,{className:"w-6 h-6"}),i.jsx("span",{className:"font-semibold",children:"Logout"})]}):i.jsxs("div",{className:"flex space-x-4 pt-2",children:[i.jsx(ke,{to:"/login",onClick:()=>o(!1),className:"flex-1 text-center text-charcoal-900 hover:text-blush-700 font-semibold px-6 py-3 rounded-xl hover:bg-cream-100 transition-all text-base",children:"Login"}),i.jsx(ke,{to:"/register",onClick:()=>o(!1),className:"flex-1 text-center bg-blush-600 hover:bg-blush-700 text-white px-6 py-3 rounded-xl transition-all font-semibold shadow-soft text-base",children:"Register"})]})]})})]}),i.jsx("main",{className:"flex-1",children:e}),i.jsx(B6,{}),i.jsx("footer",{className:"bg-cream-50 border-t border-blush-100 mt-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 lg:py-16",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"md:col-span-2 lg:col-span-2",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[i.jsx("div",{className:"bg-blush-600 p-2 rounded-xl",children:i.jsx(hr,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-2xl lg:text-3xl font-bold text-charcoal-800 font-serif",children:"GiftFlare"})]}),i.jsx("p",{className:"text-charcoal-600 mb-6 lg:mb-8 max-w-md text-base lg:text-lg leading-relaxed",children:"Connecting discerning gift-givers with exceptional artisans. Every purchase supports traditional craftsmanship and preserves cultural heritage."}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsx("div",{className:"bg-mint-100 text-mint-700 px-3 lg:px-4 py-2 rounded-full text-sm lg:text-lg font-medium border border-mint-200",children:" Sustainable"}),i.jsx("div",{className:"bg-blush-100 text-blush-700 px-3 lg:px-4 py-2 rounded-full text-sm lg:text-lg font-medium border border-blush-200",children:" Artisan-focused"})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-charcoal-800 mb-4 lg:mb-6 text-lg lg:text-2xl",children:"Quick Links"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx(ke,{to:"/shop",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Browse Collections"})}),i.jsx("li",{children:i.jsx(ke,{to:"/gift-suggester",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Gift Discovery"})}),i.jsx("li",{children:i.jsx(ke,{to:"/hamper-builder",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Build Collection"})}),i.jsx("li",{children:i.jsx(ke,{to:"/register",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Become a Seller"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-charcoal-800 mb-4 lg:mb-6 text-lg lg:text-2xl",children:"Support"}),i.jsxs("ul",{className:"space-y-3",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Help Center"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Shipping Info"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Returns"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"text-charcoal-600 hover:text-charcoal-800 transition-colors text-sm lg:text-lg",children:"Contact Us"})})]})]})]}),i.jsxs("div",{className:"border-t border-blush-100 mt-8 lg:mt-12 pt-6 lg:pt-8 flex flex-col md:flex-row justify-between items-center",children:[i.jsx("p",{className:"text-sm lg:text-lg text-charcoal-600 mb-4 md:mb-0 text-center md:text-left",children:" 2024 GiftFlare. Crafted with care for artisans everywhere."}),i.jsxs("div",{className:"flex items-center space-x-4 lg:space-x-6 text-sm lg:text-lg text-charcoal-600",children:[i.jsx("a",{href:"#",className:"hover:text-charcoal-800 transition-colors",children:"Privacy Policy"}),i.jsx("a",{href:"#",className:"hover:text-charcoal-800 transition-colors",children:"Terms of Service"})]})]})]})})]})},_u=({children:e,requiredRole:t,requireAuth:r=!0})=>{const{user:n,isLoading:s}=Ut();return s?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-pink-500"})}):r&&!n?i.jsx(dp,{to:"/login",replace:!0}):t&&(n==null?void 0:n.role)!==t?i.jsx(dp,{to:"/",replace:!0}):i.jsx(i.Fragment,{children:e})},L5=()=>{const{userCity:e,isLocationLoading:t,requestLocation:r,setUserCity:n,locationError:s}=dc();es();const[a,o]=b.useState(!e),[l,c]=b.useState(""),[u,d]=b.useState(""),h=["Mumbai","Delhi","Bangalore","Hyderabad","Ahmedabad","Chennai","Kolkata","Pune","Jaipur","Surat","Lucknow","Kanpur","Nagpur","Indore","Thane","Bhopal","Visakhapatnam","Pimpri-Chinchwad","Patna","Vadodara","Ghaziabad","Ludhiana","Agra","Nashik","Faridabad","Meerut","Rajkot","Kalyan-Dombivli","Vasai-Virar","Varanasi","Srinagar","Aurangabad","Dhanbad","Amritsar","Navi Mumbai","Allahabad","Ranchi","Howrah","Coimbatore","Jabalpur","Gwalior","Vijayawada","Jodhpur","Madurai","Raipur","Kota","Guwahati","Chandigarh","Solapur","HubliDharwad","Bareilly","Moradabad","Mysore","Gurgaon","Aligarh","Jalandhar","Tiruchirappalli","Bhubaneswar","Salem","Mira-Bhayandar","Thiruvananthapuram","Bhiwandi","Saharanpur","Guntur","Amravati","Noida","Jamshedpur","Bhilai","Cuttack","Firozabad","Kochi","Nellore","Bhavnagar","Dehradun","Durgapur","Asansol","Rourkela","Nanded","Kolhapur","Ajmer","Akola","Gulbarga","Jamnagar","Ujjain","Loni","Siliguri","Jhansi","Ulhasnagar","Nellore","Jammu","Sangli-Miraj & Kupwad","Belgaum","Mangalore","Ambattur","Tirunelveli","Malegaon","Gaya","Jalgaon","Udaipur","Maheshtala","Davanagere","Kozhikode","Kurnool","Rajpur Sonarpur","Bokaro","South Dumdum","Bellary","Patiala","Gopalpur","Agartala","Bhagalpur","Muzaffarnagar","Bhatpara","Panihati","Latur","Dhule","Rohtak","Korba","Bhilwara","Berhampur","Muzaffarpur","Ahmednagar","Mathura","Kollam","Avadi","Kadapa","Anantapur","Kamarhati","Bilaspur","Sambalpur","Shahjahanpur","Satara","Bijapur","Rampur","Shivamogga","Chandrapur","Junagadh","Thrissur","Alwar","Bardhaman","Kulti","Nizamabad","Parbhani","Tumkur","Khammam","Ozhukarai","Bihar Sharif","Panipat","Darbhanga","Bally","Aizawl","Dewas","Ichalkaranji","Karnal","Bathinda","Jalna","Eluru","Barasat","Kirari Suleman Nagar","Purnia","Satna","Mau","Sonipat","Farrukhabad","Sagar","Rourkela Industrial Township","Durg","Imphal","Ratlam","Hapur","Arrah","Anantapuram","Karimnagar","Etawah","Ambernath","North Dumdum","Bharatpur","Begusarai","New Delhi"],f=()=>{l&&(n(l),o(!1))},m=async()=>{if(!navigator.geolocation){d("Geolocation is not supported by your browser.");return}d("");try{navigator.geolocation.getCurrentPosition(async x=>{var j,S,_,C;const{latitude:v,longitude:N}=x.coords,p=await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${v}&lon=${N}`)).json(),g=((j=p.address)==null?void 0:j.city)||((S=p.address)==null?void 0:S.town)||((_=p.address)==null?void 0:_.village)||((C=p.address)==null?void 0:C.state_district)||"",w=h.find(O=>O.toLowerCase().replace(/[^a-z]/g,"")===g.toLowerCase().replace(/[^a-z]/g,""));w?(c(w),n(w),o(!1)):d("Could not detect a supported city. Please select manually.")},x=>{d("Could not get your location. Please select manually.")})}catch{d("Could not get your location. Please select manually.")}};return!a&&e?i.jsx("div",{className:"fixed bottom-4 right-4 z-40",children:i.jsxs(L.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"bg-white rounded-xl shadow-lg border border-gray-200 p-3 flex items-center space-x-2",children:[i.jsx(Kn,{className:"w-4 h-4 text-rose-600"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:e}),i.jsx("button",{onClick:()=>o(!0),className:"text-xs text-rose-600 hover:text-rose-700 font-medium",children:"Change"})]})}):i.jsx(Vt,{children:a&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-cream-50 rounded-3xl p-12 w-full max-w-lg border border-blush-100 shadow-2xl",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"bg-blush-600 w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:i.jsx(Kn,{className:"w-12 h-12 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-charcoal-900 mb-3",children:"What's your location?"}),i.jsx("p",{className:"text-lg text-charcoal-600",children:"We'll show you instant delivery options in your area"})]}),(s||u)&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 p-4 rounded-lg mb-6 text-base",children:s||u}),i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:m,disabled:t,className:"w-full bg-blush-600 hover:bg-blush-700 text-white py-4 px-6 rounded-2xl text-lg font-bold hover:shadow-lg transition-all disabled:opacity-50 mb-6 flex items-center justify-center space-x-3",children:t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),i.jsx("span",{children:"Detecting..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(HE,{className:"w-6 h-6"}),i.jsx("span",{children:"Auto-detect my location"})]})}),i.jsxs("div",{className:"relative mb-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("div",{className:"w-full border-t border-blush-200"})}),i.jsx("div",{className:"relative flex justify-center text-lg",children:i.jsx("span",{className:"px-3 bg-cream-50 text-blush-500",children:"or choose manually"})})]}),i.jsxs("div",{className:"space-y-4 mb-8",children:[i.jsx("label",{className:"block text-lg font-semibold text-charcoal-800 mb-2",children:"Select your city"}),h.length>0?i.jsxs("select",{value:l,onChange:x=>c(x.target.value),className:"w-full border border-blush-200 rounded-2xl px-5 py-4 text-lg focus:ring-2 focus:ring-blush-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"Choose a city"}),h.map(x=>i.jsx("option",{value:x,children:x},x))]}):i.jsx("div",{className:"text-charcoal-500 text-base",children:"No cities available."})]}),i.jsxs("div",{className:"flex space-x-4",children:[e&&i.jsx("button",{onClick:()=>o(!1),className:"flex-1 bg-cream-100 text-charcoal-700 py-4 px-6 rounded-2xl text-lg font-semibold hover:bg-cream-200 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:f,disabled:!l,className:"flex-1 bg-blush-600 hover:bg-blush-700 text-white py-4 px-6 rounded-2xl text-lg font-bold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:"Confirm"})]})]})})})},D5=()=>{const{user:e}=Ut(),[t,r]=b.useState(!1),[n,s]=b.useState([]),[a,o]=b.useState(null),[l,c]=b.useState([]),[u,d]=b.useState(""),[h,f]=b.useState(""),[m,x]=b.useState(!1),[v,N]=b.useState(!1),y=b.useRef(null);b.useEffect(()=>{e&&t&&g()},[e,t]),b.useEffect(()=>{a&&(w(),j())},[a]),b.useEffect(()=>{p()},[l]);const p=()=>{var E;(E=y.current)==null||E.scrollIntoView({behavior:"smooth"})},g=async()=>{if(e)try{const{data:E,error:W}=await I.from("support_tickets").select("*").eq("user_id",e.id).order("updated_at",{ascending:!1});if(W){console.error("Error fetching tickets:",W);return}s(E||[]);const J=E==null?void 0:E.find(ee=>ee.status!=="closed"&&ee.status!=="resolved");J&&!a&&o(J)}catch(E){console.error("Error in fetchTickets:",E)}},w=async()=>{if(a)try{const{data:E,error:W}=await I.from("support_messages").select(`
          *,
          profiles!support_messages_user_id_fkey (
            name,
            role
          )
        `).eq("ticket_id",a.id).order("created_at",{ascending:!0});if(W){console.error("Error fetching messages:",W);return}c(E||[])}catch(E){console.error("Error in fetchMessages:",E)}},j=()=>{if(!a)return;const E=I.channel("support_messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"support_messages",filter:`ticket_id=eq.${a.id}`},W=>{const J=W.new;c(ee=>[...ee,J])}).subscribe();return()=>{E.unsubscribe()}},S=async()=>{if(!(!e||!h.trim())){N(!0);try{const{data:E,error:W}=await I.from("support_tickets").insert({user_id:e.id,subject:h,status:"open",priority:"medium"}).select().single();if(W){console.error("Error creating ticket:",W);return}s(J=>[E,...J]),o(E),f(""),x(!1)}catch(E){console.error("Error in createTicket:",E)}finally{N(!1)}}},_=async()=>{if(!(!e||!a||!u.trim())){N(!0);try{const{error:E}=await I.from("support_messages").insert({ticket_id:a.id,user_id:e.id,message:u,is_staff:!1});if(E){console.error("Error sending message:",E);return}d(""),a.status==="resolved"&&(await I.from("support_tickets").update({status:"open",updated_at:new Date().toISOString()}).eq("id",a.id),o(W=>W?{...W,status:"open"}:null))}catch(E){console.error("Error in sendMessage:",E)}finally{N(!1)}}},C=E=>{switch(E){case"open":return"bg-blush-600 text-white";case"in_progress":return"bg-mint-200 text-mint-900";case"resolved":return"bg-lavender-200 text-lavender-900";case"closed":return"bg-cream-200 text-cream-900";default:return"bg-cream-200 text-cream-900"}},O=E=>{switch(E){case"urgent":return"bg-blush-200 text-blush-900";case"high":return"bg-blush-100 text-blush-700";case"medium":return"bg-mint-100 text-mint-700";case"low":return"bg-cream-100 text-cream-700";default:return"bg-cream-200 text-cream-900"}};return i.jsxs(i.Fragment,{children:[i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(!0),className:"fixed bottom-6 right-6 mb-24 bg-blush-600 hover:bg-blush-700 text-white p-4 rounded-full shadow-lg z-40 transition-all",children:i.jsx(qa,{className:"w-6 h-6"})}),i.jsx(Vt,{children:t&&i.jsxs(i.Fragment,{children:[i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>r(!1),className:"fixed inset-0 bg-black bg-opacity-50 z-40"}),i.jsxs(L.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",damping:25,stiffness:200},className:"fixed right-0 top-0 h-full w-full max-w-md bg-cream-50 shadow-2xl z-50 flex flex-col",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-blush-100 bg-blush-50",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-blush-600 p-2 rounded-lg",children:i.jsx(ng,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-blush-900",children:"Support"}),i.jsx("p",{className:"text-sm text-blush-700",children:"We're here to help"})]})]}),i.jsx("button",{onClick:()=>r(!1),className:"text-blush-600 hover:text-blush-800 p-2 hover:bg-blush-100 rounded-lg transition-colors",children:i.jsx(ir,{className:"w-5 h-5"})})]}),a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 border-b border-blush-200 bg-blush-50",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>o(null),className:"text-blush-600 hover:text-blush-800 text-sm font-medium",children:" Back to tickets"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(a.status)}`,children:a.status}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(a.priority)}`,children:a.priority})]})]}),i.jsx("h3",{className:"font-semibold text-blush-900 mt-2",children:a.subject})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[l.map(E=>i.jsx("div",{className:`flex ${E.is_staff?"justify-start":"justify-end"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${E.is_staff?"bg-cream-100 text-cream-900":"bg-blush-600 text-white"}`,children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[E.is_staff?i.jsx(ng,{className:"w-3 h-3"}):i.jsx(Ar,{className:"w-3 h-3"}),i.jsx("span",{className:"text-xs font-medium",children:E.is_staff?"Support":"You"})]}),i.jsx("p",{className:"text-sm",children:E.message}),i.jsx("p",{className:`text-xs mt-1 ${E.is_staff?"text-cream-500":"text-blush-200"}`,children:Oa(new Date(E.created_at),{addSuffix:!0})})]})},E.id)),i.jsx("div",{ref:y})]}),i.jsx("div",{className:"p-4 border-t border-blush-200",children:i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:u,onChange:E=>d(E.target.value),onKeyPress:E=>E.key==="Enter"&&_(),placeholder:"Type your message...",className:"flex-1 border border-blush-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blush-500 focus:border-transparent",disabled:v}),i.jsx("button",{onClick:_,disabled:!u.trim()||v,className:"bg-blush-600 hover:bg-blush-700 text-white p-2 rounded-lg transition-colors disabled:opacity-50",children:i.jsx(Hf,{className:"w-4 h-4"})})]})})]}):i.jsx("div",{className:"flex-1 p-6",children:m?i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-blush-900",children:"Create New Ticket"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blush-800 mb-2",children:"What can we help you with?"}),i.jsx("input",{type:"text",value:h,onChange:E=>f(E.target.value),placeholder:"Describe your issue...",className:"w-full border border-blush-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blush-500 focus:border-transparent"})]}),i.jsxs("div",{className:"flex space-x-3",children:[i.jsx("button",{onClick:()=>x(!1),className:"flex-1 bg-cream-100 text-cream-700 py-2 px-4 rounded-lg hover:bg-cream-200 transition-colors",children:"Cancel"}),i.jsx("button",{onClick:S,disabled:!h.trim()||v,className:"flex-1 bg-blush-600 hover:bg-blush-700 text-white py-2 px-4 rounded-lg transition-colors disabled:opacity-50",children:v?"Creating...":"Create Ticket"})]})]}):i.jsxs("div",{className:"space-y-4",children:[n.length>0&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-blush-900 mb-3",children:"Your Tickets"}),i.jsx("div",{className:"space-y-3",children:n.map(E=>i.jsxs("div",{onClick:()=>o(E),className:"p-4 border border-blush-200 rounded-lg hover:bg-blush-50 cursor-pointer transition-colors",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("h4",{className:"font-medium text-blush-900 text-sm",children:E.subject}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C(E.status)}`,children:E.status}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O(E.priority)}`,children:E.priority})]})]}),i.jsx("p",{className:"text-xs text-blush-600",children:Oa(new Date(E.updated_at),{addSuffix:!0})})]},E.id))})]}),i.jsxs("button",{onClick:()=>x(!0),className:"w-full bg-blush-600 hover:bg-blush-700 text-white py-3 px-4 rounded-lg transition-colors flex items-center justify-center space-x-2",children:[i.jsx(Yn,{className:"w-4 h-4"}),i.jsx("span",{children:"New Support Ticket"})]}),i.jsxs("div",{className:"bg-blush-50 border border-blush-200 rounded-lg p-4",children:[i.jsx("h4",{className:"font-medium text-blush-900 mb-2",children:"Quick Help"}),i.jsxs("div",{className:"space-y-2 text-sm text-blush-700",children:[i.jsx("p",{children:" Order issues: Check your order status first"}),i.jsx("p",{children:" Delivery questions: Track your package"}),i.jsx("p",{children:" Payment problems: Contact us immediately"}),i.jsx("p",{children:" Product quality: We'll make it right"})]})]})]})})]})]})})]})},I5=()=>{const[e,t]=b.useState("connecting"),[r,n]=b.useState(!1),[s,a]=b.useState(!1);b.useEffect(()=>{const c=()=>{const d=iu();t(d),n(d==="failed"||d==="connecting")};c();const u=setInterval(c,5e3);return()=>clearInterval(u)},[]);const o=async()=>{a(!0),xv(),setTimeout(()=>{t(iu()),a(!1),iu()==="connected"&&setTimeout(()=>n(!1),2e3)},2e3)},l=async()=>{a(!0);const{healthy:c}=await w_();t(c?"connected":"failed"),a(!1),c&&setTimeout(()=>n(!1),2e3)};return r?i.jsx(Vt,{children:i.jsx(L.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:"fixed top-4 right-4 z-50 max-w-sm",children:i.jsx("div",{className:`rounded-xl shadow-lg border p-4 ${e==="connected"?"bg-green-50 border-green-200":e==="connecting"?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"flex-shrink-0",children:e==="connected"?i.jsx(dn,{className:"w-5 h-5 text-green-500"}):e==="connecting"?i.jsx(ag,{className:"w-5 h-5 text-yellow-500 animate-spin"}):i.jsx(Bf,{className:"w-5 h-5 text-red-500"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:`text-sm font-semibold ${e==="connected"?"text-green-900":e==="connecting"?"text-yellow-900":"text-red-900"}`,children:e==="connected"?"Connected":e==="connecting"?"Connecting...":"Connection Failed"}),i.jsx("p",{className:`text-sm mt-1 ${e==="connected"?"text-green-700":e==="connecting"?"text-yellow-700":"text-red-700"}`,children:e==="connected"?"Database connection is working properly.":e==="connecting"?"Attempting to connect to the database...":"Unable to connect to the database. Some features may not work."}),e==="failed"&&i.jsxs("div",{className:"mt-3 flex space-x-2",children:[i.jsxs("button",{onClick:o,disabled:s,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(ag,{className:`w-3 h-3 mr-1 ${s?"animate-spin":""}`}),"Retry"]}),i.jsx("button",{onClick:l,disabled:s,className:"inline-flex items-center px-3 py-1.5 border border-gray-300 text-xs font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Check Status"})]})]}),i.jsxs("button",{onClick:()=>n(!1),className:`flex-shrink-0 hover:opacity-75 ${e==="connected"?"text-green-400":e==="connecting"?"text-yellow-400":"text-red-400"}`,children:[i.jsx("span",{className:"sr-only",children:"Close"}),i.jsx("svg",{className:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]})})})}):null},$5=()=>{const[e,t]=b.useState([]),[r,n]=b.useState(0),[s,a]=b.useState(!0),o=b.useRef(null),{scrollYProgress:l}=rw({target:o,offset:["start start","end start"]}),c=On(l,[0,1],[0,120]),u=On(l,[0,1],[1,1.08]),d=On(l,[0,.2,1],[0,.7,.7]),h=On(l,[0,1],[60,0]),f=On(l,[0,.2,1],[0,1,1]);b.useEffect(()=>{m()},[]);const m=async()=>{try{console.log("Fetching hero videos...");const{data:y,error:p}=await I.from("hero_videos").select("*").eq("is_active",!0).order("order_index");if(p){console.error("Error fetching hero videos:",p),console.warn("Using fallback hero content");return}y&&y.length>0&&(console.log("Hero videos loaded:",y.length),t(y))}catch(y){console.error("Error in fetchHeroVideos:",y)}finally{a(!1)}};b.useEffect(()=>{if(e.length>0){const y=setInterval(()=>{n(p=>(p+1)%e.length)},6e3);return()=>clearInterval(y)}},[e.length]);const x=()=>{n(y=>(y+1)%e.length)},v=()=>{n(y=>(y-1+e.length)%e.length)},N=()=>{const y=document.getElementById("products-section");y&&y.scrollIntoView({behavior:"smooth"})};return s?i.jsx("div",{className:"relative w-full h-[340px] md:h-[420px] lg:h-[500px] bg-gradient-to-br from-amber-50 to-orange-100 overflow-hidden rounded-2xl shadow-2xl flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):e.length===0?i.jsx("div",{className:"relative w-full h-[340px] md:h-[420px] lg:h-[500px] bg-gradient-to-br from-amber-50 to-orange-100 overflow-hidden rounded-2xl shadow-2xl flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-orange-700",children:[i.jsx("h2",{className:"text-2xl font-bold mb-2",children:"No videos available"}),i.jsx("p",{children:"Admin needs to add hero videos"})]})}):i.jsxs(L.div,{ref:o,className:"relative w-full h-[340px] md:h-[420px] lg:h-[500px] bg-gradient-to-br from-amber-50 to-orange-100 overflow-hidden",initial:{opacity:0,scale:.96},whileInView:{opacity:1,scale:1},viewport:{once:!0,amount:.6},transition:{duration:.8,ease:"easeOut"},children:[i.jsx(Vt,{mode:"wait",children:i.jsxs(L.div,{initial:{x:100,opacity:0},animate:{x:0,opacity:1},exit:{x:-100,opacity:0},transition:{duration:.8,ease:"easeInOut"},className:"absolute inset-0",children:[i.jsxs(L.div,{className:"absolute inset-0",style:{y:c,scale:u},children:[i.jsx("img",{src:e[r].video_url,alt:e[r].title,className:"w-full h-full object-cover"}),i.jsx(L.div,{className:"absolute inset-0 bg-black/70",style:{opacity:d}})]}),i.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center",style:{y:h,opacity:f},children:i.jsxs("div",{className:"text-center text-white max-w-2xl mx-auto px-4",children:[i.jsxs("h1",{className:"text-3xl md:text-6xl lg:text-7xl font-bold mb-4 leading-tight drop-shadow-lg whitespace-nowrap",children:["Every Gift Has a ",i.jsx("span",{className:"text-blush-400",children:"Story"})]}),i.jsx("h2",{className:"text-base md:text-2xl lg:text-3xl mb-4 font-light",children:"Meet the Makers"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("p",{className:"text-base md:text-lg mb-1",children:e[r].description}),i.jsxs("p",{className:"text-amber-200 text-sm md:text-base",children:["by ",e[r].maker_name,"  ",e[r].location]})]}),i.jsxs("button",{onClick:N,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-3 rounded-full text-base md:text-lg font-semibold transition-all duration-300 inline-flex items-center space-x-2 shadow-lg",children:[i.jsx("span",{children:"Explore Their Creations"}),i.jsx(Wf,{className:"w-5 h-5"})]})]})})]},r)}),e.length>1&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-30 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-colors",children:i.jsx(IE,{className:"w-6 h-6"})}),i.jsx("button",{onClick:x,className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-30 bg-white/20 backdrop-blur-sm text-white p-3 rounded-full hover:bg-white/30 transition-colors",children:i.jsx($E,{className:"w-6 h-6"})}),i.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 z-30 flex space-x-2",children:e.map((y,p)=>i.jsx("button",{onClick:()=>n(p),className:`w-3 h-3 rounded-full transition-colors ${p===r?"bg-white":"bg-white/50"}`},p))})]})]})},Cw=({product:e,className:t=""})=>{const{userCity:r}=dc();return e.instantDeliveryEligible&&r&&r.toLowerCase()===e.city.toLowerCase()?i.jsxs(L.div,{initial:{scale:0},animate:{scale:1},className:`bg-accent-100 text-charcoal-900 text-xs px-3 py-1.5 rounded-full flex items-center space-x-1 shadow-lg ${t}`,children:[i.jsx(vt,{className:"w-3 h-3"}),i.jsx("span",{className:"font-medium",children:"Instant Delivery"})]}):null},F5=({product:e})=>{const{userCity:t}=dc(),r=e.instantDeliveryEligible&&t&&t.toLowerCase()===e.city.toLowerCase();return i.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[i.jsx(Gs,{className:"w-4 h-4 text-accent-500"}),i.jsx("span",{className:"text-accent-700",children:r?"Delivery in 2-4 hours":"Delivery in 3-7 days"})]})},Dl=({product:e})=>{const[t,r]=b.useState(!1),[n,s]=b.useState(!1),{addToCart:a}=jn(),o=()=>{a(e)},l=()=>{a(e,{giftPackaging:!0})};return i.jsx(ke,{to:`/product/${e.id}`,className:"block h-full",children:i.jsxs(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},whileHover:{y:-8},className:"bg-cream-50 rounded-2xl shadow-lg border border-blush-100 overflow-hidden flex flex-col h-full p-2 sm:p-4 lg:p-8",onHoverStart:()=>s(!0),onHoverEnd:()=>s(!1),children:[i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("img",{src:e.image,alt:e.name,className:"w-full h-32 sm:h-48 lg:h-64 object-cover group-hover:scale-105 transition-transform duration-700 rounded-lg"}),i.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),i.jsx("div",{className:"absolute top-2 left-2 sm:top-4 sm:left-4",children:i.jsx(Cw,{product:e})}),e.videoUrl&&i.jsx("div",{className:"absolute top-2 right-2 sm:top-4 sm:right-4",children:i.jsx("div",{className:"bg-blush-700/80 backdrop-blur-sm text-white p-2.5 rounded-full shadow-soft",children:i.jsx(Wf,{className:"w-3 h-3 sm:w-4 sm:h-4"})})}),i.jsx(L.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>r(!t),className:"absolute bottom-2 right-2 sm:bottom-4 sm:right-4 bg-cream-100/90 backdrop-blur-sm p-2 sm:p-3 rounded-full hover:bg-cream-200 transition-all shadow-soft",children:i.jsx(rs,{className:`w-4 h-4 sm:w-5 sm:h-5 transition-colors ${t?"text-blush-600 fill-current":"text-charcoal-600"}`})}),i.jsx(Vt,{children:n&&i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},className:"absolute bottom-2 left-2 sm:bottom-4 sm:left-4 hidden lg:flex space-x-2",children:[i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:o,className:"bg-blush-600 hover:bg-blush-700 text-white px-4 py-2.5 rounded-full text-sm font-medium transition-all shadow-soft flex items-center space-x-2",children:[i.jsx(yt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Add to Cart"})]}),i.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"bg-mint-600 hover:bg-mint-700 text-white px-4 py-2.5 rounded-full text-sm font-medium transition-all shadow-soft flex items-center space-x-2",children:[i.jsx(kt,{className:"w-4 h-4"}),i.jsx("span",{className:"hidden sm:inline",children:"Gift"})]})]})})]}),i.jsxs("div",{className:"p-2 sm:p-4 lg:p-6 flex-1 flex flex-col",children:[i.jsxs("div",{className:"flex items-start justify-between mb-6",children:[i.jsx("h3",{className:"font-bold text-charcoal-800 text-sm sm:text-base lg:text-lg line-clamp-2 leading-tight flex-1 mr-2 font-serif",children:e.name}),i.jsxs("span",{className:"text-sm sm:text-lg lg:text-xl font-bold text-blush-700 whitespace-nowrap",children:["",e.price.toLocaleString()]})]}),i.jsx("div",{className:"flex items-center space-x-1 mb-1",children:i.jsx("span",{className:"text-xs sm:text-sm font-semibold text-charcoal-700",children:e.sellerName})}),i.jsx("p",{className:"text-charcoal-600 text-xs sm:text-sm mb-2 line-clamp-2 leading-snug",children:e.description}),i.jsxs("div",{className:"mb-2 space-y-1",children:[e.section&&i.jsxs("div",{className:"text-xs text-charcoal-700",children:[i.jsx("b",{children:"Section:"})," ",e.section]}),e.weight&&i.jsxs("div",{className:"text-xs text-charcoal-700",children:[i.jsx("b",{children:"Weight:"})," ",e.weight,"g"]}),e.customisable&&i.jsx("div",{className:"inline-block bg-mint-100 text-mint-800 text-xs px-2 py-0.5 rounded-full font-semibold mr-2",children:"Customisable"}),e.customisable&&e.customQuestions&&e.customQuestions.length>0&&i.jsxs("div",{className:"text-xs text-charcoal-700 mt-1",children:[i.jsx("b",{children:"Custom Questions:"}),i.jsx("ul",{className:"list-disc list-inside ml-2",children:e.customQuestions.map((c,u)=>i.jsx("li",{children:c},u))})]})]}),i.jsx("div",{className:"mb-2",children:i.jsx(F5,{product:e})}),i.jsxs("div",{className:"flex items-center space-x-1 mb-2",children:[i.jsx("div",{className:"flex items-center space-x-0.5",children:[...Array(5)].map((c,u)=>i.jsx(en,{className:`w-3 h-3 sm:w-4 sm:h-4 lg:w-4 lg:h-4 ${u<4?"text-blush-400 fill-current":"text-charcoal-400"}`},u))}),i.jsx("span",{className:"text-xs sm:text-sm text-charcoal-700 font-semibold",children:"(4.8)"}),i.jsx("span",{className:"text-xs text-charcoal-500 hidden sm:inline",children:" 24 reviews"})]}),i.jsxs("div",{className:"flex space-x-1 sm:space-x-2 mt-auto",children:[i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:o,className:"flex-1 bg-blush-600 hover:bg-blush-700 text-white py-2 sm:py-3 rounded-lg font-semibold transition-all duration-300 shadow-soft hover:shadow-warm flex items-center justify-center space-x-1 sm:space-x-2 text-xs sm:text-sm",children:[i.jsx(yt,{className:"w-3 h-3 sm:w-4 sm:h-4"}),i.jsx("span",{children:"Add"})]}),i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:l,className:"bg-mint-600 hover:bg-mint-700 text-white px-2 sm:px-4 py-2 sm:py-3 rounded-lg transition-all duration-300 shadow-soft hover:shadow-warm flex items-center justify-center",children:i.jsx(kt,{className:"w-3 h-3 sm:w-4 sm:h-4"})})]})]})]})})},V5=()=>{const{products:e}=es(),t=e.filter(c=>c.status==="approved").slice(0,6),r=b.useRef(null),{scrollY:n}=rw(),s=typeof window<"u"?window.innerHeight:800,a=On(n,[0,s*.7,s],[1,.7,0]),o=On(n,[0,s*.7,s],[1,.98,.95]),l=[{icon:rs,title:"Handmade with Love",description:"Every product is crafted by passionate artisans who pour their heart into their work."},{icon:vt,title:"Instant Delivery",description:"Get your gifts delivered within hours in supported cities."},{icon:Ml,title:"Support Small Business",description:"Directly support local artisans and small businesses in your community."},{icon:sw,title:"Verified Makers",description:"All our sellers are verified and committed to quality craftsmanship."}];return i.jsxs("div",{className:"min-h-screen bg-gradient-elegant pt-0 md:pt-0",children:[i.jsx("div",{ref:r,className:"relative w-full overflow-visible mt-0",children:i.jsx(L.div,{className:"sticky top-0 z-30 w-full",style:{opacity:a,scale:o},children:i.jsx($5,{})})}),i.jsx("section",{className:"pt-8 pb-4 bg-cream-50 w-full",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-charcoal-800 mb-10 text-center font-serif",children:"Shop by Category"}),i.jsx("div",{className:"hidden sm:grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-6",children:[{title:"For Her",img:"/category-her.jpg",link:"/shop?cat=her"},{title:"For Him",img:"/category-him.jpg",link:"/shop?cat=him"},{title:"For Kids",img:"/category-kids.jpg",link:"/shop?cat=kids"},{title:"Home",img:"/category-home.jpg",link:"/shop?cat=home"},{title:"Occasions",img:"/category-occasions.jpg",link:"/shop?cat=occasions"},{title:"Personalised",img:"/category-personalised.jpg",link:"/shop?cat=personalised"}].map(c=>i.jsxs(ke,{to:c.link,className:"group block rounded-2xl overflow-hidden bg-white border border-cream-200 shadow-subtle hover:shadow-lg transition-all",children:[i.jsx("img",{src:c.img,alt:c.title,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"p-4 text-center",children:i.jsx("span",{className:"text-lg font-semibold text-charcoal-800 group-hover:text-blush-700 transition-colors",children:c.title})})]},c.title))}),i.jsx("div",{className:"sm:hidden flex space-x-4 overflow-x-auto pb-2",children:[{title:"For Her",img:"/category-her.jpg",link:"/shop?cat=her"},{title:"For Him",img:"/category-him.jpg",link:"/shop?cat=him"},{title:"For Kids",img:"/category-kids.jpg",link:"/shop?cat=kids"},{title:"Home",img:"/category-home.jpg",link:"/shop?cat=home"},{title:"Occasions",img:"/category-occasions.jpg",link:"/shop?cat=occasions"},{title:"Personalised",img:"/category-personalised.jpg",link:"/shop?cat=personalised"}].map(c=>i.jsxs(ke,{to:c.link,className:"min-w-[60vw] max-w-[70vw] group block rounded-2xl overflow-hidden bg-white border border-cream-200 shadow-subtle hover:shadow-lg transition-all",children:[i.jsx("img",{src:c.img,alt:c.title,className:"w-full h-32 object-cover group-hover:scale-105 transition-transform duration-500"}),i.jsx("div",{className:"p-4 text-center",children:i.jsx("span",{className:"text-lg font-semibold text-charcoal-800 group-hover:text-blush-700 transition-colors",children:c.title})})]},c.title))})]})}),i.jsxs("section",{id:"products-section",className:"pt-8 pb-4 bg-cream-100 w-full",children:[i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-6",children:[i.jsxs("div",{className:"inline-flex items-center space-x-4 bg-blush-100 px-14 py-6 rounded-full mb-10 shadow-subtle",children:[i.jsx(kt,{className:"w-8 h-8 text-blush-600"}),i.jsx("span",{className:"text-blush-700 font-semibold text-xl",children:"Featured Collections"})]}),i.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-charcoal-800 mb-6 font-serif",children:["Curated"," ",i.jsx("span",{className:"text-blush-600",children:"Masterpieces"})]}),i.jsx("p",{className:"text-xl text-charcoal-600 max-w-2xl mx-auto leading-relaxed font-light",children:"Handpicked creations from our most talented artisans"})]}),i.jsx("div",{className:"hidden sm:grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 lg:gap-6 w-full px-4 lg:px-8 xl:px-12 mb-8 lg:mb-12",children:t.map((c,u)=>i.jsx(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:u*.1},whileHover:{y:-8},children:i.jsx(Dl,{product:c})},c.id))}),i.jsx("div",{className:"sm:hidden flex space-x-4 overflow-x-auto px-4 mb-8 pb-2",children:t.map((c,u)=>i.jsx("div",{className:"min-w-[280px] max-w-[300px] flex-shrink-0",children:i.jsx(Dl,{product:c})},c.id))}),i.jsx(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center",children:i.jsxs(ke,{to:"/shop",className:"inline-flex items-center space-x-4 bg-white text-blush-700 px-12 py-5 rounded-xl font-semibold hover:shadow-xl transition-all duration-300 group text-2xl",children:[i.jsx("span",{children:"Explore All Collections"}),i.jsx(ea,{className:"w-6 h-6 group-hover:translate-x-1 transition-transform"})]})})]}),i.jsx("section",{className:"pt-8 pb-4 bg-white w-full",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-charcoal-800 mb-10 text-center font-serif",children:"Gift Inspiration & Stories"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-cream-50 rounded-2xl shadow-subtle border border-blush-100 p-6 flex flex-col items-center text-center",children:[i.jsx("img",{src:"/inspiration1.jpg",alt:"Inspiration 1",className:"w-full h-48 object-cover rounded-xl mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-blush-700 mb-2",children:"A Gift That Made Her Day"}),i.jsx("p",{className:"text-charcoal-600",children:`"I found the perfect handmade necklace for my mom's birthday. She loved the personal touch!"`})]}),i.jsxs("div",{className:"bg-cream-50 rounded-2xl shadow-subtle border border-blush-100 p-6 flex flex-col items-center text-center",children:[i.jsx("img",{src:"/inspiration2.jpg",alt:"Inspiration 2",className:"w-full h-48 object-cover rounded-xl mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-blush-700 mb-2",children:"Handcrafted Memories"}),i.jsx("p",{className:"text-charcoal-600",children:'"Our anniversary hamper was so unique and beautifully packaged. Thank you for making it special!"'})]}),i.jsxs("div",{className:"bg-cream-50 rounded-2xl shadow-subtle border border-blush-100 p-6 flex flex-col items-center text-center",children:[i.jsx("img",{src:"/inspiration3.jpg",alt:"Inspiration 3",className:"w-full h-48 object-cover rounded-xl mb-4"}),i.jsx("h3",{className:"text-xl font-bold text-blush-700 mb-2",children:"Gifting with Heart"}),i.jsx("p",{className:"text-charcoal-600",children:'"I love supporting artisans and finding gifts that tell a story. The quality is unmatched!"'})]})]})]})}),i.jsxs("section",{className:"pt-8 pb-4 bg-cream-50 w-full",children:[i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:[i.jsxs("div",{className:"inline-flex items-center space-x-4 bg-blush-100 px-14 py-6 rounded-full mb-10",children:[i.jsx(hr,{className:"w-8 h-8 text-blush-600"}),i.jsx("span",{className:"text-blush-700 font-semibold text-xl",children:"Why Choose GiftFlare"})]}),i.jsxs("h2",{className:"text-4xl md:text-5xl lg:text-6xl font-bold text-charcoal-800 mb-6 font-serif",children:["Where"," ",i.jsx("span",{className:"text-blush-600",children:"Craftsmanship"})," ","Meets"," ",i.jsx("span",{className:"text-mint-600",children:"Elegance"})]}),i.jsx("p",{className:"text-xl text-charcoal-600 max-w-2xl mx-auto leading-relaxed font-light",children:"Discover thoughtfully curated handcrafted gifts that tell stories and support the artisans who create them."})]}),i.jsx("div",{className:"w-full overflow-x-auto",children:i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 w-full px-1 sm:px-2 md:px-4 xl:px-12",children:l.map((c,u)=>{const d=c.icon;return i.jsxs(L.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:u*.1},whileHover:{y:-8},className:"bg-blush-100 rounded-2xl p-2 sm:p-6 flex flex-col items-center justify-between shadow-subtle hover:shadow-warm transition-all duration-500 border border-blush-200 min-h-[140px] sm:min-h-[300px]",children:[i.jsx("div",{className:"bg-blush-600 w-7 h-7 sm:w-14 sm:h-14 rounded-2xl flex items-center justify-center mb-2 sm:mb-4",children:i.jsx(d,{className:"w-4 h-4 sm:w-7 sm:h-7 text-white"})}),i.jsx("h3",{className:"text-base sm:text-2xl font-bold text-charcoal-800 mb-1 sm:mb-2 font-serif text-center",children:c.title}),i.jsx("p",{className:"text-xs sm:text-lg text-charcoal-600 leading-relaxed font-light text-center",children:c.description})]},c.title)})})})]}),i.jsx("section",{className:"py-16 md:py-24 bg-blush-600",children:i.jsx("div",{className:"max-w-4xl mx-auto text-center px-4 sm:px-6 lg:px-8",children:i.jsxs(L.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[i.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-white mb-6",children:"Ready to Find the Perfect Gift?"}),i.jsx("p",{className:"text-lg md:text-xl text-blush-100 mb-10 leading-relaxed",children:"Join thousands of happy customers who've discovered the joy of giving handmade gifts that truly make a difference."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center",children:[i.jsxs(ke,{to:"/shop",className:"inline-flex items-center space-x-2 bg-white text-blush-700 px-10 md:px-12 py-4 md:py-5 rounded-2xl font-semibold hover:shadow-xl transition-all text-lg",children:[i.jsx("span",{children:"Start Shopping"}),i.jsx(ea,{className:"w-5 h-5 md:w-6 md:h-6"})]}),i.jsxs(ke,{to:"/register",className:"inline-flex items-center space-x-2 bg-blush-700 hover:bg-blush-800 text-white px-10 md:px-12 py-4 md:py-5 rounded-2xl font-semibold transition-all border-2 border-blush-500 text-lg",children:[i.jsx("span",{children:"Become a Seller"}),i.jsx(ea,{className:"w-5 h-5 md:w-6 md:h-6"})]})]})]})})})]})},U5=()=>{const[e,t]=b.useState(""),[r,n]=b.useState(""),[s,a]=b.useState(!1),[o,l]=b.useState(!1),[c,u]=b.useState(""),{login:d}=Ut(),h=ri(),f=async m=>{m.preventDefault(),l(!0),u("");try{await d(e,r)?h("/"):u("Invalid email or password. Please check your credentials and try again.")}catch(x){console.error("Login error:",x),u("An error occurred while signing in. Please try again.")}finally{l(!1)}};return i.jsxs("div",{className:"min-h-screen flex bg-gradient-elegant",children:[i.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsxs(L.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"max-w-lg w-full space-y-10 bg-cream-50/90 rounded-3xl shadow-2xl p-10 border border-blush-100",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"bg-blush-600 p-4 rounded-2xl shadow-lg",children:i.jsx(hr,{className:"w-10 h-10 text-white"})})}),i.jsx("h2",{className:"mt-2 text-4xl font-bold text-charcoal-800",children:"Welcome back to GiftFlare"}),i.jsx("p",{className:"mt-2 text-lg text-charcoal-600",children:"Sign in to your account to continue"})]}),i.jsxs("form",{className:"space-y-8",onSubmit:f,children:[c&&i.jsx(L.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 border border-red-200 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(Bf,{className:"w-5 h-5 text-red-600 mt-0.5 mr-2 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-base text-red-800",children:c}),i.jsxs("p",{className:"text-xs text-red-600 mt-1",children:["Don't have an account? ",i.jsx(ke,{to:"/register",className:"underline hover:no-underline",children:"Create one here"})]})]})]})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Email address"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e,onChange:m=>t(m.target.value),className:"block w-full px-4 py-3 pl-12 border border-blush-300 rounded-xl focus:ring-2 focus:ring-blush-200 focus:border-transparent transition-colors text-lg",placeholder:"Enter your email"}),i.jsx(ow,{className:"w-6 h-6 text-blush-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:s?"text":"password",required:!0,value:r,onChange:m=>n(m.target.value),className:"block w-full px-4 py-3 pl-12 pr-12 border border-blush-300 rounded-xl focus:ring-2 focus:ring-blush-200 focus:border-transparent transition-colors text-lg",placeholder:"Enter your password"}),i.jsx(Jd,{className:"w-6 h-6 text-blush-500 absolute left-4 top-3"}),i.jsx("button",{type:"button",onClick:()=>a(!s),className:"absolute right-4 top-3 text-blush-500 hover:text-blush-700 transition-colors",children:s?i.jsx(Qd,{className:"w-6 h-6"}):i.jsx(Gn,{className:"w-6 h-6"})})]})]}),i.jsx("div",{children:i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:o,className:"w-full bg-blush-600 hover:bg-blush-700 text-white py-4 px-4 rounded-xl text-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:o?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing in..."]}):"Sign in"})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-lg text-charcoal-600",children:["Don't have an account?"," ",i.jsx(ke,{to:"/register",className:"text-blush-600 hover:text-blush-700 font-semibold transition-colors",children:"Sign up here"})]})})]})]})}),i.jsx("div",{className:"hidden lg:block lg:w-1/2",children:i.jsx("img",{className:"h-full w-full object-cover",src:"https://images.pexels.com/photos/5553045/pexels-photo-5553045.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Artisan crafting"})})]})},B5=()=>{const[e,t]=b.useState({name:"",email:"",password:"",confirmPassword:"",role:"buyer",city:"Mumbai",businessName:"",description:"",mobile:"",verificationDoc:""}),[r,n]=b.useState(!1),[s,a]=b.useState(!1),[o,l]=b.useState(""),{register:c}=Ut(),u=ri(),d=["Mumbai","Delhi","Bangalore","Chennai","Kolkata","Hyderabad"],h=m=>{t({...e,[m.target.name]:m.target.value})},f=async m=>{if(m.preventDefault(),a(!0),l(""),e.password!==e.confirmPassword){l("Passwords do not match"),a(!1);return}if(e.role==="seller"&&!e.businessName.trim()){l("Business name is required for sellers"),a(!1);return}if(e.role==="seller"&&!e.mobile.trim()){l("Mobile number is required for sellers"),a(!1);return}if(e.role==="seller"&&!e.verificationDoc.trim()){l("Verification document is required for sellers"),a(!1);return}try{await c(e.email,e.password,e.name,e.role,e.city,e.role==="seller"?e.businessName:void 0,e.role==="seller"?e.description:void 0)?u("/"):l("Registration failed. Please try again.")}catch{l("An error occurred. Please try again.")}finally{a(!1)}};return i.jsxs("div",{className:"min-h-screen flex bg-gradient-elegant",children:[i.jsx("div",{className:"hidden lg:block lg:w-1/2",children:i.jsx("img",{className:"h-full w-full object-cover",src:"https://images.pexels.com/photos/5624983/pexels-photo-5624983.jpeg?auto=compress&cs=tinysrgb&w=1200",alt:"Handmade crafts"})}),i.jsx("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:i.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},className:"max-w-lg w-full space-y-10 bg-cream-50/90 rounded-3xl shadow-2xl p-10 border border-blush-100",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:i.jsx("div",{className:"bg-blush-600 p-4 rounded-2xl shadow-lg",children:i.jsx(hr,{className:"w-10 h-10 text-white"})})}),i.jsx("h2",{className:"mt-2 text-4xl font-bold text-charcoal-900",children:"Join GiftFlare Community"}),i.jsx("p",{className:"mt-2 text-lg text-charcoal-600",children:"Create your account to start gifting"})]}),i.jsxs("form",{className:"space-y-8",onSubmit:f,children:[o&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-base",children:o}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Account Type"}),i.jsx("div",{className:"grid grid-cols-3 gap-3",children:["buyer","seller","admin"].map(m=>i.jsx("button",{type:"button",onClick:()=>t({...e,role:m}),className:`px-4 py-3 rounded-xl text-lg font-semibold transition-colors ${e.role===m?"bg-blush-600 text-white border-2 border-blush-600":"bg-white text-blush-700 border-2 border-blush-300 hover:bg-cream-50"}`,children:m.charAt(0).toUpperCase()+m.slice(1)},m))})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"name",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Full Name"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"name",name:"name",type:"text",required:!0,value:e.name,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-blush-300 rounded-xl focus:ring-2 focus:ring-blush-200 focus:border-transparent text-lg",placeholder:"Enter your full name"}),i.jsx(Ar,{className:"w-6 h-6 text-blush-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Email address"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:e.email,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-blush-300 rounded-xl focus:ring-2 focus:ring-blush-200 focus:border-transparent text-lg",placeholder:"Enter your email"}),i.jsx(ow,{className:"w-6 h-6 text-blush-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"city",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"City"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("select",{id:"city",name:"city",value:e.city,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-blush-300 rounded-xl focus:ring-2 focus:ring-blush-200 focus:border-transparent text-lg",children:d.map(m=>i.jsx("option",{value:m,children:m},m))}),i.jsx(Kn,{className:"w-6 h-6 text-blush-500 absolute left-4 top-3"})]})]}),e.role==="seller"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"businessName",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Business Name"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"businessName",name:"businessName",type:"text",required:!0,value:e.businessName,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Enter your business name"}),i.jsx(ME,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"description",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Business Description"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("textarea",{id:"description",name:"description",value:e.description,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Describe your business",rows:3}),i.jsx(hr,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"mobile",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Mobile Number"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"mobile",name:"mobile",type:"tel",required:!0,value:e.mobile,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Enter your mobile number"}),i.jsx(Ar,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"verificationDoc",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Verification Document (IG handle, prior orders, etc.)"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"verificationDoc",name:"verificationDoc",type:"text",required:!0,value:e.verificationDoc,onChange:h,className:"block w-full px-4 py-3 pl-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Enter IG handle, prior orders, etc."}),i.jsx(Ar,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"password",name:"password",type:r?"text":"password",required:!0,value:e.password,onChange:h,className:"block w-full px-4 py-3 pl-12 pr-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Enter your password"}),i.jsx(Jd,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"}),i.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-3 text-primary-500 hover:text-primary-700 transition-colors",children:r?i.jsx(Qd,{className:"w-6 h-6"}):i.jsx(Gn,{className:"w-6 h-6"})})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-lg font-medium text-charcoal-800 mb-2",children:"Confirm Password"}),i.jsxs("div",{className:"mt-1 relative",children:[i.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:r?"text":"password",required:!0,value:e.confirmPassword,onChange:h,className:"block w-full px-4 py-3 pl-12 pr-12 border border-primary-300 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-transparent text-lg",placeholder:"Re-enter your password"}),i.jsx(Jd,{className:"w-6 h-6 text-primary-500 absolute left-4 top-3"}),i.jsx("button",{type:"button",onClick:()=>n(!r),className:"absolute right-4 top-3 text-primary-500 hover:text-primary-700 transition-colors",children:r?i.jsx(Qd,{className:"w-6 h-6"}):i.jsx(Gn,{className:"w-6 h-6"})})]})]}),i.jsx("div",{children:i.jsx(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},type:"submit",disabled:s,className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-4 px-4 rounded-xl text-xl font-semibold transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:s?i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Signing up..."]}):"Sign up"})}),i.jsx("div",{className:"text-center",children:i.jsxs("p",{className:"text-lg text-primary-700",children:["Already have an account?"," ",i.jsx(ke,{to:"/login",className:"text-primary-600 hover:text-primary-800 font-semibold transition-colors",children:"Sign in here"})]})})]})]})})]})},z5=()=>{const{products:e}=es(),[t,r]=b.useState(""),[n,s]=b.useState("all"),[a,o]=b.useState(!1),[l,c]=b.useState("all"),[u,d]=b.useState(!1),[h,f]=b.useState("grid"),[m,x]=b.useState("newest"),v=e.filter(g=>g.status==="approved"),N=["all",...Array.from(new Set(v.map(g=>g.city)))],y=["all",...Array.from(new Set(v.map(g=>g.category)))],p=b.useMemo(()=>{let g=v.filter(w=>{const j=w.name.toLowerCase().includes(t.toLowerCase())||w.description.toLowerCase().includes(t.toLowerCase())||w.sellerName.toLowerCase().includes(t.toLowerCase()),S=n==="all"||w.city===n,_=!a||w.instantDeliveryEligible,C=l==="all"||w.category===l;return j&&S&&_&&C});switch(m){case"price-low":g.sort((w,j)=>w.price-j.price);break;case"price-high":g.sort((w,j)=>j.price-w.price);break;case"name":g.sort((w,j)=>w.name.localeCompare(j.name));break;default:g.sort((w,j)=>new Date(j.createdAt).getTime()-new Date(w.createdAt).getTime())}return g},[v,t,n,a,l,m]);return i.jsx("div",{className:"min-h-screen bg-gradient-elegant pt-8",children:i.jsxs("div",{className:"w-full px-2 md:px-4 xl:px-12",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-12",children:[i.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-charcoal-900 mb-6",children:["Discover Handmade"," ",i.jsx("span",{className:"text-blush-600",children:"Treasures"})]}),i.jsx("p",{className:"text-xl text-charcoal-700 max-w-2xl mx-auto",children:"Browse unique products from verified artisans across India. Each piece tells a story of passion and craftsmanship."})]}),i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-cream-50 rounded-3xl shadow-lg border border-cream-200 p-6 md:p-8 mb-8",children:[i.jsxs("div",{className:"relative mb-6",children:[i.jsx(Ks,{className:"w-6 h-6 text-blush-500 absolute left-4 top-4"}),i.jsx("input",{type:"text",placeholder:"Search for products, makers, or categories...",value:t,onChange:g=>r(g.target.value),className:"w-full pl-12 pr-4 py-4 border border-cream-200 rounded-2xl focus:ring-2 focus:ring-blush-200 focus:border-transparent transition-all text-lg"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[i.jsxs("button",{onClick:()=>d(!u),className:"flex items-center space-x-2 bg-blush-100 text-blush-700 px-4 py-2 rounded-xl hover:bg-blush-200 transition-colors",children:[i.jsx(JE,{className:"w-4 h-4 text-blush-600"}),i.jsx("span",{children:"Filters"})]}),i.jsxs("div",{className:"text-sm text-charcoal-700 bg-blush-50 px-3 py-1 rounded-full border border-blush-200",children:[p.length," of ",v.length," products"]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("select",{value:m,onChange:g=>x(g.target.value),className:"border border-cream-200 rounded-xl px-4 py-2 focus:ring-2 focus:ring-blush-200 focus:border-transparent",children:[i.jsx("option",{value:"newest",children:"Newest First"}),i.jsx("option",{value:"price-low",children:"Price: Low to High"}),i.jsx("option",{value:"price-high",children:"Price: High to Low"}),i.jsx("option",{value:"name",children:"Name A-Z"})]}),i.jsxs("div",{className:"flex bg-blush-100 rounded-xl p-1",children:[i.jsx("button",{onClick:()=>f("grid"),className:`p-2 rounded-lg transition-colors ${h==="grid"?"bg-cream-50 shadow-sm":"text-blush-600"}`,children:i.jsx(UE,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>f("list"),className:`p-2 rounded-lg transition-colors ${h==="list"?"bg-cream-50 shadow-sm":"text-blush-600"}`,children:i.jsx(zE,{className:"w-4 h-4"})})]})]})]}),u&&i.jsx(L.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"border-t border-blush-200 pt-6",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-charcoal-800 mb-3",children:[i.jsx(Kn,{className:"w-4 h-4 inline mr-2"}),"City"]}),i.jsx("select",{value:n,onChange:g=>s(g.target.value),className:"w-full border border-blush-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blush-200 focus:border-transparent",children:N.map(g=>i.jsx("option",{value:g,children:g==="all"?"All Cities":g},g))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-charcoal-800 mb-3",children:"Category"}),i.jsx("select",{value:l,onChange:g=>c(g.target.value),className:"w-full border border-blush-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blush-200 focus:border-transparent",children:y.map(g=>i.jsx("option",{value:g,children:g==="all"?"All Categories":g},g))})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-semibold text-charcoal-800 mb-3",children:[i.jsx(vt,{className:"w-4 h-4 inline mr-2"}),"Delivery"]}),i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer bg-blush-50 p-3 rounded-xl hover:bg-blush-100 transition-colors border border-blush-200",children:[i.jsx("input",{type:"checkbox",checked:a,onChange:g=>o(g.target.checked),className:"rounded border-blush-300 text-blush-600 focus:ring-blush-500"}),i.jsx("span",{children:"Instant Delivery"})]})]}),i.jsx("div",{className:"flex items-end",children:i.jsxs("button",{onClick:()=>{r(""),s("all"),c("all"),o(!1)},className:"flex items-center space-x-2 text-blush-600 hover:text-blush-800 transition-colors bg-blush-50 px-4 py-3 rounded-xl hover:bg-blush-100 w-full justify-center border border-blush-200",children:[i.jsx(ir,{className:"w-4 h-4"}),i.jsx("span",{className:"font-medium",children:"Clear All"})]})})]})})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-4 lg:gap-6 mb-16",children:p.map((g,w)=>i.jsx(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:w*.05},className:"relative",children:i.jsx(Dl,{product:g})},g.id))})]})})};class W5{constructor(){this.occasionCategories={birthday:["jewelry","accessories","home-decor","art","personalized"],anniversary:["jewelry","romantic","luxury","personalized","home-decor"],wedding:["jewelry","luxury","home-decor","art","personalized"],housewarming:["home-decor","kitchen","art","plants","practical"],graduation:["jewelry","accessories","practical","personalized","art"],"baby-shower":["baby","home-decor","personalized","practical"],christmas:["home-decor","jewelry","art","personalized","seasonal"],valentines:["romantic","jewelry","personalized","art","luxury"],"mothers-day":["jewelry","home-decor","art","personalized","luxury"],"fathers-day":["accessories","practical","art","personalized","luxury"],diwali:["home-decor","jewelry","art","traditional","luxury"],holi:["art","home-decor","traditional","colorful"],eid:["jewelry","home-decor","art","traditional","luxury"],"new-year":["jewelry","accessories","art","personalized","luxury"]},this.relationPreferences={spouse:{categories:["jewelry","romantic","luxury","personalized"],budgetMultiplier:1.5},partner:{categories:["jewelry","romantic","personalized","art"],budgetMultiplier:1.3},parent:{categories:["jewelry","home-decor","art","practical"],budgetMultiplier:1.2},child:{categories:["toys","art","personalized","educational"],budgetMultiplier:.8},sibling:{categories:["accessories","art","personalized","practical"],budgetMultiplier:1},friend:{categories:["accessories","art","home-decor","practical"],budgetMultiplier:.9},colleague:{categories:["practical","home-decor","art","accessories"],budgetMultiplier:.7},boss:{categories:["luxury","art","home-decor","practical"],budgetMultiplier:1.4},teacher:{categories:["art","home-decor","practical","personalized"],budgetMultiplier:.8},neighbor:{categories:["home-decor","practical","art"],budgetMultiplier:.6}},this.ageGroupPreferences={kids:["toys","educational","colorful","fun"],teens:["accessories","trendy","art","personalized"],"young-adults":["accessories","art","trendy","personalized"],adults:["jewelry","home-decor","art","practical"],seniors:["practical","home-decor","art","traditional"]},this.personalityPreferences={creative:["art","handmade","unique","colorful"],practical:["practical","home-decor","kitchen","useful"],"luxury-loving":["jewelry","luxury","premium","elegant"],minimalist:["simple","elegant","practical","clean"],traditional:["traditional","art","home-decor","cultural"],trendy:["trendy","accessories","art","modern"],"nature-lover":["plants","natural","eco-friendly","art"],"tech-savvy":["modern","practical","accessories","trendy"]},this.interestCategories={cooking:["kitchen","practical","home-decor"],art:["art","creative","handmade"],music:["art","accessories","creative"],reading:["home-decor","practical","art"],fitness:["accessories","practical","health"],travel:["accessories","practical","art"],gardening:["plants","home-decor","natural"],photography:["art","accessories","creative"],fashion:["accessories","jewelry","trendy"],technology:["practical","accessories","modern"]}}calculateMatchScore(t,r){var h;let n=0;const s=100,a=Math.max(0,30-Math.abs(t.price-r.budget)/r.budget*30);n+=a;const o=this.occasionCategories[r.occasion.toLowerCase()]||[],l=((h=this.relationPreferences[r.relation.toLowerCase()])==null?void 0:h.categories)||[],c=this.ageGroupPreferences[r.ageGroup.toLowerCase()]||[],u=[...o,...l,...c],d=t.tags.some(f=>u.some(m=>f.toLowerCase().includes(m.toLowerCase())));if(n+=d?25:0,r.interests){const f=r.interests.some(m=>{const x=this.interestCategories[m.toLowerCase()]||[];return t.tags.some(v=>x.some(N=>v.toLowerCase().includes(N.toLowerCase())))});n+=f?20:0}if(r.personality){const f=this.personalityPreferences[r.personality.toLowerCase()]||[],m=t.tags.some(x=>f.some(v=>x.toLowerCase().includes(v.toLowerCase())));n+=m?15:0}return t.instantDeliveryEligible&&(n+=5),t.status==="approved"&&(n+=5),Math.min(s,n)}async getGiftSuggestions(t,r){var l;const n=((l=this.relationPreferences[t.relation.toLowerCase()])==null?void 0:l.budgetMultiplier)||1,s=t.budget*n;return r.filter(c=>c.price<=s*1.2&&c.status==="approved").map(c=>({product:c,score:this.calculateMatchScore(c,t),reason:this.generateReason(c,t),occasion:t.occasion,tags:c.tags})).filter(c=>c.score>30).sort((c,u)=>u.score-c.score).slice(0,12).map(c=>({product:c.product,reason:c.reason,matchScore:c.score,occasion:c.occasion,tags:c.tags}))}generateReason(t,r){const n=[],s={birthday:"Perfect for celebrating their special day",anniversary:"A thoughtful way to commemorate your journey together",wedding:"A beautiful gift to start their new chapter",housewarming:"Great addition to their new home",graduation:"Celebrate their achievement with this special gift",christmas:"Spread holiday cheer with this festive gift",valentines:"Express your love with this romantic gesture","mothers-day":"Show your appreciation for everything she does","fathers-day":"Honor the special man in your life"};s[r.occasion.toLowerCase()]&&n.push(s[r.occasion.toLowerCase()]);const a={spouse:"A meaningful gift for your life partner",partner:"Perfect for your significant other",parent:"Show your gratitude to your parent",child:"Delight your little one with this gift",friend:"A thoughtful gift for your dear friend",colleague:"Professional yet personal gift choice"};return a[r.relation.toLowerCase()]&&n.push(a[r.relation.toLowerCase()]),t.instantDeliveryEligible&&n.push("Available for instant delivery"),t.tags.includes("handmade")&&n.push("Uniquely handmade with care"),t.tags.includes("personalized")&&n.push("Can be personalized for extra meaning"),n.length>0?n.join(". ")+".":"A thoughtful gift choice."}getTrendingCategories(){return["personalized","handmade","eco-friendly","art","jewelry","home-decor"]}getPopularOccasions(){return["birthday","anniversary","wedding","housewarming","christmas","valentines"]}getRelationTypes(){return Object.keys(this.relationPreferences)}getAgeGroups(){return Object.keys(this.ageGroupPreferences)}getPersonalityTypes(){return Object.keys(this.personalityPreferences)}getInterests(){return Object.keys(this.interestCategories)}}const ds=new W5,H5=()=>{const{products:e}=es(),{addToCart:t}=jn(),[r,n]=b.useState([]),[s,a]=b.useState(!1),[o,l]=b.useState(!0),[c,u]=b.useState({occasion:"",relation:"",ageGroup:"",budget:1e3,interests:[],personality:""}),[d,h]=b.useState([]),f=ds.getPopularOccasions(),m=ds.getRelationTypes(),x=ds.getAgeGroups(),v=ds.getPersonalityTypes(),N=ds.getInterests(),y=j=>{h(S=>S.includes(j)?S.filter(_=>_!==j):[...S,j])},p=async j=>{j.preventDefault(),a(!0);try{const S={...c,interests:d},_=await ds.getGiftSuggestions(S,e);n(_),l(!1),_.length===0?F.error("No perfect matches found. Try adjusting your criteria."):F.success(`Found ${_.length} perfect gift suggestions!`)}catch(S){console.error("Error getting suggestions:",S),F.error("Failed to get suggestions. Please try again.")}finally{a(!1)}},g=()=>{u({occasion:"",relation:"",ageGroup:"",budget:1e3,interests:[],personality:""}),h([]),n([]),l(!0)},w=j=>{t(j.product),F.success(`${j.product.name} added to cart!`)};return i.jsx("div",{className:"min-h-screen bg-gradient-elegant",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-2 sm:px-6 lg:px-8 py-6",children:[i.jsxs(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},className:"text-center mb-10",children:[i.jsxs("div",{className:"inline-flex items-center space-x-2 bg-blush-100 px-4 py-2 rounded-full mb-6",children:[i.jsx(hr,{className:"w-5 h-5 text-blush-600"}),i.jsx("span",{className:"text-blush-700 font-semibold text-sm",children:"Intelligent Gift Discovery"})]}),i.jsxs("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold text-charcoal-800 mb-4 font-serif",children:["Find the Perfect"," ",i.jsx("span",{className:"text-blush-600",children:"Gift"})]}),i.jsx("p",{className:"text-base md:text-xl text-charcoal-600 max-w-2xl mx-auto leading-relaxed font-light",children:"Our sophisticated AI helps you discover the perfect handcrafted gift based on occasion, relationship, and personal preferences."})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-3 lg:gap-16",children:[i.jsx(L.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"lg:col-span-1",children:i.jsxs("div",{className:"bg-cream-50 rounded-2xl p-4 sm:p-8 shadow-subtle border border-cream-200",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-10",children:[i.jsx("div",{className:"bg-blush-600 p-3 rounded-xl",children:i.jsx(Ks,{className:"w-6 h-6 text-white"})}),i.jsx("h2",{className:"text-3xl font-bold text-charcoal-800 font-serif",children:"Gift Preferences"})]}),i.jsxs("form",{onSubmit:p,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(zf,{className:"w-5 h-5 inline mr-2"}),"Occasion"]}),i.jsxs("select",{value:c.occasion,onChange:j=>u(S=>({...S,occasion:j.target.value})),className:"w-full px-3 py-2 rounded-xl border border-cream-300 focus:border-blush-400 focus:ring-2 focus:ring-blush-200 transition-all bg-cream-50 text-sm",required:!0,children:[i.jsx("option",{value:"",children:"Select an occasion"}),f.map(j=>i.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ")},j))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(Ml,{className:"w-5 h-5 inline mr-2"}),"Relationship"]}),i.jsxs("select",{value:c.relation,onChange:j=>u(S=>({...S,relation:j.target.value})),className:"w-full px-3 py-2 rounded-xl border border-cream-300 focus:border-blush-400 focus:ring-2 focus:ring-blush-200 transition-all bg-cream-50 text-sm",required:!0,children:[i.jsx("option",{value:"",children:"Select relationship"}),m.map(j=>i.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(XE,{className:"w-5 h-5 inline mr-2"}),"Age Group"]}),i.jsxs("select",{value:c.ageGroup,onChange:j=>u(S=>({...S,ageGroup:j.target.value})),className:"w-full px-3 py-2 rounded-xl border border-cream-300 focus:border-blush-400 focus:ring-2 focus:ring-blush-200 transition-all bg-cream-50 text-sm",required:!0,children:[i.jsx("option",{value:"",children:"Select age group"}),x.map(j=>i.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ")},j))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(Rl,{className:"w-5 h-5 inline mr-2"}),"Budget ()"]}),i.jsx("input",{type:"range",min:"100",max:"10000",step:"100",value:c.budget,onChange:j=>u(S=>({...S,budget:parseInt(j.target.value)})),className:"w-full h-3 bg-cream-300 rounded-lg appearance-none cursor-pointer slider"}),i.jsxs("div",{className:"flex justify-between text-base text-charcoal-600 mt-2",children:[i.jsx("span",{children:"100"}),i.jsxs("span",{className:"font-semibold text-blush-600",children:["",c.budget.toLocaleString()]}),i.jsx("span",{children:"10,000"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(qE,{className:"w-5 h-5 inline mr-2"}),"Personality Type"]}),i.jsxs("select",{value:c.personality,onChange:j=>u(S=>({...S,personality:j.target.value})),className:"w-full px-3 py-2 rounded-xl border border-cream-300 focus:border-blush-400 focus:ring-2 focus:ring-blush-200 transition-all bg-cream-50 text-sm",children:[i.jsx("option",{value:"",children:"Select personality (optional)"}),v.map(j=>i.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1).replace("-"," ")},j))]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-charcoal-700 mb-3",children:[i.jsx(RE,{className:"w-5 h-5 inline mr-2"}),"Interests (Optional)"]}),i.jsx("div",{className:"grid grid-cols-2 gap-3",children:N.map(j=>i.jsx("button",{type:"button",onClick:()=>y(j),className:`px-4 py-3 rounded-lg text-base font-medium transition-all ${d.includes(j)?"bg-blush-600 text-white border border-blush-600":"bg-cream-100 text-charcoal-700 border border-cream-300 hover:bg-cream-200"}`,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blush-600 hover:bg-blush-700 text-white py-5 rounded-xl font-semibold transition-all shadow-soft hover:shadow-warm disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-3 text-lg",children:s?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),i.jsx("span",{children:"Discovering Perfect Gifts..."})]}):i.jsxs(i.Fragment,{children:[i.jsx(kt,{className:"w-6 h-6"}),i.jsx("span",{children:"Discover Perfect Gifts"})]})})]})]})}),i.jsx(L.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},className:"lg:col-span-2",children:o?i.jsxs("div",{className:"bg-cream-50 rounded-2xl p-16 shadow-subtle border border-cream-200 text-center",children:[i.jsx("div",{className:"bg-blush-100 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-10",children:i.jsx(kt,{className:"w-16 h-16 text-blush-600"})}),i.jsx("h3",{className:"text-4xl font-bold text-charcoal-800 mb-8 font-serif",children:"Ready to Discover the Perfect Gift?"}),i.jsx("p",{className:"text-xl text-charcoal-600 mb-10 text-lg leading-relaxed",children:"Fill out the form to get personalized gift suggestions based on your preferences."}),i.jsxs("div",{className:"flex items-center justify-center space-x-8 text-base text-charcoal-500",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(en,{className:"w-5 h-5 text-gold-400"}),i.jsx("span",{children:"AI-Powered"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(rs,{className:"w-5 h-5 text-blush-400"}),i.jsx("span",{children:"Personalized"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(hr,{className:"w-5 h-5 text-sage-400"}),i.jsx("span",{children:"Handcrafted"})]})]})]}):i.jsxs("div",{className:"space-y-10",children:[i.jsxs("div",{className:"bg-cream-50 rounded-2xl p-10 shadow-subtle border border-cream-200",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-4xl font-bold text-charcoal-800 font-serif",children:"Perfect Gift Suggestions"}),i.jsx("button",{onClick:g,className:"text-charcoal-600 hover:text-charcoal-800 font-semibold text-lg",children:"Start Over"})]}),i.jsxs("p",{className:"text-xl text-charcoal-600",children:["Found ",r.length," perfect matches for your criteria"]})]}),r.length>0?i.jsx("div",{className:"grid grid-cols-2 gap-4 sm:gap-6 lg:grid-cols-3",children:r.map((j,S)=>i.jsx(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:S*.1},className:"bg-cream-50 rounded-2xl p-8 shadow-subtle border border-cream-200",children:i.jsxs("div",{className:"flex items-start space-x-6",children:[i.jsx("img",{src:j.product.image,alt:j.product.name,className:"w-24 h-24 rounded-2xl object-cover shadow-soft"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-charcoal-800 mb-3 font-serif text-lg",children:j.product.name}),i.jsx("p",{className:"text-base text-charcoal-600 mb-6 line-clamp-2 leading-relaxed",children:j.reason}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(en,{className:"w-5 h-5 text-gold-400 fill-current"}),i.jsxs("span",{className:"text-base font-semibold text-charcoal-700",children:[j.matchScore,"%"]})]}),i.jsxs("span",{className:"text-xl font-bold text-blush-600",children:["",j.product.price.toLocaleString()]})]}),i.jsxs("button",{onClick:()=>w(j),className:"bg-blush-600 hover:bg-blush-700 text-white px-6 py-3 rounded-xl font-semibold transition-all shadow-soft hover:shadow-warm flex items-center space-x-3 text-base",children:[i.jsx("span",{children:"Add to Cart"}),i.jsx(ea,{className:"w-5 h-5"})]})]})]})]})},j.product.id))}):i.jsxs("div",{className:"bg-cream-50 rounded-2xl p-16 shadow-subtle border border-cream-200 text-center",children:[i.jsx("div",{className:"bg-blush-100 w-32 h-32 rounded-full flex items-center justify-center mx-auto mb-10",children:i.jsx(kt,{className:"w-16 h-16 text-blush-600"})}),i.jsx("h3",{className:"text-4xl font-bold text-charcoal-800 mb-8 font-serif",children:"No Perfect Matches Found"}),i.jsx("p",{className:"text-xl text-charcoal-600 mb-10 leading-relaxed",children:"Try adjusting your criteria or increasing your budget to find more options."}),i.jsx("button",{onClick:g,className:"bg-blush-600 hover:bg-blush-700 text-white px-10 py-5 rounded-xl font-semibold transition-all shadow-soft hover:shadow-warm text-lg",children:"Adjust Criteria"})]})]})})]})]})})},q5=()=>{const{products:e}=es(),{addToCart:t}=jn(),[r,n]=b.useState([]),[s,a]=b.useState(""),[o,l]=b.useState("all"),[c,u]=b.useState(!1),d=e.filter(w=>w.status==="approved"),h=["all",...Array.from(new Set(d.map(w=>w.category)))],f=o==="all"?d:d.filter(w=>w.category===o),m=r.reduce((w,j)=>w+j.product.price*j.quantity,0),x=r.reduce((w,j)=>w+j.quantity,0),v=w=>{n(j=>j.find(_=>_.product.id===w.id)?j.map(_=>_.product.id===w.id?{..._,quantity:_.quantity+1}:_):[...j,{product:w,quantity:1}])},N=(w,j)=>{j<=0?n(S=>S.filter(_=>_.product.id!==w)):n(S=>S.map(_=>_.product.id===w?{..._,quantity:j}:_))},y=w=>{n(j=>j.filter(S=>S.product.id!==w))},p=()=>{n([]),a("")},g=()=>{r.forEach(w=>{t(w.product,{quantity:w.quantity,isGift:!0,giftPackaging:!0,giftNote:`Part of ${s||"Custom Hamper"}`})}),p(),u(!1)};return i.jsx("div",{className:"min-h-screen bg-gradient-elegant pt-8",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[i.jsx("div",{className:"bg-blush-600 w-20 h-20 rounded-3xl flex items-center justify-center mx-auto mb-6",children:i.jsx(kt,{className:"w-10 h-10 text-white"})}),i.jsxs("h1",{className:"text-4xl md:text-5xl font-bold text-charcoal-800 mb-4",children:["Create Your Perfect"," ",i.jsx("span",{className:"text-blush-600",children:"Hamper"})]}),i.jsx("p",{className:"text-lg md:text-xl text-charcoal-600 max-w-2xl mx-auto",children:"Curate a personalized gift collection from our handmade treasures"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[i.jsxs("div",{className:"lg:col-span-3",children:[i.jsxs("div",{className:"bg-cream-50 rounded-2xl shadow-sm border border-cream-200 p-6 mb-8",children:[i.jsx("h3",{className:"text-lg font-semibold text-charcoal-800 mb-4",children:"Browse Products"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(w=>i.jsx("button",{onClick:()=>l(w),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${o===w?"bg-blush-600 text-white shadow-lg":"bg-cream-100 text-blush-700 hover:bg-cream-200"}`,children:w==="all"?"All Categories":w},w))})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 xl:grid-cols-3 gap-6",children:f.map((w,j)=>i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:j*.05},className:"relative",children:[i.jsx(Dl,{product:w}),i.jsx(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>v(w),className:"absolute top-4 right-4 bg-blush-600 hover:bg-blush-700 text-white p-2 rounded-full shadow-lg transition-all",children:i.jsx(Yn,{className:"w-4 h-4"})})]},w.id))})]}),i.jsx("div",{className:"lg:col-span-1",children:i.jsx("div",{className:"sticky top-8",children:i.jsxs("div",{className:"bg-cream-50 rounded-2xl shadow-lg border border-cream-200 overflow-hidden",children:[i.jsxs("div",{className:"bg-blush-600 p-6 text-white",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold",children:"Your Hamper"}),i.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full",children:i.jsxs("span",{className:"text-sm font-medium",children:[x," items"]})})]}),i.jsx("input",{type:"text",placeholder:"Name your hamper...",value:s,onChange:w=>a(w.target.value),className:"w-full bg-white/20 backdrop-blur-sm border border-white/30 rounded-xl px-4 py-2 text-white placeholder-white/70 focus:outline-none focus:ring-2 focus:ring-white/50"})]}),i.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx(mt,{className:"w-12 h-12 text-cream-300 mx-auto mb-4"}),i.jsx("p",{className:"text-blush-600 text-sm",children:"Start adding products to build your hamper"})]}):i.jsx("div",{className:"p-4 space-y-4",children:r.map(w=>i.jsxs(L.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"flex items-center space-x-3 bg-cream-50 rounded-xl p-3 border border-cream-200",children:[i.jsx("img",{src:w.product.image,alt:w.product.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"text-sm font-medium text-charcoal-800 truncate",children:w.product.name}),i.jsxs("p",{className:"text-xs text-primary-600",children:["",w.product.price.toLocaleString()," each"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>N(w.product.id,w.quantity-1),className:"w-6 h-6 bg-cream-200 rounded-full flex items-center justify-center hover:bg-cream-300 transition-colors",children:i.jsx(lw,{className:"w-3 h-3"})}),i.jsx("span",{className:"text-sm font-medium w-6 text-center",children:w.quantity}),i.jsx("button",{onClick:()=>N(w.product.id,w.quantity+1),className:"w-6 h-6 bg-cream-100 text-primary-600 rounded-full flex items-center justify-center hover:bg-cream-200 transition-colors",children:i.jsx(Yn,{className:"w-3 h-3"})}),i.jsx("button",{onClick:()=>y(w.product.id),className:"w-6 h-6 bg-red-100 text-red-600 rounded-full flex items-center justify-center hover:bg-red-200 transition-colors ml-2",children:i.jsx(ir,{className:"w-3 h-3"})})]})]},w.product.id))})}),r.length>0&&i.jsxs("div",{className:"border-t border-cream-100 p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("span",{className:"text-lg font-semibold text-charcoal-800",children:"Total"}),i.jsxs("span",{className:"text-2xl font-bold text-primary-600",children:["",m.toLocaleString()]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(L.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>u(!0),className:"w-full bg-primary-600 hover:bg-primary-700 text-white py-3 rounded-xl font-semibold transition-all flex items-center justify-center space-x-2 shadow-lg",children:[i.jsx(yt,{className:"w-4 h-4"}),i.jsx("span",{children:"Add to Cart"})]}),i.jsxs("button",{onClick:p,className:"w-full bg-cream-100 text-primary-700 py-2 rounded-xl font-medium hover:bg-cream-200 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(_a,{className:"w-4 h-4"}),i.jsx("span",{children:"Clear All"})]})]})]})]})})})]}),i.jsx(Vt,{children:c&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white rounded-2xl p-8 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h2",{className:"text-2xl font-bold text-charcoal-800",children:[s||"Custom Hamper"," Summary"]}),i.jsx("button",{onClick:()=>u(!1),className:"text-primary-600 hover:text-primary-800 p-2",children:i.jsx(ir,{className:"w-6 h-6"})})]}),i.jsx("div",{className:"space-y-4 mb-6",children:r.map(w=>i.jsxs("div",{className:"flex items-center justify-between p-4 bg-cream-50 rounded-xl border border-cream-200",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:w.product.image,alt:w.product.name,className:"w-16 h-16 rounded-lg object-cover"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-charcoal-800",children:w.product.name}),i.jsxs("p",{className:"text-sm text-primary-600",children:["by ",w.product.sellerName]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-medium text-charcoal-800",children:[w.quantity,"  ",w.product.price.toLocaleString()]}),i.jsxs("p",{className:"text-sm text-primary-600",children:["",(w.quantity*w.product.price).toLocaleString()]})]})]},w.product.id))}),i.jsxs("div",{className:"border-t border-cream-200 pt-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("span",{className:"text-xl font-semibold text-charcoal-800",children:"Total Amount"}),i.jsxs("span",{className:"text-3xl font-bold text-primary-600",children:["",m.toLocaleString()]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{onClick:()=>u(!1),className:"flex-1 bg-cream-100 text-primary-700 py-3 px-6 rounded-xl font-semibold hover:bg-cream-200 transition-colors",children:"Continue Shopping"}),i.jsxs("button",{onClick:g,className:"flex-1 bg-primary-600 hover:bg-primary-700 text-white py-3 px-6 rounded-xl font-semibold transition-all flex items-center justify-center space-x-2 shadow-lg",children:[i.jsx("span",{children:"Add to Cart"}),i.jsx(ea,{className:"w-4 h-4"})]})]})]})]})})})]})})},Il=({type:e,onFileSelect:t,currentFile:r,placeholder:n})=>{const[s,a]=b.useState(!1),[o,l]=b.useState(null),c=b.useRef(null),u=e==="image"?"image/jpeg,image/png,image/webp,image/jpg":"video/mp4,video/webm,video/mov",d=e==="image"?5*1024*1024:50*1024*1024,h=N=>{if(N.size>d){alert(`File size must be less than ${e==="image"?"5MB":"50MB"}`);return}if(!u.split(",").includes(N.type)){alert(`Please select a valid ${e} file`);return}t(N);const p=new FileReader;p.onload=g=>{var w;l((w=g.target)==null?void 0:w.result)},p.readAsDataURL(N)},f=N=>{N.preventDefault(),a(!1);const y=Array.from(N.dataTransfer.files);y.length>0&&h(y[0])},m=N=>{const y=N.target.files;y&&y.length>0&&h(y[0])},x=()=>{t(null),l(null),c.current&&(c.current.value="")},v=e==="image"?BE:Xd;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700",children:[e==="image"?"Product Image":"Product Video",e==="image"&&i.jsx("span",{className:"text-red-500",children:"*"})]}),r||o?i.jsx("div",{className:"relative",children:e==="image"?i.jsxs("div",{className:"relative w-full h-48 bg-gray-100 rounded-lg overflow-hidden",children:[i.jsx("img",{src:o||"",alt:"Preview",className:"w-full h-full object-cover"}),i.jsx("button",{type:"button",onClick:x,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:i.jsx(ir,{className:"w-4 h-4"})})]}):i.jsxs("div",{className:"relative w-full h-32 bg-gray-100 rounded-lg flex items-center justify-center",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(Xd,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),i.jsx("p",{className:"text-sm text-gray-600",children:r==null?void 0:r.name}),i.jsxs("div",{className:"flex items-center justify-center space-x-1 mt-1",children:[i.jsx(aw,{className:"w-4 h-4 text-green-500"}),i.jsx("span",{className:"text-xs text-green-600",children:"Video uploaded"})]})]}),i.jsx("button",{type:"button",onClick:x,className:"absolute top-2 right-2 bg-red-500 text-white p-1 rounded-full hover:bg-red-600 transition-colors",children:i.jsx(ir,{className:"w-4 h-4"})})]})}):i.jsxs(L.div,{onDragOver:N=>{N.preventDefault(),a(!0)},onDragLeave:()=>a(!1),onDrop:f,onClick:()=>{var N;return(N=c.current)==null?void 0:N.click()},className:`relative border-2 border-dashed rounded-lg p-8 text-center cursor-pointer transition-all ${s?"border-pink-400 bg-pink-50":"border-gray-300 hover:border-pink-400 hover:bg-pink-50"}`,children:[i.jsx("input",{ref:c,type:"file",accept:u,onChange:m,className:"hidden"}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-rose-500 w-12 h-12 rounded-xl flex items-center justify-center mx-auto",children:i.jsx(v,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-lg font-medium text-gray-900",children:n||`Upload ${e}`}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Drag and drop or click to browse"})]}),i.jsx("div",{className:"text-xs text-gray-400",children:e==="image"?"PNG, JPG, WEBP up to 5MB":"MP4, WEBM, MOV up to 50MB"})]})]})]})},G5=()=>{const{user:e}=Ut(),{products:t,addProduct:r,deliveryCities:n,refreshData:s}=es(),[a,o]=b.useState("overview"),[l,c]=b.useState(!1),[u,d]=b.useState(null),[h,f]=b.useState({name:"",price:"",description:"",category:"",section:"",weight:"",instantDeliveryEligible:!1,customisable:!1}),[m,x]=b.useState([]),[v,N]=b.useState(null),[y,p]=b.useState(null),[g,w]=b.useState(!1),[j,S]=b.useState([]),[_,C]=b.useState(!0),[O,E]=b.useState(null),[W,J]=b.useState(""),[ee,ve]=b.useState("all"),[te,tt]=b.useState("all"),M=t.filter(P=>P.sellerId===(e==null?void 0:e.id)),T={total:M.length,approved:M.filter(P=>P.status==="approved").length,pending:M.filter(P=>P.status==="pending").length,rejected:M.filter(P=>P.status==="rejected").length,totalViews:M.reduce((P,H)=>P+Math.floor(Math.random()*100),0),totalRevenue:M.filter(P=>P.status==="approved").reduce((P,H)=>P+H.price,0)},V=n.filter(P=>P.isActive).some(P=>P.name===(e==null?void 0:e.city));b.useEffect(()=>{e&&(G(),ne())},[e,t]);const G=async()=>{C(!0);try{const P=await xr.getAllOrders(),H=M.map(pe=>pe.id),oe=P.filter(pe=>pe.items.some(rt=>H.includes(rt.product.id)));S(oe)}catch{F.error("Failed to load orders")}finally{C(!1)}},ne=async()=>{try{const P=await xr.getAllOrders(),H=M.map(qe=>qe.id);let oe=0,pe=0,rt=[];P.forEach(qe=>{const Ge=qe.items.filter(Wt=>H.includes(Wt.product.id));Ge.length>0&&(oe+=Ge.reduce((Wt,Ht)=>Wt+Ht.quantity,0),pe+=Ge.reduce((Wt,Ht)=>Wt+Ht.product.price*Ht.quantity,0),rt.push({orderId:qe.id,items:Ge,date:qe.created_at,status:qe.status,total:Ge.reduce((Wt,Ht)=>Wt+Ht.product.price*Ht.quantity,0)}))});const br={};P.forEach(qe=>{qe.items.forEach(Ge=>{H.includes(Ge.product.id)&&(br[Ge.product.id]=(br[Ge.product.id]||0)+Ge.quantity)})});const Ka=Object.entries(br).sort(([,qe],[,Ge])=>Ge-qe).slice(0,5).map(([qe,Ge])=>({product:M.find(Ht=>Ht.id===qe),sales:Ge})).filter(qe=>qe.product);E({totalSold:oe,monthlyRevenue:pe,topProducts:Ka,recentOrders:rt.slice(0,10),customerSatisfaction:4.8})}catch(P){console.error("Error fetching analytics:",P)}},Tt=async P=>{await xr.updateOrderStatus(P,"confirmed")?(F.success("Order confirmed!"),G(),ne()):F.error("Failed to confirm order")},He=async P=>{if(confirm("Are you sure you want to delete this product?"))try{const{error:H}=await I.from("products").delete().eq("id",P);if(H)throw H;F.success("Product deleted"),await s(),G(),ne()}catch{F.error("Failed to delete product")}},ar=P=>{var H;d(P),f({name:P.name,price:P.price.toString(),description:P.description,category:P.category,section:P.section||"",weight:((H=P.weight)==null?void 0:H.toString())||"",instantDeliveryEligible:P.instantDeliveryEligible,customisable:P.customisable||!1}),x(P.customQuestions||[]),c(!0)},de=P=>{const{name:H,value:oe,type:pe}=P.target;f(rt=>({...rt,[H]:pe==="checkbox"?P.target.checked:oe}))},Bt=(P,H)=>{x(oe=>{const pe=[...oe];return pe[P]=H,pe})},U=()=>{x(P=>[...P,""])},z=P=>{x(H=>H.filter((oe,pe)=>pe!==P))},zt=async P=>{if(P.preventDefault(),!e||!v&&!u){F.error("Please upload a product image");return}w(!0);try{let H=u==null?void 0:u.image,oe=u==null?void 0:u.videoUrl;if(v&&(H=URL.createObjectURL(v)),y&&(oe=URL.createObjectURL(y)),u){const{error:pe}=await I.from("products").update({name:h.name,price:Math.round(parseFloat(h.price)*100),description:h.description,category:h.category,section:h.section,weight:h.weight?parseFloat(h.weight):null,instant_delivery_eligible:h.instantDeliveryEligible&&V,customisable:h.customisable,image_url:H,video_url:oe,tags:h.category.toLowerCase().split(" "),updated_at:new Date().toISOString()}).eq("id",u.id);if(pe)throw pe;F.success("Product updated successfully!")}else if(!await r({sellerId:e.id,name:h.name,price:parseFloat(h.price),image:H,description:h.description,videoUrl:oe,city:e.city||"Mumbai",instantDeliveryEligible:h.instantDeliveryEligible&&V,status:"pending",category:h.category,tags:h.category.toLowerCase().split(" "),section:h.section,weight:h.weight?parseFloat(h.weight):void 0,customisable:h.customisable,customQuestions:h.customisable?m.filter(rt=>rt.trim()!==""):[]}))throw new Error("Failed to add product");f({name:"",price:"",description:"",category:"",section:"",weight:"",instantDeliveryEligible:!1,customisable:!1}),x([]),N(null),p(null),c(!1),d(null),await s()}catch(H){console.error("Error saving product:",H),F.error("Failed to save product")}finally{w(!1)}},Z=P=>{switch(P){case"approved":return i.jsx(dn,{className:"w-5 h-5 text-green-500"});case"rejected":return i.jsx(Ca,{className:"w-5 h-5 text-red-500"});default:return i.jsx(Gs,{className:"w-5 h-5 text-yellow-500"})}},vr=P=>{switch(P){case"approved":return"bg-green-100 text-green-800 border-green-200";case"rejected":return"bg-red-100 text-red-800 border-red-200";default:return"bg-yellow-100 text-yellow-800 border-yellow-200"}},or=M.filter(P=>{const H=P.name.toLowerCase().includes(W.toLowerCase()),oe=ee==="all"||P.status===ee;return H&&oe}),Ga=j.filter(P=>{const H=P.id.toLowerCase().includes(W.toLowerCase()),oe=te==="all"||te==="today"&&new Date(P.created_at).toDateString()===new Date().toDateString()||te==="week"&&new Date(P.created_at)>new Date(Date.now()-7*24*60*60*1e3);return H&&oe}),is=[{id:"overview",name:"Overview",icon:iw},{id:"products",name:"Products",icon:mt},{id:"orders",name:"Orders",icon:yt},{id:"analytics",name:"Analytics",icon:So},{id:"settings",name:"Settings",icon:KE}],Nc=[{label:"Total Products",value:T.total,icon:mt,color:"bg-blue-600",change:"+12%",changeType:"positive"},{label:"Approved Products",value:T.approved,icon:dn,color:"bg-green-600",change:"+8%",changeType:"positive"},{label:"Total Sales",value:(O==null?void 0:O.totalSold)||0,icon:So,color:"bg-purple-600",change:"+24%",changeType:"positive"},{label:"Revenue",value:`${(O==null?void 0:O.monthlyRevenue.toLocaleString())||0}`,icon:Rl,color:"bg-amber-600",change:"+15%",changeType:"positive"}];return i.jsxs("div",{className:"min-h-screen w-full flex bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50",children:[i.jsxs("aside",{className:"w-64 min-h-screen bg-white/90 backdrop-blur-sm shadow-xl border-r border-amber-100 flex flex-col py-8 px-4 fixed z-20",children:[i.jsxs("div",{className:"mb-10",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"bg-amber-600 p-2 rounded-xl",children:i.jsx(mt,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-amber-900",children:"Seller Hub"}),i.jsx("p",{className:"text-xs text-amber-600",children:(e==null?void 0:e.businessName)||"Your Store"})]})]}),(e==null?void 0:e.isVerified)&&i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-green-600 bg-green-50 px-2 py-1 rounded-lg",children:[i.jsx(dn,{className:"w-3 h-3"}),i.jsx("span",{children:"Verified Seller"})]})]}),i.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:is.map(P=>{const H=P.icon;return i.jsxs("button",{onClick:()=>o(P.id),className:`flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all relative ${a===P.id?"bg-amber-600 text-white shadow-lg":"text-amber-700 hover:bg-amber-100"}`,children:[a===P.id&&i.jsx("span",{className:"absolute left-0 top-0 h-full w-1 bg-amber-500 rounded-r-lg"}),i.jsx(H,{className:"w-5 h-5"}),P.name,P.id==="products"&&T.pending>0&&i.jsx("span",{className:"ml-auto bg-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:T.pending})]},P.id)})}),i.jsx("div",{className:"mt-auto pt-4 border-t border-amber-100",children:i.jsxs("div",{className:"text-xs text-amber-600 text-center",children:[e==null?void 0:e.name,"  ",e==null?void 0:e.city]})})]}),i.jsx("main",{className:"flex-1 ml-64 min-h-screen flex flex-col",children:i.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[a==="overview"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-3xl font-bold text-amber-900",children:["Welcome back, ",e==null?void 0:e.name]}),i.jsx("p",{className:"text-amber-700 mt-1",children:"Here's how your store is performing"})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("button",{onClick:()=>c(!0),className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors flex items-center space-x-2",children:[i.jsx(Yn,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Product"})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Nc.map((P,H)=>{const oe=P.icon;return i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.1},className:"bg-white p-6 rounded-2xl shadow-sm border border-amber-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`${P.color} p-3 rounded-xl`,children:i.jsx(oe,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${P.changeType==="positive"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:P.change})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-amber-900 mb-1",children:P.value}),i.jsx("p",{className:"text-sm text-amber-700",children:P.label})]})]},P.label)})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-amber-100",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"bg-yellow-100 p-2 rounded-lg",children:i.jsx(Gs,{className:"w-5 h-5 text-yellow-600"})}),i.jsx("h3",{className:"font-semibold text-amber-900",children:"Pending Review"})]}),i.jsx("p",{className:"text-2xl font-bold text-amber-900 mb-2",children:T.pending}),i.jsx("p",{className:"text-sm text-amber-700",children:"Products awaiting approval"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-amber-100",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"bg-pink-100 p-2 rounded-lg",children:i.jsx(rs,{className:"w-5 h-5 text-pink-600"})}),i.jsx("h3",{className:"font-semibold text-amber-900",children:"Customer Rating"})]}),i.jsx("p",{className:"text-2xl font-bold text-amber-900 mb-2",children:(O==null?void 0:O.customerSatisfaction)||4.8}),i.jsx("p",{className:"text-sm text-amber-700",children:"Average rating"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border border-amber-100",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[i.jsx("div",{className:"bg-purple-100 p-2 rounded-lg",children:i.jsx(So,{className:"w-5 h-5 text-purple-600"})}),i.jsx("h3",{className:"font-semibold text-amber-900",children:"This Month"})]}),i.jsxs("p",{className:"text-2xl font-bold text-amber-900 mb-2",children:["+",Math.floor(Math.random()*50)+10]}),i.jsx("p",{className:"text-sm text-amber-700",children:"New orders"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Top Selling Products"}),i.jsx("div",{className:"space-y-4",children:O==null?void 0:O.topProducts.slice(0,5).map((P,H)=>i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:P.product.image,alt:P.product.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-amber-900",children:P.product.name}),i.jsxs("p",{className:"text-sm text-amber-600",children:[P.sales," sold"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-semibold text-amber-900",children:["",P.product.price.toLocaleString()]})})]},H))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Recent Orders"}),i.jsx("div",{className:"space-y-4",children:O==null?void 0:O.recentOrders.slice(0,5).map((P,H)=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"bg-amber-100 p-2 rounded-lg",children:i.jsx(yt,{className:"w-4 h-4 text-amber-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("p",{className:"text-sm text-amber-900",children:["Order #",P.orderId.slice(-8)]}),i.jsxs("p",{className:"text-xs text-amber-600",children:[P.items.length," items  ",P.total.toLocaleString()]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${P.status==="delivered"?"bg-green-100 text-green-700":P.status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:P.status})]},H))})]})]}),V&&i.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 border border-green-200 p-6 rounded-2xl",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"bg-green-500 p-2 rounded-lg",children:i.jsx(vt,{className:"w-5 h-5 text-white"})}),i.jsxs("span",{className:"text-green-800 font-semibold text-lg",children:["Instant Delivery Available in ",e==null?void 0:e.city]})]}),i.jsx("p",{className:"text-green-700",children:"You can offer instant delivery for your products! This helps increase sales and customer satisfaction."})]})]}),a==="products"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Product Management"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ks,{className:"w-5 h-5 text-amber-500 absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Search products...",value:W,onChange:P=>J(P.target.value),className:"pl-10 pr-4 py-2 border border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("select",{value:ee,onChange:P=>ve(P.target.value),className:"border border-amber-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"approved",children:"Approved"}),i.jsx("option",{value:"rejected",children:"Rejected"})]}),i.jsxs("button",{onClick:()=>c(!0),className:"bg-amber-600 text-white px-4 py-2 rounded-lg hover:bg-amber-700 transition-colors flex items-center space-x-2",children:[i.jsx(Yn,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Product"})]})]})]}),or.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-16 text-center",children:[i.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(mt,{className:"w-10 h-10 text-amber-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-amber-900 mb-3",children:"No products yet"}),i.jsx("p",{className:"text-amber-700 mb-6 max-w-md mx-auto",children:"Start showcasing your handmade creations to customers around the world. Upload your first product to get started."}),i.jsx("button",{onClick:()=>c(!0),className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-3 rounded-xl font-semibold transition-all shadow-lg",children:"Create Your First Product"})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:or.map((P,H)=>i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:H*.1},className:"bg-white rounded-xl overflow-hidden hover:shadow-md transition-shadow border border-amber-200",children:[i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:P.image,alt:P.name,className:"w-full h-48 object-cover"}),i.jsx("div",{className:"absolute top-3 left-3",children:i.jsxs("div",{className:`flex items-center space-x-2 px-3 py-1 rounded-full border ${vr(P.status)}`,children:[Z(P.status),i.jsx("span",{className:"text-xs font-medium",children:P.status.charAt(0).toUpperCase()+P.status.slice(1)})]})}),i.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[P.instantDeliveryEligible&&i.jsx("div",{className:"bg-green-500 text-white p-1 rounded-full",children:i.jsx(vt,{className:"w-3 h-3"})}),P.videoUrl&&i.jsx("div",{className:"bg-purple-500 text-white p-1 rounded-full",children:i.jsx(LE,{className:"w-3 h-3"})})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-amber-900 mb-2 line-clamp-2",children:P.name}),i.jsx("p",{className:"text-sm text-amber-700 mb-3 line-clamp-2",children:P.description}),i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("span",{className:"text-lg font-bold text-amber-600",children:["",P.price.toLocaleString()]}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-amber-600",children:[i.jsx(zf,{className:"w-3 h-3"}),i.jsx("span",{children:new Date(P.createdAt).toLocaleDateString()})]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>ar(P),className:"flex-1 bg-amber-100 text-amber-700 py-2 px-3 rounded-lg font-medium hover:bg-amber-200 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(cw,{className:"w-4 h-4"}),i.jsx("span",{children:"Edit"})]}),i.jsx("button",{onClick:()=>He(P.id),className:"bg-red-100 text-red-700 py-2 px-3 rounded-lg hover:bg-red-200 transition-colors",children:i.jsx(_a,{className:"w-4 h-4"})})]})]})]},P.id))})]}),a==="orders"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Order Management"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ks,{className:"w-5 h-5 text-amber-500 absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Search orders...",value:W,onChange:P=>J(P.target.value),className:"pl-10 pr-4 py-2 border border-amber-200 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent"})]}),i.jsxs("select",{value:te,onChange:P=>tt(P.target.value),className:"border border-amber-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Time"}),i.jsx("option",{value:"today",children:"Today"}),i.jsx("option",{value:"week",children:"This Week"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 overflow-hidden",children:_?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-amber-600 mx-auto"}),i.jsx("p",{className:"text-amber-600 mt-2",children:"Loading orders..."})]}):Ga.length===0?i.jsxs("div",{className:"p-16 text-center",children:[i.jsx("div",{className:"bg-amber-100 w-20 h-20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx(yt,{className:"w-10 h-10 text-amber-600"})}),i.jsx("h3",{className:"text-xl font-semibold text-amber-900 mb-3",children:"No orders yet"}),i.jsx("p",{className:"text-amber-700",children:"Orders for your products will appear here"})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-amber-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Order ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Customer"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Products"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Total"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-amber-900",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-amber-100",children:Ga.map(P=>{var H,oe;return i.jsxs("tr",{className:"hover:bg-amber-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-mono text-sm",children:["#",P.id.slice(-8).toUpperCase()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-amber-900",children:((H=P.buyer)==null?void 0:H.name)||"Unknown"}),i.jsx("p",{className:"text-sm text-amber-600",children:(oe=P.buyer)==null?void 0:oe.email})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("div",{className:"space-y-1",children:P.items.filter(pe=>M.some(rt=>rt.id===pe.product.id)).slice(0,2).map((pe,rt)=>{var br;return i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-amber-900",children:(br=pe.product)==null?void 0:br.name}),i.jsxs("span",{className:"text-amber-600",children:[" x",pe.quantity]})]},rt)})})}),i.jsxs("td",{className:"px-6 py-4 font-semibold text-amber-900",children:["",(P.total_amount/100).toLocaleString()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${P.status==="delivered"?"bg-green-100 text-green-700":P.status==="shipped"?"bg-blue-100 text-blue-700":P.status==="confirmed"?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"}`,children:P.status})}),i.jsx("td",{className:"px-6 py-4 text-sm text-amber-600",children:new Date(P.created_at).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[P.status==="pending"&&i.jsx("button",{onClick:()=>Tt(P.id),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:"Confirm"}),i.jsx("button",{className:"text-amber-600 hover:text-amber-800 p-1",children:i.jsx(Gn,{className:"w-4 h-4"})})]})})]},P.id)})})]})})})]}),a==="analytics"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Sales Analytics"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Sales Overview"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-600",children:"Total Products Sold"}),i.jsx("p",{className:"text-2xl font-bold text-amber-900",children:(O==null?void 0:O.totalSold)||0})]}),i.jsx("div",{className:"bg-amber-600 p-3 rounded-lg",children:i.jsx(So,{className:"w-6 h-6 text-white"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-600",children:"Monthly Revenue"}),i.jsxs("p",{className:"text-2xl font-bold text-amber-900",children:["",(O==null?void 0:O.monthlyRevenue.toLocaleString())||0]})]}),i.jsx("div",{className:"bg-green-600 p-3 rounded-lg",children:i.jsx(Rl,{className:"w-6 h-6 text-white"})})]}),i.jsxs("div",{className:"flex items-center justify-between p-4 bg-amber-50 rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-amber-600",children:"Customer Rating"}),i.jsx("p",{className:"text-2xl font-bold text-amber-900",children:(O==null?void 0:O.customerSatisfaction)||4.8})]}),i.jsx("div",{className:"bg-purple-600 p-3 rounded-lg",children:i.jsx(en,{className:"w-6 h-6 text-white"})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Performance Metrics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-amber-700",children:"Approval Rate"}),i.jsxs("span",{className:"font-semibold text-amber-900",children:[T.total>0?Math.round(T.approved/T.total*100):0,"%"]})]}),i.jsx("div",{className:"w-full bg-amber-200 rounded-full h-2",children:i.jsx("div",{className:"bg-amber-600 h-2 rounded-full",style:{width:`${T.total>0?T.approved/T.total*100:0}%`}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-amber-700",children:"Product Views"}),i.jsx("span",{className:"font-semibold text-amber-900",children:T.totalViews})]}),i.jsx("div",{className:"w-full bg-amber-200 rounded-full h-2",children:i.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:"75%"}})}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-amber-700",children:"Conversion Rate"}),i.jsx("span",{className:"font-semibold text-amber-900",children:"12.5%"})]}),i.jsx("div",{className:"w-full bg-amber-200 rounded-full h-2",children:i.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"12.5%"}})})]})]})]})]}),a==="settings"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-amber-900",children:"Account Settings"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Profile Information"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Business Name"}),i.jsx("input",{type:"text",value:(e==null?void 0:e.businessName)||"",className:"w-full border border-amber-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:(e==null?void 0:e.email)||"",className:"w-full border border-amber-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"City"}),i.jsx("input",{type:"text",value:(e==null?void 0:e.city)||"",className:"w-full border border-amber-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",readOnly:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Description"}),i.jsx("textarea",{value:(e==null?void 0:e.description)||"",className:"w-full border border-amber-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-amber-500 focus:border-transparent",rows:3,readOnly:!0})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-amber-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-amber-900 mb-4",children:"Store Statistics"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[i.jsx("span",{className:"text-amber-700",children:"Total Products"}),i.jsx("span",{className:"font-semibold text-amber-900",children:T.total})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[i.jsx("span",{className:"text-amber-700",children:"Approved Products"}),i.jsx("span",{className:"font-semibold text-amber-900",children:T.approved})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[i.jsx("span",{className:"text-amber-700",children:"Pending Review"}),i.jsx("span",{className:"font-semibold text-amber-900",children:T.pending})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-amber-50 rounded-lg",children:[i.jsx("span",{className:"text-amber-700",children:"Account Status"}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${e!=null&&e.isVerified?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:e!=null&&e.isVerified?"Verified":"Pending Verification"})]})]})]})]})]}),i.jsx(Vt,{children:l&&i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsxs(L.form,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.95,opacity:0},onSubmit:zt,className:"bg-white rounded-2xl shadow-xl p-8 w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-amber-900",children:u?"Edit Product":"Add New Product"}),i.jsx("button",{type:"button",onClick:()=>{c(!1),d(null),N(null),p(null),f({name:"",price:"",description:"",category:"",section:"",weight:"",instantDeliveryEligible:!1,customisable:!1}),x([])},className:"text-amber-600 hover:text-amber-800",children:i.jsx(Ca,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Product Name *"}),i.jsx("input",{type:"text",name:"name",value:h.name,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Price () *"}),i.jsx("input",{type:"number",name:"price",value:h.price,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0,min:"1"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Category *"}),i.jsxs("select",{name:"category",value:h.category,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",required:!0,children:[i.jsx("option",{value:"",children:"Select Category"}),i.jsx("option",{value:"Jewelry",children:"Jewelry"}),i.jsx("option",{value:"Home Decor",children:"Home Decor"}),i.jsx("option",{value:"Art",children:"Art"}),i.jsx("option",{value:"Textiles",children:"Textiles"}),i.jsx("option",{value:"Candles",children:"Candles"}),i.jsx("option",{value:"Pottery",children:"Pottery"}),i.jsx("option",{value:"Accessories",children:"Accessories"}),i.jsx("option",{value:"Other",children:"Other"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Section"}),i.jsx("input",{type:"text",name:"section",value:h.section,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:"e.g., Rings, Necklaces"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Weight (grams)"}),i.jsx("input",{type:"number",name:"weight",value:h.weight,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",min:"0"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",name:"instantDeliveryEligible",checked:h.instantDeliveryEligible,onChange:de,disabled:!V,className:"rounded border-amber-300 text-amber-600 focus:ring-amber-500"}),i.jsx("span",{className:"text-sm text-amber-700",children:"Instant Delivery"})]}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",name:"customisable",checked:h.customisable,onChange:de,className:"rounded border-amber-300 text-amber-600 focus:ring-amber-500"}),i.jsx("span",{className:"text-sm text-amber-700",children:"Customisable"})]})]})]}),i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Description *"}),i.jsx("textarea",{name:"description",value:h.description,onChange:de,className:"w-full border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",rows:4,required:!0})]}),h.customisable&&i.jsxs("div",{className:"mt-6",children:[i.jsx("label",{className:"block text-sm font-medium text-amber-700 mb-2",children:"Custom Questions"}),m.map((P,H)=>i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("input",{type:"text",value:P,onChange:oe=>Bt(H,oe.target.value),className:"flex-1 border border-amber-300 rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-amber-400",placeholder:`Question ${H+1}`}),i.jsx("button",{type:"button",onClick:()=>z(H),className:"ml-2 text-red-500 hover:text-red-700",children:i.jsx(_a,{className:"w-4 h-4"})})]},H)),i.jsx("button",{type:"button",onClick:U,className:"mt-2 px-3 py-1 bg-amber-100 text-amber-800 rounded-lg hover:bg-amber-200 text-sm",children:"Add Question"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mt-6",children:[i.jsx("div",{children:i.jsx(Il,{type:"image",onFileSelect:N,currentFile:v,placeholder:"Upload Product Image"})}),i.jsx("div",{children:i.jsx(Il,{type:"video",onFileSelect:p,currentFile:y,placeholder:"Upload Product Video (Optional)"})})]}),i.jsxs("div",{className:"flex justify-end space-x-4 mt-8",children:[i.jsx("button",{type:"button",onClick:()=>{c(!1),d(null),N(null),p(null),f({name:"",price:"",description:"",category:"",section:"",weight:"",instantDeliveryEligible:!1,customisable:!1}),x([])},className:"px-6 py-2 text-amber-600 hover:text-amber-800 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:g,className:"bg-amber-600 hover:bg-amber-700 text-white px-6 py-2 rounded-lg font-semibold transition-all shadow-lg disabled:opacity-50",children:g?"Saving...":u?"Update Product":"Add Product"})]})]})})})]})})]})},K5=()=>{var Yf,Qf;const{user:e}=Ut(),{products:t,deliveryCities:r,currentTheme:n,updateProduct:s,updateDeliveryCity:a,updateTheme:o,refreshData:l}=es(),{createNotification:c}=Nv(),[u,d]=b.useState("overview"),[h,f]=b.useState([]),[m,x]=b.useState(!1),[v,N]=b.useState(null),[y,p]=b.useState(!1),[g,w]=b.useState({title:"",description:"",video_url:"",thumbnail_url:"",maker_name:"",location:"",is_active:!0,order_index:1}),[j,S]=b.useState({type:"system",title:"",message:"",targetUsers:"all"}),[_,C]=b.useState([]),[O,E]=b.useState(!1),[W,J]=b.useState([]),[ee,ve]=b.useState(null),[te,tt]=b.useState([]),[M,T]=b.useState(""),[B,V]=b.useState(!1),[G,ne]=b.useState(null),[Tt,He]=b.useState(null),[ar,de]=b.useState(!1),[Bt,U]=b.useState(!1),[z,zt]=b.useState(null),[Z,vr]=b.useState(""),[or,Ga]=b.useState("all"),[is,Nc]=b.useState("all"),P=t.filter(k=>k.status==="pending");t.filter(k=>k.status==="approved"),t.filter(k=>k.status==="rejected"),b.useEffect(()=>{H(),u==="videos"&&oe(),u==="orders"&&pe(),u==="support"&&rt()},[u]);const H=async()=>{try{const{count:k}=await I.from("profiles").select("*",{count:"exact",head:!0}),R=await xr.getAllOrders(),Ae=R.reduce((ct,Fr)=>ct+Fr.total_amount/100,0),Le=15.2,ge={};R.forEach(ct=>{ct.items.forEach(Fr=>{const kc=Fr.product.id;ge[kc]=(ge[kc]||0)+Fr.quantity})});const qt=Object.entries(ge).sort(([,ct],[,Fr])=>Fr-ct).slice(0,5).map(([ct,Fr])=>({product:t.find($w=>$w.id===ct),orderCount:Fr})).filter(ct=>ct.product),Sc=R.slice(0,10).map(ct=>({type:"order",description:`New order #${ct.id.slice(-8)} - ${(ct.total_amount/100).toLocaleString()}`,timestamp:ct.created_at,status:ct.status}));zt({totalUsers:k||0,totalOrders:R.length,totalRevenue:Ae,monthlyGrowth:Le,topProducts:qt,recentActivity:Sc})}catch(k){console.error("Error fetching analytics:",k)}},oe=async()=>{try{const{data:k,error:R}=await I.from("hero_videos").select("*").order("order_index");if(R){console.error("Error fetching hero videos:",R);return}f(k||[])}catch(k){console.error("Error in fetchHeroVideos:",k)}},pe=async()=>{E(!0);try{const k=await xr.getAllOrders();C(k)}catch{C([])}finally{E(!1)}},rt=async()=>{V(!0);try{const{data:k,error:R}=await I.from("support_tickets").select("*, user:profiles!support_tickets_user_id_fkey (name, email, id)").order("updated_at",{ascending:!1});J(k||[])}catch{J([])}finally{V(!1)}},br=async k=>{V(!0);try{const{data:R,error:Ae}=await I.from("support_messages").select("*, user:profiles!support_messages_user_id_fkey (name, role)").eq("ticket_id",k).order("created_at",{ascending:!0});tt(R||[])}catch{tt([])}finally{V(!1)}},Ka=async(k,R)=>{if(await s(k,{status:R})){F.success(`Product ${R} successfully`);const Le=t.find(ge=>ge.id===k);Le&&await c({type:"system",title:`Product ${R}`,message:`Your product "${Le.name}" has been ${R} by admin.`,data:{product_id:k,status:R}}),await l()}else F.error("Failed to update product status")},qe=async(k,R)=>{await a(k,R)?F.success(`Delivery city ${R?"activated":"deactivated"}`):F.error("Failed to update delivery city")},Ge=async k=>{await o(k)?F.success("Theme updated successfully"):F.error("Failed to update theme")},Wt=async(k,R)=>{const Ae=k.name.split(".").pop(),Le=`${R}_${Date.now()}.${Ae}`,{data:ge,error:qt}=await I.storage.from("hero-videos").upload(Le,k,{upsert:!0});if(qt)throw qt;const{data:Sc}=I.storage.from("hero-videos").getPublicUrl(Le);return Sc.publicUrl},Ht=async k=>{k.preventDefault();try{let R=g.video_url,Ae=g.thumbnail_url;G&&(de(!0),R=await Wt(G,"video"),de(!1)),Tt&&(U(!0),Ae=await Wt(Tt,"thumbnail"),U(!1));const Le={...g,video_url:R,thumbnail_url:Ae};if(v){const{error:ge}=await I.from("hero_videos").update(Le).eq("id",v.id);if(ge)throw ge;F.success("Video updated successfully")}else{const{error:ge}=await I.from("hero_videos").insert([Le]);if(ge)throw ge;F.success("Video added successfully")}w({title:"",description:"",video_url:"",thumbnail_url:"",maker_name:"",location:"",is_active:!0,order_index:1}),ne(null),He(null),x(!1),N(null),oe()}catch(R){de(!1),U(!1),console.error("Error saving video:",R),F.error("Failed to save video")}},Pw=async k=>{if(confirm("Are you sure you want to delete this video?"))try{const{error:R}=await I.from("hero_videos").delete().eq("id",k);if(R)throw R;F.success("Video deleted successfully"),oe()}catch(R){console.error("Error deleting video:",R),F.error("Failed to delete video")}},Ew=k=>{N(k),w({title:k.title,description:k.description,video_url:k.video_url,thumbnail_url:k.thumbnail_url,maker_name:k.maker_name,location:k.location,is_active:k.is_active,order_index:k.order_index}),x(!0)},Tw=async k=>{k.preventDefault();try{let R=[];if(j.targetUsers==="all"){const{data:ge}=await I.from("profiles").select("id");R=(ge==null?void 0:ge.map(qt=>qt.id))||[]}else{const{data:ge}=await I.from("profiles").select("id").eq("role",j.targetUsers==="buyers"?"buyer":"seller");R=(ge==null?void 0:ge.map(qt=>qt.id))||[]}const Ae=R.map(ge=>({user_id:ge,type:j.type,title:j.title,message:j.message,data:{sent_by:"admin",timestamp:new Date().toISOString()}})),{error:Le}=await I.from("notifications").insert(Ae);if(Le)throw Le;F.success(`Notification sent to ${R.length} users`),S({type:"system",title:"",message:"",targetUsers:"all"}),p(!1)}catch(R){console.error("Error sending notification:",R),F.error("Failed to send notification")}},Aw=k=>{ve(k),br(k.id)},Ow=async()=>{if(!(!ee||!M.trim())){V(!0);try{const{error:k}=await I.from("support_messages").insert({ticket_id:ee.id,user_id:e.id,message:M,is_staff:!0});T(""),br(ee.id)}catch{}V(!1)}},Rw=async k=>{if(ee){V(!0);try{await I.from("support_tickets").update({status:k,updated_at:new Date().toISOString()}).eq("id",ee.id),ve({...ee,status:k}),rt()}catch{}V(!1)}},Mw=t.filter(k=>{const R=k.name.toLowerCase().includes(Z.toLowerCase())||k.sellerName.toLowerCase().includes(Z.toLowerCase()),Ae=or==="all"||k.status===or;return R&&Ae}),Lw=_.filter(k=>{var Le;const R=k.id.toLowerCase().includes(Z.toLowerCase())||((Le=k.buyer)==null?void 0:Le.name.toLowerCase().includes(Z.toLowerCase())),Ae=is==="all"||is==="today"&&new Date(k.created_at).toDateString()===new Date().toDateString()||is==="week"&&new Date(k.created_at)>new Date(Date.now()-7*24*60*60*1e3);return R&&Ae}),Dw=[{id:"overview",name:"Overview",icon:iw},{id:"products",name:"Products",icon:mt},{id:"orders",name:"Orders",icon:yt},{id:"videos",name:"Hero Videos",icon:Xd},{id:"support",name:"Support",icon:qa},{id:"notifications",name:"Notifications",icon:ta},{id:"settings",name:"Settings",icon:Kn}],Iw=[{label:"Total Users",value:(z==null?void 0:z.totalUsers)||0,icon:Ml,color:"bg-blue-600",change:"+12%",changeType:"positive"},{label:"Total Orders",value:(z==null?void 0:z.totalOrders)||0,icon:yt,color:"bg-green-600",change:"+8%",changeType:"positive"},{label:"Revenue",value:`${(z==null?void 0:z.totalRevenue.toLocaleString())||0}`,icon:Rl,color:"bg-purple-600",change:`+${(z==null?void 0:z.monthlyGrowth)||0}%`,changeType:"positive"},{label:"Pending Reviews",value:P.length,icon:Gs,color:"bg-amber-600",change:"-5%",changeType:"negative"}];return i.jsxs("div",{className:"min-h-screen w-full flex bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-100",children:[i.jsxs("aside",{className:"w-64 min-h-screen bg-white/90 backdrop-blur-sm shadow-xl border-r border-blue-100 flex flex-col py-8 px-4 fixed z-20",children:[i.jsx("div",{className:"mb-10",children:i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("div",{className:"bg-blue-600 p-2 rounded-xl",children:i.jsx(Ml,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold text-blue-900",children:"Admin Panel"}),i.jsx("p",{className:"text-xs text-blue-600",children:"GiftFlare Management"})]})]})}),i.jsx("nav",{className:"flex flex-col gap-2 flex-1",children:Dw.map(k=>{const R=k.icon;return i.jsxs("button",{onClick:()=>d(k.id),className:`flex items-center gap-3 px-4 py-3 rounded-lg font-semibold transition-all relative ${u===k.id?"bg-blue-600 text-white shadow-lg":"text-blue-700 hover:bg-blue-100"}`,children:[u===k.id&&i.jsx("span",{className:"absolute left-0 top-0 h-full w-1 bg-blue-500 rounded-r-lg"}),i.jsx(R,{className:"w-5 h-5"}),k.name,k.id==="products"&&P.length>0&&i.jsx("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:P.length})]},k.id)})}),i.jsx("div",{className:"mt-auto pt-4 border-t border-blue-100",children:i.jsxs("div",{className:"text-xs text-blue-600 text-center",children:["Logged in as ",e==null?void 0:e.name]})})]}),i.jsx("main",{className:"flex-1 ml-64 min-h-screen flex flex-col",children:i.jsxs("div",{className:"flex-1 p-8 overflow-y-auto",children:[u==="overview"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Dashboard Overview"}),i.jsxs("p",{className:"text-blue-700 mt-1",children:["Welcome back, ",e==null?void 0:e.name]})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[i.jsx(FE,{className:"w-4 h-4"}),i.jsx("span",{children:"Export Report"})]})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:Iw.map((k,R)=>{const Ae=k.icon;return i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:R*.1},className:"bg-white p-6 rounded-2xl shadow-sm border border-blue-100 hover:shadow-md transition-shadow",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:`${k.color} p-3 rounded-xl`,children:i.jsx(Ae,{className:"w-6 h-6 text-white"})}),i.jsx("div",{className:`text-xs font-medium px-2 py-1 rounded-full ${k.changeType==="positive"?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:k.change})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-2xl font-bold text-blue-900 mb-1",children:k.value}),i.jsx("p",{className:"text-sm text-blue-700",children:k.label})]})]},k.label)})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Top Products"}),i.jsx("div",{className:"space-y-4",children:z==null?void 0:z.topProducts.slice(0,5).map((k,R)=>i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("img",{src:k.product.image,alt:k.product.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-blue-900",children:k.product.name}),i.jsxs("p",{className:"text-sm text-blue-600",children:[k.orderCount," orders"]})]}),i.jsx("div",{className:"text-right",children:i.jsxs("p",{className:"font-semibold text-blue-900",children:["",k.product.price.toLocaleString()]})})]},R))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Recent Activity"}),i.jsx("div",{className:"space-y-4",children:z==null?void 0:z.recentActivity.slice(0,5).map((k,R)=>i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"bg-blue-100 p-2 rounded-lg",children:i.jsx(yt,{className:"w-4 h-4 text-blue-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-blue-900",children:k.description}),i.jsx("p",{className:"text-xs text-blue-600",children:new Date(k.timestamp).toLocaleString()})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.status==="delivered"?"bg-green-100 text-green-700":k.status==="shipped"?"bg-blue-100 text-blue-700":"bg-yellow-100 text-yellow-700"}`,children:k.status})]},R))})]})]})]}),u==="products"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Product Management"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ks,{className:"w-5 h-5 text-blue-500 absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Search products...",value:Z,onChange:k=>vr(k.target.value),className:"pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("select",{value:or,onChange:k=>Ga(k.target.value),className:"border border-blue-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Status"}),i.jsx("option",{value:"pending",children:"Pending"}),i.jsx("option",{value:"approved",children:"Approved"}),i.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Product"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Seller"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Price"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-blue-100",children:Mw.map(k=>i.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:k.image,alt:k.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-blue-900",children:k.name}),i.jsx("p",{className:"text-sm text-blue-600",children:k.category})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-blue-900",children:k.sellerName}),k.instantDeliveryEligible&&i.jsx(vt,{className:"w-4 h-4 text-green-500"})]})}),i.jsxs("td",{className:"px-6 py-4 font-semibold text-blue-900",children:["",k.price.toLocaleString()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k.status==="approved"?"bg-green-100 text-green-700":k.status==="rejected"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:k.status})}),i.jsx("td",{className:"px-6 py-4 text-sm text-blue-600",children:new Date(k.createdAt).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[k.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Ka(k.id,"approved"),className:"bg-green-500 hover:bg-green-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:"Approve"}),i.jsx("button",{onClick:()=>Ka(k.id,"rejected"),className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1 rounded-lg text-sm transition-colors",children:"Reject"})]}),i.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",children:i.jsx(Gn,{className:"w-4 h-4"})})]})})]},k.id))})]})})})]}),u==="orders"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Order Management"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ks,{className:"w-5 h-5 text-blue-500 absolute left-3 top-3"}),i.jsx("input",{type:"text",placeholder:"Search orders...",value:Z,onChange:k=>vr(k.target.value),className:"pl-10 pr-4 py-2 border border-blue-200 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),i.jsxs("select",{value:is,onChange:k=>Nc(k.target.value),className:"border border-blue-200 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Time"}),i.jsx("option",{value:"today",children:"Today"}),i.jsx("option",{value:"week",children:"This Week"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 overflow-hidden",children:O?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-blue-600 mt-2",children:"Loading orders..."})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Order ID"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Customer"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Items"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Total"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Actions"})]})}),i.jsx("tbody",{className:"divide-y divide-blue-100",children:Lw.map(k=>{var R,Ae;return i.jsxs("tr",{className:"hover:bg-blue-50 transition-colors",children:[i.jsxs("td",{className:"px-6 py-4 font-mono text-sm",children:["#",k.id.slice(-8).toUpperCase()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-blue-900",children:((R=k.buyer)==null?void 0:R.name)||"Unknown"}),i.jsx("p",{className:"text-sm text-blue-600",children:(Ae=k.buyer)==null?void 0:Ae.email})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"space-y-1",children:[k.items.slice(0,2).map((Le,ge)=>{var qt;return i.jsxs("div",{className:"text-sm",children:[i.jsx("span",{className:"text-blue-900",children:(qt=Le.product)==null?void 0:qt.name}),i.jsxs("span",{className:"text-blue-600",children:[" x",Le.quantity]})]},ge)}),k.items.length>2&&i.jsxs("p",{className:"text-xs text-blue-600",children:["+",k.items.length-2," more"]})]})}),i.jsxs("td",{className:"px-6 py-4 font-semibold text-blue-900",children:["",(k.total_amount/100).toLocaleString()]}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${k.status==="delivered"?"bg-green-100 text-green-700":k.status==="shipped"?"bg-blue-100 text-blue-700":k.status==="confirmed"?"bg-purple-100 text-purple-700":"bg-yellow-100 text-yellow-700"}`,children:k.status})}),i.jsx("td",{className:"px-6 py-4 text-sm text-blue-600",children:new Date(k.created_at).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("button",{className:"text-blue-600 hover:text-blue-800 p-1",children:i.jsx(Gn,{className:"w-4 h-4"})})})]},k.id)})})]})})})]}),u==="videos"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Hero Videos Management"}),i.jsxs("button",{onClick:()=>x(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[i.jsx(Yn,{className:"w-4 h-4"}),i.jsx("span",{children:"Add Video"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h.map(k=>i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 overflow-hidden",children:[i.jsx("div",{className:"aspect-video bg-gray-100",children:i.jsx("img",{src:k.thumbnail_url,alt:k.title,className:"w-full h-full object-cover"})}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:k.title}),i.jsx("p",{className:"text-sm text-blue-600 mb-2",children:k.description}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-blue-500 mb-4",children:[i.jsxs("span",{children:["by ",k.maker_name]}),i.jsx("span",{children:k.location})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.is_active?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:k.is_active?"Active":"Inactive"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("button",{onClick:()=>Ew(k),className:"text-blue-600 hover:text-blue-800 p-1",children:i.jsx(cw,{className:"w-4 h-4"})}),i.jsx("button",{onClick:()=>Pw(k.id),className:"text-red-600 hover:text-red-800 p-1",children:i.jsx(_a,{className:"w-4 h-4"})})]})]})]})]},k.id))}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-blue-200",children:[i.jsx("h3",{className:"text-xl font-bold text-blue-900",children:v?"Edit Video":"Add New Video"}),i.jsx("button",{onClick:()=>{x(!1),N(null),ne(null),He(null)},className:"text-blue-600 hover:text-blue-800",children:i.jsx(Ca,{className:"w-6 h-6"})})]}),i.jsxs("form",{onSubmit:Ht,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:g.title,onChange:k=>w(R=>({...R,title:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Maker Name"}),i.jsx("input",{type:"text",value:g.maker_name,onChange:k=>w(R=>({...R,maker_name:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Description"}),i.jsx("textarea",{value:g.description,onChange:k=>w(R=>({...R,description:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Location"}),i.jsx("input",{type:"text",value:g.location,onChange:k=>w(R=>({...R,location:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Il,{type:"video",onFileSelect:ne,currentFile:G,placeholder:"Upload Video"}),ar&&i.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Uploading video..."})]}),i.jsxs("div",{children:[i.jsx(Il,{type:"image",onFileSelect:He,currentFile:Tt,placeholder:"Upload Thumbnail"}),Bt&&i.jsx("p",{className:"text-blue-600 text-sm mt-2",children:"Uploading thumbnail..."})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:g.is_active,onChange:k=>w(R=>({...R,is_active:k.target.checked})),className:"rounded border-blue-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-blue-900",children:"Active"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-1",children:"Order"}),i.jsx("input",{type:"number",value:g.order_index,onChange:k=>w(R=>({...R,order_index:parseInt(k.target.value)})),className:"w-20 border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",min:"1"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>{x(!1),N(null),ne(null),He(null)},className:"px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",disabled:ar||Bt,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50",children:v?"Update Video":"Add Video"})]})]})]})})]}),u==="support"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Customer Support"}),i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 overflow-hidden",children:B?i.jsxs("div",{className:"p-8 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"text-blue-600 mt-2",children:"Loading support tickets..."})]}):ee?i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("button",{onClick:()=>ve(null),className:"text-blue-600 hover:text-blue-800 flex items-center space-x-2",children:[i.jsx("span",{children:""}),i.jsx("span",{children:"Back to tickets"})]}),i.jsx("div",{className:"flex items-center space-x-4",children:i.jsxs("select",{value:ee.status,onChange:k=>Rw(k.target.value),className:"border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"open",children:"Open"}),i.jsx("option",{value:"in_progress",children:"In Progress"}),i.jsx("option",{value:"resolved",children:"Resolved"}),i.jsx("option",{value:"closed",children:"Closed"})]})})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-blue-900",children:ee.subject}),i.jsxs("p",{className:"text-sm text-blue-600",children:[(Yf=ee.user)==null?void 0:Yf.name," (",(Qf=ee.user)==null?void 0:Qf.email,")"]})]}),i.jsx("div",{className:"space-y-4 mb-6 max-h-96 overflow-y-auto",children:te.map(k=>{var R;return i.jsx("div",{className:`flex ${k.is_staff?"justify-start":"justify-end"}`,children:i.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${k.is_staff?"bg-blue-100 text-blue-900":"bg-blue-600 text-white"}`,children:[i.jsx("div",{className:"flex items-center space-x-2 mb-1",children:i.jsx("span",{className:"text-xs font-medium",children:k.is_staff?"Support":((R=k.user)==null?void 0:R.name)||"User"})}),i.jsx("p",{className:"text-sm",children:k.message}),i.jsx("p",{className:"text-xs mt-1 opacity-75",children:new Date(k.created_at).toLocaleString()})]})},k.id)})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:M,onChange:k=>T(k.target.value),placeholder:"Type your reply...",className:"flex-1 border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",disabled:B}),i.jsx("button",{onClick:Ow,disabled:!M.trim()||B,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg disabled:opacity-50 transition-colors",children:i.jsx(Hf,{className:"w-4 h-4"})})]})]}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Subject"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"User"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-blue-900",children:"Updated"})]})}),i.jsx("tbody",{className:"divide-y divide-blue-100",children:W.map(k=>{var R;return i.jsxs("tr",{onClick:()=>Aw(k),className:"hover:bg-blue-50 cursor-pointer transition-colors",children:[i.jsx("td",{className:"px-6 py-4 font-medium text-blue-900",children:k.subject}),i.jsx("td",{className:"px-6 py-4 text-blue-600",children:((R=k.user)==null?void 0:R.name)||"Unknown"}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.status==="open"?"bg-green-100 text-green-700":k.status==="in_progress"?"bg-yellow-100 text-yellow-700":k.status==="resolved"?"bg-blue-100 text-blue-700":"bg-gray-100 text-gray-700"}`,children:k.status})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${k.priority==="urgent"?"bg-red-100 text-red-700":k.priority==="high"?"bg-orange-100 text-orange-700":k.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-gray-100 text-gray-700"}`,children:k.priority})}),i.jsx("td",{className:"px-6 py-4 text-sm text-blue-600",children:new Date(k.updated_at).toLocaleString()})]},k.id)})})]})})})]}),u==="notifications"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Send Notifications"}),i.jsxs("button",{onClick:()=>p(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2",children:[i.jsx(ta,{className:"w-4 h-4"}),i.jsx("span",{children:"New Notification"})]})]}),y&&i.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 p-6",children:i.jsxs("form",{onSubmit:Tw,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Type"}),i.jsxs("select",{value:j.type,onChange:k=>S(R=>({...R,type:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"system",children:"System"}),i.jsx("option",{value:"promotion",children:"Promotion"}),i.jsx("option",{value:"order",children:"Order"}),i.jsx("option",{value:"delivery",children:"Delivery"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Target Users"}),i.jsxs("select",{value:j.targetUsers,onChange:k=>S(R=>({...R,targetUsers:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"all",children:"All Users"}),i.jsx("option",{value:"buyers",children:"Buyers Only"}),i.jsx("option",{value:"sellers",children:"Sellers Only"})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Title"}),i.jsx("input",{type:"text",value:j.title,onChange:k=>S(R=>({...R,title:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-blue-900 mb-2",children:"Message"}),i.jsx("textarea",{value:j.message,onChange:k=>S(R=>({...R,message:k.target.value})),className:"w-full border border-blue-200 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:4,required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 text-blue-600 hover:text-blue-800 transition-colors",children:"Cancel"}),i.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors",children:"Send Notification"})]})]})})]}),u==="settings"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("h2",{className:"text-3xl font-bold text-blue-900",children:"Platform Settings"}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Delivery Cities"}),i.jsx("div",{className:"space-y-3",children:r.map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-blue-900",children:k.name}),i.jsxs("label",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"checkbox",checked:k.isActive,onChange:R=>qe(k.id,R.target.checked),className:"rounded border-blue-300 text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-sm text-blue-600",children:"Active"})]})]},k.id))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-blue-100 p-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-4",children:"Theme Settings"}),i.jsx("div",{className:"space-y-3",children:["default","christmas","diwali"].map(k=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[i.jsx("span",{className:"font-medium text-blue-900 capitalize",children:k}),i.jsx("button",{onClick:()=>Ge(k),className:`px-3 py-1 rounded-lg text-sm font-medium transition-colors ${n.name===k?"bg-blue-600 text-white":"bg-blue-100 text-blue-600 hover:bg-blue-200"}`,children:n.name===k?"Active":"Activate"})]},k))})]})]})]})]})})]})},Y5=()=>{const{user:e}=Ut(),{addToCart:t}=jn(),[r,n]=b.useState([]),[s,a]=b.useState(!0),[o,l]=b.useState(null);b.useEffect(()=>{if(e){c();const m=I.channel("orders").on("postgres_changes",{event:"*",schema:"public",table:"orders",...e.role==="admin"?{}:{filter:`user_id=eq.${e.id}`}},x=>{c()}).subscribe();return()=>{I.removeChannel(m)}}},[e]);const c=async()=>{if(e){a(!0);try{let m=[];e.role==="admin"?m=await xr.getAllOrders():m=await xr.getOrdersByUser(e.id),n(m)}catch(m){console.error("Error fetching orders:",m),F.error("Failed to load order history")}finally{a(!1)}}},u=m=>{switch(m){case"pending":return i.jsx(Gs,{className:"w-5 h-5 text-yellow-500"});case"confirmed":return i.jsx(dn,{className:"w-5 h-5 text-blue-500"});case"shipped":return i.jsx(vt,{className:"w-5 h-5 text-purple-500"});case"delivered":return i.jsx(dn,{className:"w-5 h-5 text-green-500"});case"cancelled":return i.jsx(Ca,{className:"w-5 h-5 text-red-500"});default:return i.jsx(mt,{className:"w-5 h-5 text-gray-500"})}},d=m=>{switch(m){case"pending":return"bg-primary-100 text-primary-800 border-primary-200";case"confirmed":return"bg-accent-100 text-accent-800 border-accent-200";case"shipped":return"bg-support-100 text-support-800 border-support-200";case"delivered":return"bg-green-100 text-green-800 border-green-200";case"cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-neutral-50 text-charcoal-800 border-neutral-200"}},h=m=>{m.items.forEach(x=>{t(x.product,{quantity:x.quantity,giftPackaging:x.giftPackaging})}),F.success("Items added to cart!")},f=m=>{l(m)};return s?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 pt-8",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:i.jsx("div",{className:"flex items-center justify-center py-20",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-amber-600"})})})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50 pt-8",children:i.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-amber-900 mb-2",children:"Order History"}),i.jsx("p",{className:"text-amber-700",children:"Track your orders and reorder your favorites"})]}),r.length===0?i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-16",children:[i.jsx("div",{className:"bg-amber-100 w-24 h-24 rounded-3xl flex items-center justify-center mx-auto mb-6",children:i.jsx(mt,{className:"w-12 h-12 text-amber-600"})}),i.jsx("h3",{className:"text-2xl font-bold text-amber-900 mb-4",children:"No orders yet"}),i.jsx("p",{className:"text-amber-700 mb-8 max-w-md mx-auto",children:"Start shopping for beautiful handmade items and your orders will appear here."}),i.jsx("button",{onClick:()=>window.location.href="/shop",className:"bg-amber-600 hover:bg-amber-700 text-white px-8 py-3 rounded-xl font-semibold transition-all shadow-lg",children:"Start Shopping"})]}):i.jsx("div",{className:"space-y-6",children:r.map((m,x)=>i.jsxs(L.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:x*.1},className:"bg-white rounded-2xl shadow-sm border border-amber-100 overflow-hidden",children:[i.jsx("div",{className:"p-6 border-b border-amber-100 bg-amber-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 md:mb-0",children:[i.jsx("div",{className:"bg-amber-600 p-3 rounded-xl",children:i.jsx(mt,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-amber-900",children:["Order #",m.id.slice(-8).toUpperCase()]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-amber-700",children:[i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(zf,{className:"w-4 h-4"}),i.jsx("span",{children:Oa(new Date(m.created_at),{addSuffix:!0})})]}),i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(Ol,{className:"w-4 h-4"}),i.jsxs("span",{children:["",(m.total_amount/100).toLocaleString()]})]})]}),e.role==="admin"&&m.buyer&&i.jsxs("div",{className:"mt-1 text-xs text-amber-700",children:[i.jsx("span",{className:"font-semibold",children:"Buyer:"})," ",m.buyer.name," (",m.buyer.email,")"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("div",{className:`flex items-center space-x-2 px-3 py-2 rounded-full border ${d(m.status)}`,children:[u(m.status),i.jsx("span",{className:"text-sm font-medium capitalize",children:m.status})]}),m.delivery_type==="instant"&&i.jsxs("div",{className:"bg-green-100 text-green-800 px-3 py-2 rounded-full text-sm font-medium border border-green-200",children:[i.jsx(vt,{className:"w-4 h-4 inline mr-1"}),"Instant"]})]})]})}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[m.items.slice(0,3).map((v,N)=>i.jsxs("div",{className:"flex items-center space-x-3 bg-amber-50 rounded-lg p-3",children:[i.jsx("img",{src:v.product.image,alt:v.product.name,className:"w-12 h-12 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-medium text-amber-900 text-sm truncate",children:v.product.name}),i.jsxs("div",{className:"flex items-center space-x-2 text-xs text-amber-600",children:[i.jsxs("span",{children:["Qty: ",v.quantity]}),v.giftPackaging&&i.jsxs("div",{className:"flex items-center space-x-1",children:[i.jsx(kt,{className:"w-3 h-3"}),i.jsx("span",{children:"Gift"})]})]}),e.role==="admin"&&v.seller&&i.jsxs("div",{className:"mt-1 text-xs text-amber-700",children:[i.jsx("span",{className:"font-semibold",children:"Seller:"})," ",v.seller.name," (",v.seller.email,")"]})]})]},N)),m.items.length>3&&i.jsxs("div",{className:"flex items-center justify-center bg-amber-100 rounded-lg p-3 text-amber-700 font-medium",children:["+",m.items.length-3," more items"]})]}),i.jsx("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx(Kn,{className:"w-5 h-5 text-gray-600 mt-0.5"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Delivery Address"}),i.jsxs("p",{className:"text-sm text-gray-700",children:[m.delivery_address.name,i.jsx("br",{}),m.delivery_address.address,i.jsx("br",{}),m.delivery_address.city,", ",m.delivery_address.pincode]}),m.tracking_number&&i.jsxs("p",{className:"text-sm text-blue-600 mt-2",children:[i.jsx("strong",{children:"Tracking:"})," ",m.tracking_number]})]})]})}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("button",{onClick:()=>f(m),className:"flex-1 bg-amber-100 text-amber-700 py-3 px-4 rounded-xl font-semibold hover:bg-amber-200 transition-colors flex items-center justify-center space-x-2",children:[i.jsx(Gn,{className:"w-4 h-4"}),i.jsx("span",{children:"View Details"})]}),e.role!=="admin"&&i.jsxs("button",{onClick:()=>h(m),className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white py-3 px-4 rounded-xl font-semibold transition-colors flex items-center justify-center space-x-2",children:[i.jsx(GE,{className:"w-4 h-4"}),i.jsx("span",{children:"Reorder"})]})]})]})]},m.id))}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs(L.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white rounded-2xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-amber-200",children:[i.jsxs("h2",{className:"text-2xl font-bold text-amber-900",children:["Order Details #",o.id.slice(-8).toUpperCase()]}),i.jsx("button",{onClick:()=>l(null),className:"text-amber-600 hover:text-amber-800 p-2",children:i.jsx(Ca,{className:"w-6 h-6"})})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"bg-amber-50 rounded-lg p-4 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-3",children:[u(o.status),i.jsx("span",{className:"font-semibold text-amber-900 capitalize",children:o.status})]}),i.jsx("span",{className:"text-sm text-amber-700",children:Oa(new Date(o.updated_at),{addSuffix:!0})})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-semibold text-amber-900 mb-4",children:"Items Ordered"}),i.jsx("div",{className:"space-y-4",children:o.items.map((m,x)=>i.jsxs("div",{className:"flex items-center space-x-4 p-4 bg-amber-50 rounded-lg",children:[i.jsx("img",{src:m.product.image,alt:m.product.name,className:"w-16 h-16 rounded-lg object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-amber-900",children:m.product.name}),i.jsxs("p",{className:"text-sm text-amber-700",children:["by ",m.product.sellerName]}),i.jsxs("div",{className:"flex items-center space-x-4 text-sm text-amber-600 mt-1",children:[i.jsxs("span",{children:["Qty: ",m.quantity]}),i.jsxs("span",{children:["",m.product.price.toLocaleString()," each"]}),m.giftPackaging&&i.jsxs("div",{className:"flex items-center space-x-1 text-orange-600",children:[i.jsx(kt,{className:"w-3 h-3"}),i.jsx("span",{children:"Gift wrapped"})]})]}),m.giftNote&&i.jsxs("p",{className:"text-sm text-gray-600 mt-2 italic",children:['Gift note: "',m.giftNote,'"']})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"font-semibold text-amber-900",children:["",(m.product.price*m.quantity).toLocaleString()]})})]},x))})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[i.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Order Summary"}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Subtotal"}),i.jsxs("span",{children:["",((o.total_amount-3e3)/100).toLocaleString()]})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:"Delivery"}),i.jsx("span",{children:"30"})]}),i.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[i.jsx("span",{children:"Total"}),i.jsxs("span",{children:["",(o.total_amount/100).toLocaleString()]})]})]})]}),i.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[i.jsx("h3",{className:"font-semibold text-blue-900 mb-3",children:"Delivery Information"}),i.jsxs("div",{className:"text-sm text-blue-800",children:[i.jsxs("p",{children:[i.jsx("strong",{children:"Type:"})," ",o.delivery_type==="instant"?"Instant Delivery":"Standard Delivery"]}),i.jsxs("p",{children:[i.jsx("strong",{children:"Address:"})," ",o.delivery_address.address]}),i.jsxs("p",{children:[i.jsx("strong",{children:"City:"})," ",o.delivery_address.city]}),o.tracking_number&&i.jsxs("p",{children:[i.jsx("strong",{children:"Tracking:"})," ",o.tracking_number]}),o.estimated_delivery&&i.jsxs("p",{children:[i.jsx("strong",{children:"Estimated Delivery:"})," ",new Date(o.estimated_delivery).toLocaleDateString()]})]})]})]})]})})]})})},Q5=()=>{const{id:e}=B2(),t=ri(),{user:r}=Ut(),{addToCart:n}=jn(),[s,a]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,h]=b.useState(""),[f,m]=b.useState(5),[x,v]=b.useState(!0),[N,y]=b.useState(!1),[p,g]=b.useState([]),[w,j]=b.useState(!1),[S,_]=b.useState(1);b.useState(0);const[C,O]=b.useState(!1);b.useState(!1),b.useState(!1);const[E,W]=b.useState(!1),[J,ee]=b.useState(""),[ve,te]=b.useState(!1);b.useEffect(()=>{e&&(tt(),M())},[e]),b.useEffect(()=>{s&&T()},[s]);const tt=async()=>{var U,z,zt;v(!0);try{const{data:Z,error:vr}=await I.from("products").select(`
          *,
          profiles!products_seller_id_fkey (
            name,
            city,
            is_verified
          )
        `).eq("id",e).single();if(vr)throw vr;const or={id:Z.id,name:Z.name,price:Z.price>1e3?Z.price/100:Z.price,image:Z.image_url||"https://images.pexels.com/photos/1030303/pexels-photo-1030303.jpeg?auto=compress&cs=tinysrgb&w=800",description:Z.description,video_url:Z.video_url,category:Z.category,section:Z.section,weight:Z.weight,customisable:Z.customisable,customQuestions:Z.custom_questions,instant_delivery_eligible:Z.instant_delivery_eligible,seller_id:Z.seller_id,sellerName:((U=Z.profiles)==null?void 0:U.name)||"Unknown Seller",sellerCity:(z=Z.profiles)==null?void 0:z.city,sellerVerified:(zt=Z.profiles)==null?void 0:zt.is_verified,created_at:Z.created_at};a(or),u(or.customQuestions?Array(or.customQuestions.length).fill(""):[])}catch(Z){console.error("Error fetching product:",Z),F.error("Failed to load product")}finally{v(!1)}},M=async()=>{try{const{data:U,error:z}=await I.from("reviews").select("*, user:profiles!reviews_user_id_fkey (name)").eq("product_id",e).order("created_at",{ascending:!1});if(z)throw z;l(U||[])}catch(U){console.error("Error fetching reviews:",U)}},T=async()=>{if(s)try{const{data:U}=await I.from("products").select(`
          *,
          profiles!products_seller_id_fkey (name)
        `).neq("id",s.id).or(`category.eq.${s.category},section.eq.${s.section}`).eq("status","approved").limit(4);g(U||[])}catch(U){console.error("Error fetching similar products:",U)}},B=(U,z)=>{u(zt=>zt.map((Z,vr)=>vr===U?z:Z))},V=async U=>{if(U.preventDefault(),!r){F.error("Please login to submit a review");return}y(!0);try{const{error:z}=await I.from("reviews").insert({product_id:e,user_id:r.id,rating:f,comment:d});if(z)throw z;h(""),m(5),te(!1),M(),F.success("Review submitted successfully!")}catch(z){console.error("Error submitting review:",z),F.error("Failed to submit review")}finally{y(!1)}},G=()=>{s&&(n(s,{quantity:S,giftPackaging:E,giftNote:E?J:void 0}),F.success("Added to cart!"))},ne=()=>{G(),t("/checkout")},Tt=async()=>{if(navigator.share)try{await navigator.share({title:s==null?void 0:s.name,text:s==null?void 0:s.description,url:window.location.href})}catch(U){console.log("Error sharing:",U)}else navigator.clipboard.writeText(window.location.href),F.success("Link copied to clipboard!")},He=()=>o.length===0?0:o.reduce((U,z)=>U+z.rating,0)/o.length,ar=()=>{const U=[0,0,0,0,0];return o.forEach(z=>{U[z.rating-1]++}),U.reverse()};if(x||!s)return i.jsx("div",{className:"min-h-screen bg-gradient-elegant flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blush-600"})});const de=He(),Bt=ar();return i.jsx("div",{className:"min-h-screen bg-gradient-elegant",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[i.jsxs(L.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},onClick:()=>t(-1),className:"flex items-center space-x-2 text-charcoal-600 hover:text-charcoal-800 mb-8 group",children:[i.jsx(AE,{className:"w-5 h-5 group-hover:-translate-x-1 transition-transform"}),i.jsx("span",{className:"font-medium",children:"Back to Products"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[i.jsxs(L.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},className:"space-y-4",children:[i.jsxs("div",{className:"relative aspect-square bg-cream-100 rounded-2xl overflow-hidden",children:[i.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"}),i.jsxs("div",{className:"absolute top-4 left-4 space-y-2",children:[i.jsx(Cw,{product:s}),s.customisable&&i.jsx("div",{className:"bg-mint-100 text-mint-800 text-xs px-3 py-1.5 rounded-full font-semibold",children:"Customisable"})]}),i.jsxs("div",{className:"absolute top-4 right-4 space-y-2",children:[i.jsx("button",{onClick:()=>j(!w),className:"bg-white/90 backdrop-blur-sm p-3 rounded-full hover:bg-white transition-colors shadow-lg",children:i.jsx(rs,{className:`w-5 h-5 ${w?"text-red-500 fill-current":"text-charcoal-600"}`})}),i.jsx("button",{onClick:Tt,className:"bg-white/90 backdrop-blur-sm p-3 rounded-full hover:bg-white transition-colors shadow-lg",children:i.jsx(YE,{className:"w-5 h-5 text-charcoal-600"})})]}),s.video_url&&i.jsx("button",{onClick:()=>O(!0),className:"absolute bottom-4 right-4 bg-blush-600 text-white p-3 rounded-full hover:bg-blush-700 transition-colors shadow-lg",children:i.jsx(Wf,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"grid grid-cols-4 gap-2",children:[1,2,3,4].map((U,z)=>i.jsx("div",{className:"aspect-square bg-cream-200 rounded-lg cursor-pointer hover:opacity-75 transition-opacity",children:i.jsx("img",{src:s.image,alt:`${s.name} ${z+1}`,className:"w-full h-full object-cover rounded-lg"})},z))})]}),i.jsxs(L.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-charcoal-800 mb-2 font-serif",children:s.name}),i.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[i.jsxs("span",{className:"text-3xl font-bold text-blush-600",children:["",s.price.toLocaleString()]}),s.weight&&i.jsxs("span",{className:"text-charcoal-600",children:[s.weight,"g"]})]})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((U,z)=>i.jsx(en,{className:`w-5 h-5 ${z<Math.floor(de)?"text-yellow-400 fill-current":"text-charcoal-300"}`},z))}),i.jsxs("span",{className:"text-charcoal-700 font-medium",children:[de.toFixed(1)," (",o.length," reviews)"]})]}),i.jsx("div",{className:"bg-cream-50 rounded-xl p-4 border border-cream-200",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"bg-blush-600 p-2 rounded-full",children:i.jsx(Ar,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"font-semibold text-charcoal-800",children:s.sellerName}),s.sellerVerified&&i.jsx(OE,{className:"w-4 h-4 text-blue-500"})]}),i.jsxs("div",{className:"flex items-center space-x-1 text-sm text-charcoal-600",children:[i.jsx(Kn,{className:"w-3 h-3"}),i.jsx("span",{children:s.sellerCity})]})]})]})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-charcoal-800 mb-3",children:"Description"}),i.jsx("p",{className:"text-charcoal-600 leading-relaxed",children:s.description})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"bg-cream-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(mt,{className:"w-4 h-4 text-charcoal-600"}),i.jsx("span",{className:"font-medium text-charcoal-800",children:"Category"})]}),i.jsx("span",{className:"text-charcoal-600",children:s.category})]}),s.section&&i.jsxs("div",{className:"bg-cream-50 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(sw,{className:"w-4 h-4 text-charcoal-600"}),i.jsx("span",{className:"font-medium text-charcoal-800",children:"Section"})]}),i.jsx("span",{className:"text-charcoal-600",children:s.section})]})]}),i.jsxs("div",{className:"bg-mint-50 rounded-xl p-4 border border-mint-200",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx(vt,{className:"w-5 h-5 text-mint-600"}),i.jsx("span",{className:"font-semibold text-mint-800",children:"Delivery Information"})]}),i.jsx("p",{className:"text-mint-700",children:s.instant_delivery_eligible?"Available for instant delivery (2-4 hours)":"Standard delivery (3-7 business days)"})]}),s.customisable&&s.customQuestions&&i.jsxs("div",{className:"bg-lavender-50 rounded-xl p-4 border border-lavender-200",children:[i.jsx("h3",{className:"font-semibold text-lavender-900 mb-3",children:"Customization Options"}),i.jsx("div",{className:"space-y-3",children:s.customQuestions.map((U,z)=>i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-lavender-800 mb-1",children:U}),i.jsx("input",{type:"text",value:c[z],onChange:zt=>B(z,zt.target.value),className:"w-full border border-lavender-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-lavender-500 focus:border-transparent",placeholder:"Your answer..."})]},z))})]}),i.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[i.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer mb-3",children:[i.jsx("input",{type:"checkbox",checked:E,onChange:U=>W(U.target.checked),className:"rounded border-orange-300 text-orange-600 focus:ring-orange-500"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(kt,{className:"w-4 h-4 text-orange-600"}),i.jsx("span",{className:"font-medium text-orange-900",children:"Gift packaging (+30)"})]})]}),E&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-orange-800 mb-2",children:"Gift note (optional)"}),i.jsx("textarea",{value:J,onChange:U=>ee(U.target.value),placeholder:"Write a personal message...",className:"w-full border border-orange-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none",rows:3})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("span",{className:"font-medium text-charcoal-800",children:"Quantity:"}),i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("button",{onClick:()=>_(Math.max(1,S-1)),className:"w-10 h-10 bg-cream-200 rounded-full flex items-center justify-center hover:bg-cream-300 transition-colors",children:"-"}),i.jsx("span",{className:"font-semibold text-charcoal-900 w-8 text-center",children:S}),i.jsx("button",{onClick:()=>_(S+1),className:"w-10 h-10 bg-cream-200 rounded-full flex items-center justify-center hover:bg-cream-300 transition-colors",children:"+"})]})]}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("button",{onClick:G,className:"flex-1 bg-blush-600 hover:bg-blush-700 text-white py-4 px-6 rounded-xl font-semibold transition-all flex items-center justify-center space-x-2 shadow-lg",children:[i.jsx(yt,{className:"w-5 h-5"}),i.jsx("span",{children:"Add to Cart"})]}),i.jsx("button",{onClick:ne,className:"flex-1 bg-charcoal-800 hover:bg-charcoal-900 text-white py-4 px-6 rounded-xl font-semibold transition-all",children:"Buy Now"})]})]}),i.jsxs("div",{className:"flex items-center justify-center space-x-6 py-4 border-t border-cream-200",children:[i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-charcoal-600",children:[i.jsx(QE,{className:"w-4 h-4"}),i.jsx("span",{children:"Secure Payment"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-charcoal-600",children:[i.jsx(vt,{className:"w-4 h-4"}),i.jsx("span",{children:"Fast Delivery"})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-sm text-charcoal-600",children:[i.jsx(dn,{className:"w-4 h-4"}),i.jsx("span",{children:"Quality Assured"})]})]})]})]}),i.jsx(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.3},className:"mt-16",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-cream-200 p-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-charcoal-800",children:"Customer Reviews"}),r&&i.jsx("button",{onClick:()=>te(!0),className:"bg-blush-600 hover:bg-blush-700 text-white px-4 py-2 rounded-lg transition-colors",children:"Write Review"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-4xl font-bold text-charcoal-800 mb-2",children:de.toFixed(1)}),i.jsx("div",{className:"flex items-center justify-center space-x-1 mb-2",children:[...Array(5)].map((U,z)=>i.jsx(en,{className:`w-6 h-6 ${z<Math.floor(de)?"text-yellow-400 fill-current":"text-charcoal-300"}`},z))}),i.jsxs("p",{className:"text-charcoal-600",children:["Based on ",o.length," reviews"]})]}),i.jsx("div",{className:"space-y-2",children:Bt.map((U,z)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("span",{className:"text-sm text-charcoal-600 w-8",children:[5-z,""]}),i.jsx("div",{className:"flex-1 bg-cream-200 rounded-full h-2",children:i.jsx("div",{className:"bg-yellow-400 h-2 rounded-full",style:{width:o.length>0?`${U/o.length*100}%`:"0%"}})}),i.jsx("span",{className:"text-sm text-charcoal-600 w-8",children:U})]},z))})]}),i.jsx(Vt,{children:ve&&i.jsxs(L.form,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},onSubmit:V,className:"bg-cream-50 rounded-xl p-6 mb-8 border border-cream-200",children:[i.jsx("h3",{className:"font-semibold text-charcoal-800 mb-4",children:"Write a Review"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-charcoal-700 mb-2",children:"Your Rating"}),i.jsx("div",{className:"flex items-center space-x-1",children:[1,2,3,4,5].map(U=>i.jsx("button",{type:"button",onClick:()=>m(U),className:"focus:outline-none",children:i.jsx(en,{className:`w-6 h-6 ${U<=f?"text-yellow-400 fill-current":"text-charcoal-300"}`})},U))})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-charcoal-700 mb-2",children:"Your Review"}),i.jsx("textarea",{value:d,onChange:U=>h(U.target.value),className:"w-full border border-cream-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blush-500 focus:border-transparent",rows:4,placeholder:"Share your experience with this product...",required:!0})]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{type:"button",onClick:()=>te(!1),className:"px-4 py-2 text-charcoal-600 hover:text-charcoal-800 transition-colors",children:"Cancel"}),i.jsxs("button",{type:"submit",disabled:N,className:"bg-blush-600 hover:bg-blush-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50 flex items-center space-x-2",children:[i.jsx(Hf,{className:"w-4 h-4"}),i.jsx("span",{children:N?"Submitting...":"Submit Review"})]})]})]})}),i.jsx("div",{className:"space-y-6",children:o.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(qa,{className:"w-12 h-12 text-charcoal-300 mx-auto mb-4"}),i.jsx("p",{className:"text-charcoal-600",children:"No reviews yet. Be the first to review this product!"})]}):o.map(U=>{var z;return i.jsx("div",{className:"border-b border-cream-200 pb-6 last:border-b-0",children:i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsx("div",{className:"bg-blush-100 p-2 rounded-full",children:i.jsx(Ar,{className:"w-5 h-5 text-blush-600"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[i.jsx("span",{className:"font-semibold text-charcoal-800",children:((z=U.user)==null?void 0:z.name)||"Anonymous"}),i.jsx("div",{className:"flex items-center space-x-1",children:[...Array(5)].map((zt,Z)=>i.jsx(en,{className:`w-4 h-4 ${Z<U.rating?"text-yellow-400 fill-current":"text-charcoal-300"}`},Z))}),i.jsx("span",{className:"text-sm text-charcoal-500",children:new Date(U.created_at).toLocaleDateString()})]}),i.jsx("p",{className:"text-charcoal-700 leading-relaxed",children:U.comment}),i.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[i.jsxs("button",{className:"flex items-center space-x-1 text-sm text-charcoal-500 hover:text-charcoal-700 transition-colors",children:[i.jsx(ZE,{className:"w-4 h-4"}),i.jsx("span",{children:"Helpful"})]}),i.jsxs("button",{className:"flex items-center space-x-1 text-sm text-charcoal-500 hover:text-charcoal-700 transition-colors",children:[i.jsx(VE,{className:"w-4 h-4"}),i.jsx("span",{children:"Report"})]})]})]})]})},U.id)})})]})}),p.length>0&&i.jsxs(L.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.4},className:"mt-16",children:[i.jsx("h2",{className:"text-2xl font-bold text-charcoal-800 mb-8",children:"You Might Also Like"}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:p.map(U=>{var z;return i.jsxs("div",{onClick:()=>t(`/product/${U.id}`),className:"bg-white rounded-xl shadow-sm border border-cream-200 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",children:[i.jsx("img",{src:U.image_url||"https://images.pexels.com/photos/1030303/pexels-photo-1030303.jpeg?auto=compress&cs=tinysrgb&w=800",alt:U.name,className:"w-full h-48 object-cover"}),i.jsxs("div",{className:"p-4",children:[i.jsx("h3",{className:"font-semibold text-charcoal-800 mb-2 line-clamp-2",children:U.name}),i.jsxs("p",{className:"text-blush-600 font-bold mb-2",children:["",(U.price>1e3?U.price/100:U.price).toLocaleString()]}),i.jsxs("p",{className:"text-sm text-charcoal-600",children:["by ",((z=U.profiles)==null?void 0:z.name)||"Unknown Seller"]})]})]},U.id)})})]}),i.jsx(Vt,{children:C&&s.video_url&&i.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-90 z-50 flex items-center justify-center p-4",onClick:()=>O(!1),children:i.jsxs(L.div,{initial:{scale:.9},animate:{scale:1},exit:{scale:.9},className:"relative max-w-4xl w-full aspect-video",onClick:U=>U.stopPropagation(),children:[i.jsx("video",{src:s.video_url,controls:!0,autoPlay:!0,className:"w-full h-full rounded-lg"}),i.jsx("button",{onClick:()=>O(!1),className:"absolute -top-12 right-0 text-white hover:text-gray-300 transition-colors",children:i.jsx(X,{className:"w-8 h-8"})})]})})})]})})};function J5(){return i.jsx(j_,{children:i.jsx(__,{children:i.jsx(S_,{children:i.jsx(C_,{children:i.jsx(P_,{children:i.jsxs(uN,{children:[i.jsx(I5,{}),i.jsxs(M5,{children:[i.jsxs(nN,{children:[i.jsx(Kt,{path:"/",element:i.jsx(V5,{})}),i.jsx(Kt,{path:"/login",element:i.jsx(U5,{})}),i.jsx(Kt,{path:"/register",element:i.jsx(B5,{})}),i.jsx(Kt,{path:"/shop",element:i.jsx(z5,{})}),i.jsx(Kt,{path:"/gift-suggester",element:i.jsx(H5,{})}),i.jsx(Kt,{path:"/hamper-builder",element:i.jsx(q5,{})}),i.jsx(Kt,{path:"/orders",element:i.jsx(_u,{children:i.jsx(Y5,{})})}),i.jsx(Kt,{path:"/seller/dashboard",element:i.jsx(_u,{requiredRole:"seller",children:i.jsx(G5,{})})}),i.jsx(Kt,{path:"/admin/dashboard",element:i.jsx(_u,{requiredRole:"admin",children:i.jsx(K5,{})})}),i.jsx(Kt,{path:"/product/:id",element:i.jsx(Q5,{})})]}),i.jsx(L5,{}),i.jsx(D5,{})]}),i.jsx(nS,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#f9fafb",color:"#374151",border:"1px solid #bae6fd"},success:{style:{background:"#d1fae5",color:"#065f46",border:"1px solid #6ee7b7"}},error:{style:{background:"#fee2e2",color:"#be123c",border:"1px solid #fda4af"}}}})]})})})})})})}Oy(document.getElementById("root")).render(i.jsx(b.StrictMode,{children:i.jsx(J5,{})}));
